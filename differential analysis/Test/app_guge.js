var __hacked=window.__hacked||{global:window.global,Function:Function,setTimeout:setTimeout,setInterval:setInterval,setImmediate:setImmediate,eval:eval,requestAnimationFrame:requestAnimationFrame};window.define("libs/bdMap/bdmap-sdk",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.key?this.ak=t.key:this.ak=t.ak}return a(e,[{key:"getWXLocation",value:function(e,t,a,o){e=e||"gcj02",t=t||function(){},a=a||function(){},o=o||function(){},n.getLocation({type:e,success:t,fail:a,complete:o})}},{key:"search",value:function(e){var t={query:(e=e||{}).query||"生活服务$美食&酒店",scope:e.scope||1,filter:e.filter||"",coord_type:e.coord_type||2,page_size:e.page_size||10,page_num:e.page_num||0,output:e.output||"json",ak:this.ak,sn:e.sn||"",timestamp:e.timestamp||"",radius:e.radius||2e3,ret_coordtype:"gcj02ll"},a={iconPath:e.iconPath,iconTapPath:e.iconTapPath,width:e.width,height:e.height,alpha:e.alpha||1,success:e.success||function(){},fail:e.fail||function(){}},o=function(e){t.location=e.latitude+","+e.longitude,n.request({url:"ws://api.map.baidu.com/place/v2/search",data:t,header:{"content-type":"application/json"},method:"GET",success:function(e){var t=e.data;if(0===t.status){var o=t.results,n={};n.originalData=t,n.wxMarkerData=[];for(var i=0;i<o.length;i++)n.wxMarkerData[i]={id:i,latitude:o[i].location.lat,longitude:o[i].location.lng,title:o[i].name,iconPath:a.iconPath,iconTapPath:a.iconTapPath,address:o[i].address,telephone:o[i].telephone,alpha:a.alpha,width:a.width,height:a.height};a.success(n)}else a.fail({errMsg:t.message,statusCode:t.status})},fail:function(e){a.fail(e)}})};if(e.location){var i=e.location.split(",")[1];o({errMsg:"input location",latitude:e.location.split(",")[0],longitude:i})}else this.getWXLocation("gcj02",o,(function(e){a.fail(e)}),(function(e){}))}},{key:"suggestion",value:function(e){var t={query:(e=e||{}).query||"",region:e.region||"全国",city_limit:e.city_limit||!1,output:e.output||"json",ak:this.ak,sn:e.sn||"",timestamp:e.timestamp||"",ret_coordtype:"gcj02ll"},a={success:e.success||function(){},fail:e.fail||function(){}};n.request({url:"https://api.map.baidu.com/place/v2/suggestion",data:t,header:{"content-type":"application/json"},method:"GET",success:function(e){var t=e.data;0===t.status?a.success(t):a.fail({errMsg:t.message,statusCode:t.status})},fail:function(e){a.fail(e)}})}},{key:"reverseGeocoder",value:function(e){var t={coordtype:(e=e||{}).coordtype||"gcj02ll",ret_coordtype:"gcj02ll",radius:e.radius||1e3,ak:this.ak,sn:e.sn||"",output:e.output||"json",callback:e.callback||function(){},extensions_poi:e.extensions_poi||1,extensions_road:e.extensions_road||!1,extensions_town:e.extensions_town||!1,language:e.language||"zh-CN",language_auto:e.language_auto||0},a={iconPath:e.iconPath,iconTapPath:e.iconTapPath,width:e.width,height:e.height,alpha:e.alpha||1,success:e.success||function(){},fail:e.fail||function(){}},o=function(e){t.location=e.latitude+","+e.longitude,n.request({url:"https://api.map.baidu.com/reverse_geocoding/v3",data:t,header:{"content-type":"application/json"},method:"GET",success:function(t){var o=t.data;if(0===o.status){var n=o.result,i={};i.originalData=o,i.wxMarkerData=[],i.wxMarkerData[0]={id:0,latitude:e.latitude,longitude:e.longitude,address:n.formatted_address,iconPath:a.iconPath,iconTapPath:a.iconTapPath,desc:n.sematic_description,business:n.business,alpha:a.alpha,width:a.width,height:a.height},i.result=i.wxMarkerData[0],a.success(i)}else a.fail({errMsg:o.message,statusCode:o.status})},fail:function(e){a.fail(e)}})};if(e.location){var i=e.location.split(",")[1];o({errMsg:"input location",latitude:e.location.split(",")[0],longitude:i})}else this.getWXLocation("gcj02",o,(function(e){a.fail(e)}),(function(e){}))}},{key:"geocoder",value:function(e){var t={address:(e=e||{}).address||"",city:e.city||"",ret_coordtype:e.coordtype||"gcj02ll",ak:this.ak,sn:e.sn||"",output:e.output||"json",callback:e.callback||function(){}},a={iconPath:e.iconPath,iconTapPath:e.iconTapPath,width:e.width,height:e.height,alpha:e.alpha||1,success:e.success||function(){},fail:e.fail||function(){}};if(e.address)n.request({url:"https://api.map.baidu.com/geocoding/v3",data:t,header:{"content-type":"application/json"},method:"GET",success:function(e){var t=e.data;if(0===t.status){var o=t.result,n=t;n.originalData=t,n.wxMarkerData=[],n.wxMarkerData[0]={id:0,location:o.location,iconPath:a.iconPath,iconTapPath:a.iconTapPath,alpha:a.alpha,width:a.width,height:a.height},n.result=n.wxMarkerData[0],a.success(n)}else a.fail({errMsg:t.message,statusCode:t.status})},fail:function(e){a.fail(e)}});else{var o={errMsg:"input address!"};a.fail(o)}}},{key:"weather",value:function(e){var t={coord_type:(e=e||{}).coord_type||"gcj02",output:e.output||"json",ak:this.ak,sn:e.sn||"",timestamp:e.timestamp||""},a={success:e.success||function(){},fail:e.fail||function(){}},o=function(e){t.location=e.longitude+","+e.latitude,n.request({url:"https://api.map.baidu.com/telematics/v3/weather",data:t,header:{"content-type":"application/json"},method:"GET",success:function(e){var t=e.data;if(0===t.error&&"success"===t.status){var o=t.results,n={};n.originalData=t,n.currentWeather=[],n.currentWeather[0]={currentCity:o[0].currentCity,pm25:o[0].pm25,date:o[0].weather_data[0].date,temperature:o[0].weather_data[0].temperature,weatherDesc:o[0].weather_data[0].weather,wind:o[0].weather_data[0].wind},a.success(n)}else a.fail({errMsg:t.message,statusCode:t.status})},fail:function(e){a.fail(e)}})};if(e.location){var i=e.location.split(",")[0];o({errMsg:"input location",latitude:e.location.split(",")[1],longitude:i})}else this.getWXLocation("gcj02",o,(function(e){a.fail(e)}),(function(e){}))}}]),e}();t.exports=o}(__hacked)})),window.define("libs/calendar/index",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Object.defineProperty(a,"__esModule",{value:!0}),a.isIos=o,a.isUpSlide=function(e){var t=this.data.gesture,a=t.startX,o=t.startY;if(this.slideLock){var n=e.touches[0],i=n.clientX-a;return n.clientY-o<-60&&i<20&&i>-20&&(this.slideLock=!1,!0)}},a.isDownSlide=function(e){var t=this.data.gesture,a=t.startX,o=t.startY;if(this.slideLock){var n=e.touches[0],i=n.clientX-a;return n.clientY-o>60&&i<20&&i>-20&&(this.slideLock=!1,!0)}},a.isLeftSlide=r,a.isRightSlide=l;var t=void 0;function o(){var e=t||(t=n.getSystemInfoSync());return/iphone|ios/i.test(e.platform)}function s(e,t,a){var n=e+"-"+t+"-"+a;return o()&&(n=e+"/"+t+"/"+a),new Date(n)}function r(e){var t=this.data.gesture,a=t.startX,o=t.startY;if(this.slideLock){var n=e.touches[0],i=n.clientX-a,s=n.clientY-o;return i<-60&&s<20&&s>-20&&(this.slideLock=!1,!0)}}function l(e){var t=this.data.gesture,a=t.startX,o=t.startY;if(this.slideLock){var n=e.touches[0],i=n.clientX-a,s=n.clientY-o;return i>60&&s<20&&s>-20&&(this.slideLock=!1,!0)}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},a=[];for(var o in e.forEach((function(e){t[e.year+"-"+e.month+"-"+e.day]=e})),t)a.push(t[o]);return a}function c(e){var t=!1,a=this.data.calendar.todayTimestamp,o=this.config.disableDays,n=void 0===o?[]:o,i=this.config.enableDays,r=void 0===i?[]:i,l=n.map((function(e){return e.year+"-"+e.month+"-"+e.day})),d=r.map((function(e){return e.year+"-"+e.month+"-"+e.day})),c=e.year+"-"+e.month+"-"+e.day,u=s(e.year,e.month,e.day).getTime();this.config.disableAll&&(t=!0);var p=s(e.year,e.month,e.day).getDay();(0!=p&&6!=p||(t=!!this.config.disableWeekend,u-a<0&&this.config.isDisableWeekendInPastDay&&(t=!0)),u-a<0&&this.config.disablePastDay&&(t=!!this.config.disablePastDay),-1!==l.indexOf(c)&&(t=!0),this.config.openWeek&&-1==this.config.openWeek.indexOf(p)&&(t=!0),-1!==d.indexOf(c)&&(t=!1),this.config.openGrade&&this.config.gradeDay)&&(a+864e5*(this.config.gradeDay-1)-u<0&&(t=!0));if(this.config.disableTimePoint&&1==this.config.tiemOrDate){var g=this.config.disableTimePoint.d,f=e.year,h=e.month,m=e.day;null!=g&&g.forEach((function(e){var a=new Date(e);a.getFullYear()==f&&a.getMonth()+1==h&&a.getDate()==m&&(t=!0)}))}return t}var u={getThisMonthDays:function(e,t){return new Date(e,t,0).getDate()},getFirstDayOfWeek:function(e,t){return new Date(Date.UTC(e,t-1,1)).getDay()},getDayOfWeek:function(e,t,a){return new Date(Date.UTC(e,t-1,a)).getDay()},renderCalendar:function(e,t,a){u.calculateEmptyGrids.call(this,e,t),u.calculateDays.call(this,e,t,a);var o=(this.data.calendar||{}).todoLabels,n=this.config.afterCalendarRender;o&&o instanceof Array&&u.setTodoLabels.call(this),n&&"function"==typeof n&&!this.firstRender&&(n(),this.firstRender=!0)},calculateEmptyGrids:function(e,t){u.calculatePrevMonthGrids.call(this,e,t),u.calculateNextMonthGrids.call(this,e,t)},calculatePrevMonthGrids:function(e,t){for(var a=[],o=u.getThisMonthDays(e,t-1),n=o-u.getFirstDayOfWeek(e,t),i=o;i>n;i--)a.push(i);this.setData({"calendar.empytGrids":a.reverse()})},calculateNextMonthGrids:function(e,t){var a=[],o=u.getThisMonthDays(e,t),n=s(e,t,o).getDay(),i=42-this.data.calendar.empytGrids.length-o,r=7-(n+1);i>r&&(r=i);for(var l=1;l<=r;l++)a.push(l);this.setData({"calendar.lastEmptyGrids":a})},calculateDays:function(e,t,a){for(var o=this,n=[],i=this.data.calendar.todayTimestamp,r=u.getThisMonthDays(e,t),l=a?[{day:a,choosed:!0,year:e,month:t}]:this.data.calendar.selectedDay,d=1;d<=r;d++)n.push({day:d,choosed:!1,year:e,month:t});var p=this.config.disableDays,g=void 0===p?[]:p,f=this.config.enableDays,h=void 0===f?[]:f,m=(g.map((function(e){return e.year+"-"+e.month+"-"+e.day})),h.map((function(e){return e.year+"-"+e.month+"-"+e.day})),l.map((function(e){return e.year+"-"+e.month+"-"+e.day})));n.map((function(e){e.disable=c.call(o,e);var t=e.year+"-"+e.month+"-"+e.day;-1!==m.indexOf(t)&&(e.choosed=!0),s(e.year,e.month,e.day).getTime()==i&&(e.alias="今")})),l[0].disable=c.call(this,l[0]);var b={"calendar.days":n};a&&(b["calendar.selectedDay"]=l),this.setData(b)},choosePrevMonth:function(){var e=this.data.calendar,t=e.curYear,a=t,o=e.curMonth-1;o<1&&(a=t-1,o=12),a<1920||(u.renderCalendar.call(this,a,o),this.setData({"calendar.curYear":a,"calendar.curMonth":o}))},chooseNextMonth:function(){var e=this.data.calendar.curYear,t=this.data.calendar.curMonth+1,a=e;t>12&&(a=e+1,t=1),a>2050||(u.renderCalendar.call(this,a,t),this.setData({"calendar.curYear":a,"calendar.curMonth":t}))},chooseMonth:function(e){var t=e.detail.value.split("-"),a=1*t[0],o=1*t[1];u.renderCalendar.call(this,a,o),this.setData({"calendar.curYear":a,"calendar.curMonth":o})},closeCalendar:function(e){u.setCalendarStatus.call(this,!1);var t=this.config.closeCalendar;if(t&&"function"==typeof t)return this.config.closeCalendar(e)},tapDayItem:function(e){var t=e.currentTarget.dataset,a=t.idx;if(!t.disable){var o=this.data.calendar||[],n=o.days,i=o.selectedDay,s=this.config,r=s.multi,l={e:e,idx:a,onTapDay:s.onTapDay,currentSelected:{},selectedDays:i,days:n.slice()};r?u.whenMulitSelect.call(this,l):u.whenSingleSelect.call(this,l)}},comfirmDay:function(e){var t,a=this.config,o=(a.multi,a.comfirmDay);if(!(t=this.data.calendar.selectedDay[0]).disable)return u.setCalendarStatus.call(this,!1),o&&"function"==typeof o?this.config.comfirmDay(t,e):void 0;n.showModal({content:"当前日期不可选！请选择其他日期！",showCancel:!1,success:function(e){e.confirm}})},afterTapDay:function(e,t){var a=this.config,o=a.multi,n=a.afterTapDay;n&&"function"==typeof n&&(o?a.afterTapDay(e,t):a.afterTapDay(e))},whenMulitSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currentSelected,a=e.selectedDays,o=e.days,n=e.idx,i=e.onTapDay,s=e.e;if(o[n].choosed=!o[n].choosed,o[n].choosed?(t=o[n],a.push(t)):(o[n].cancel=!0,t=o[n],a=a.filter((function(e){return e.day!==o[n].day}))),i&&"function"==typeof i)return this.config.onTapDay(t,s);this.setData({"calendar.days":o,"calendar.selectedDay":a}),u.afterTapDay.call(this,t,a)},whenSingleSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.currentSelected,o=t.selectedDays,n=[],i=t.days,s=t.idx,r=t.onTapDay,l=t.e,d=o[0],c=d.month,p=d.year,g=i[0],f=g.month,h=g.year,m=this.data.calendar,b=void 0===m?{}:m;if(c!==f||p!==h||this.weekMode||(i[o[0].day-1].choosed=!1),this.weekMode&&i.map((function(e,t){e.day===o[0].day&&(i[t].choosed=!1)})),b.todoLabels&&(n=b.todoLabels.filter((function(e){return+e.year===h&&+e.month===f}))),n.forEach((function(t){e.weekMode?i.map((function(e,a){+e.day==+t.day&&(i[a].hasTodo=!0,+o[0].day==+t.day&&(i[a].showTodoLabel=!0))})):(i[t.day-1].hasTodo=!0,+o[0].day==+t.day&&(i[o[0].day-1].showTodoLabel=!0))})),i[s].showTodoLabel&&(i[s].showTodoLabel=!1),i[s].choosed=!0,a=i[s],r&&"function"==typeof r)return this.config.onTapDay(a,l);this.setData({"calendar.days":i,"calendar.selectedDay":[a]}),u.afterTapDay.call(this,a)},setTodoLabels:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.data.calendar;if(!a||!a.days)return console.error("请等待日历初始化完成后再调用该方法");var o=a.days.slice(),n=a.curYear,i=a.curMonth,s=t.days,r=void 0===s?[]:s,l=t.pos,c=void 0===l?"bottom":l,u=t.dotColor,p=void 0===u?"":u,g=a.todoLabels,f=void 0===g?[]:g,h=a.todoLabelPos,m=a.todoLabelColor,b=r.filter((function(e){return+e.year===n&&+e.month===i}));if(b&&b.length||f.length){var v=f.filter((function(e){return+e.year===n&&+e.month===i}));b.concat(v).forEach((function(t){var a={};(a=e.weekMode?o.find((function(e){return+e.day==+t.day})):o[t.day-1])&&(a.showTodoLabel=!a.choosed)}));var w={"calendar.days":o,"calendar.todoLabels":d(r.concat(f))};c&&c!==h&&(w["calendar.todoLabelPos"]=c),p&&p!==m&&(w["calendar.todoLabelColor"]=p),this.setData(w)}},filterTodos:function(e){var t=this.data.calendar.todoLabels,a=e.map((function(e){return e.year+"-"+e.month+"-"+e.day}));return t.filter((function(e){return-1===a.indexOf(e.year+"-"+e.month+"-"+e.day)}))},deleteTodoLabels:function(e){if(e instanceof Array&&e.length){var t=u.filterTodos.call(this,e),a=this.data.calendar,o=a.days,n=a.curYear,i=a.curMonth,s=t.filter((function(e){return n===+e.year&&i===+e.month}));o.map((function(e){e.showTodoLabel=!1})),s.forEach((function(e){o[e.day-1].showTodoLabel=!o[e.day-1].choosed})),this.setData({"calendar.days":o,"calendar.todoLabels":t})}},clearTodoLabels:function(){var e=this.data.calendar.days,t=[].concat(void 0===e?[]:e);t.map((function(e){e.showTodoLabel=!1})),this.setData({"calendar.days":t,"calendar.todoLabels":[]})},jumpToToday:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,o=e.getDate(),n=s(t,a,o).getTime();this.setData({"calendar.curYear":t,"calendar.curMonth":a,"calendar.selectedDay":[{day:o,choosed:!0,year:t,month:a}],"calendar.todayTimestamp":n}),u.renderCalendar.call(this,t,a,o)},calendarTouchstart:function(e){var t=e.touches[0],a=t.clientX,o=t.clientY;this.slideLock=!0,this.setData({"gesture.startX":a,"gesture.startY":o})},calendarTouchmove:function(e){if(r.call(this,e)){if(this.weekMode)return u.calculateNextWeekDays.call(this);u.chooseNextMonth.call(this)}if(l.call(this,e)){if(this.weekMode)return u.calculatePrevWeekDays.call(this);u.choosePrevMonth.call(this)}},updateCurrYearAndMonth:function(e){var t=this.data.calendar,a=t.days,o=t.curYear,n=t.curMonth,i=o,s=n,r=a[0],l=r.month,d=r.year,c=a[a.length-1],p=c.month,g=c.year;l!==p&&("prev"===e?(o=d,s=l):(o=g,s=p));var f=u.getThisMonthDays(o,n),h=a[a.length-1],m=a[0];return(f===+h.day||h.day+7>f)&&"next"===e?(s+=1)>12&&(i+=1,s=12):+m.day<=7&&"prev"===e&&(s-=1)<=0&&(i-=1,s=12),{Uyear:i,Umonth:s}},calculateLastDay:function(){var e=this.data.calendar,t=e.days,a=e.curYear,o=e.curMonth;return{lastDayInThisWeek:t[t.length-1].day,lastDayInThisMonth:u.getThisMonthDays(a,o)}},calculateFirstDay:function(){return{firstDayInThisWeek:this.data.calendar.days[0].day}},firstWeekInMonth:function(e,t){var a=[1,6-u.getDayOfWeek(e,t,1)+1];return this.data.calendar.days.slice(a[0]-1,a[1])},lastWeekInMonth:function(e,t){var a=u.getThisMonthDays(e,t),o=[a-u.getDayOfWeek(e,t,a),a];return this.data.calendar.days.slice(o[0]-1,o[1])},initSelectedDay:function(e){var t=e.slice(),a=this.data.calendar,o=a.selectedDay,n=void 0===o?[]:o,i=a.todoLabels,s=void 0===i?[]:i,r=n.map((function(e){return e.year+"+"+e.month+"+"+e.day})),l=s.map((function(e){return e.year+"-"+e.month+"-"+e.day}));return t.map((function(e){-1!==r.indexOf(e.year+"+"+e.month+"+"+e.day)?e.choosed=!0:e.choosed=!1,-1!==l.indexOf(e.year+"-"+e.month+"-"+e.day)&&(e.showTodoLabel=!e.choosed)})),t},calculateNextWeekDays:function(){var e=u.calculateLastDay.call(this),t=e.lastDayInThisWeek,a=e.lastDayInThisMonth,o=this.data.calendar,n=o.curYear,i=o.curMonth,s=[];if(a-t>=7){var r=u.updateCurrYearAndMonth.call(this,"next");n=r.Uyear,i=r.Umonth;for(var l=t+1;l<=t+7;l++)s.push({year:n,month:i,day:l})}else{for(var d=t+1;d<=a;d++)s.push({year:n,month:i,day:d});var c=u.updateCurrYearAndMonth.call(this,"next");n=c.Uyear,i=c.Umonth;for(var p=1;p<=7-(a-t);p++)s.push({year:n,month:i,day:p})}s=u.initSelectedDay.call(this,s),this.setData({"calendar.curYear":n,"calendar.curMonth":i,"calendar.days":s})},calculatePrevWeekDays:function(){var e=u.calculateFirstDay.call(this).firstDayInThisWeek,t=this.data.calendar,a=t.curYear,o=t.curMonth,n=[];if(e-7>0){var i=u.updateCurrYearAndMonth.call(this,"prev");a=i.Uyear,o=i.Umonth;for(var s=e-7;s<e;s++)n.push({year:a,month:o,day:s})}else{for(var r=[],l=1;l<e;l++)r.push({year:a,month:o,day:l});var d=u.updateCurrYearAndMonth.call(this,"prev");a=d.Uyear,o=d.Umonth;for(var c=u.getThisMonthDays(a,o),p=c-Math.abs(e-7);p<=c;p++)n.push({year:a,month:o,day:p});n=n.concat(r)}n=u.initSelectedDay.call(this,n),this.setData({"calendar.curYear":a,"calendar.curMonth":o,"calendar.days":n})},selectedDayWeekAllDays:function(e){var t=this.data.calendar,a=t.days,o=t.curYear,n=t.curMonth,i=e.year,s=e.month,r=e.day,l=u.lastWeekInMonth.call(this,i,s),d=u.firstWeekInMonth.call(this,i,s);if(o===i&&n===s||(r=1),o!==i&&(i=o),n!==s&&(s=n),d.find((function(e){return e.day===r}))){var c=[],p=u.getThisMonthDays(i,s-1),g=u.updateCurrYearAndMonth.call(this,"prev");o=g.Uyear,n=g.Umonth;for(var f=p-(7-d.length)+1;f<=p;f++)c.push({year:o,month:n,day:f});a=c.concat(d)}else if(l.find((function(e){return e.day===r}))){var h=[];if(l&&l.length<7){var m=u.updateCurrYearAndMonth.call(this,"next");o=m.Uyear,n=m.Umonth;for(var b=1,v=7-l.length;b<=v;b++)h.push({year:o,month:n,day:b})}a=l.concat(h)}else{var w=u.getDayOfWeek(i,s,r),I=[r-w,r+(6-w)];a=a.slice(I[0]-1,I[1])}a=u.initSelectedDay.call(this,a),this.setData({"calendar.days":a,"calendar.empytGrids":[],"calendar.lastEmptyGrids":[]})},switchWeek:function(e){if(this.config.multi)return console.error("多选模式不能切换周月视图");var t=this.data.calendar,a=t.selectedDay,o=void 0===a?[]:a,n=t.curYear,i=t.curMonth;if(o.length){var s=o[0];if("week"===e){if(this.weekMode)return;this.weekMode=!0,u.selectedDayWeekAllDays.call(this,s)}else{this.weekMode=!1;var r=s.year,l=s.month,d=s.day;n===r&&i===l||(d=1),u.renderCalendar.call(this,n,i,d)}}},disableDays:function(e){var t=this.data.calendar,a=t.disableDays,o=void 0===a?[]:a,n=t.days;if("[object Array]"!==Object.prototype.toString.call(e))return console.error("disableDays 参数为数组");var i=e.concat(o),s=i.map((function(e){return e.year+"-"+e.month+"-"+e.day}));n.map((function(e){var t=e.year+"-"+e.month+"-"+e.day;-1!==s.indexOf(t)&&(e.disable=!0)})),this.setData({"calendar.days":n,"calendar.disableDays":i})},enableDays:function(e){var t=this.data.calendar,a=t.enableDays,o=void 0===a?[]:a,n=t.days;if("[object Array]"!==Object.prototype.toString.call(e))return console.error("enableDays 参数为数组");var i=e.concat(o),s=i.map((function(e){return e.year+"-"+e.month+"-"+e.day}));n.map((function(e){var t=e.year+"-"+e.month+"-"+e.day;-1!==s.indexOf(t)&&(e.disable=!1)})),this.setData({"calendar.days":n,"calendar.enableDays":i})},setCalendarStatus:function(e){this.setData({"calendar.show":e})},catchTouch:function(){}};function p(){var e=getCurrentPages();return e[e.length-1]}function g(e){var t=this;e&&e.length&&e.forEach((function(e){t[e]=u[e].bind(t)}))}a.getSelectedDay=function(){return p().data.calendar.selectedDay};var f=a.jump=function(e,t,a){var o=p(),n=new Date,i=s(n.getFullYear(),n.getMonth()+1,n.getDate()).getTime();o.setData({"calendar.todayTimestamp":i});var r=o.data.calendar.selectedDay;if(!r||+r[0].year!=+e||+r[0].month!=+t||+r[0].day!=+a)if(e&&t){if("number"!=typeof+e||"number"!=typeof+t)return console.error("jump 函数年月日参数必须为数字");var l={"calendar.curYear":e,"calendar.curMonth":t};o.setData(l,(function(){if("number"==typeof+a)return u.renderCalendar.call(o,e,t,a);u.renderCalendar.call(o,e,t)}))}else u.jumpToToday.call(o)};a.setTodoLabels=function(e){var t=p();u.setTodoLabels.call(t,e)},a.deleteTodoLabels=function(e){var t=p();u.deleteTodoLabels.call(t,e)},a.clearTodoLabels=function(){var e=p();u.clearTodoLabels.call(e)},a.switchView=function(e){var t=p();u.switchWeek.call(t,e)},a.disableDay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=p();u.disableDays.call(t,e)},a.enableDay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=p();u.enableDays.call(t,e)};a.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["日","一","二","三","四","五","六"],a=["tapDayItem","comfirmDay","choosePrevMonth","chooseNextMonth","calendarTouchstart","calendarTouchmove","catchTouch","chooseMonth","closeCalendar"];if(e.context){var o=e.context;p=function(){return o},e.context=null,delete e.context}var n=p(),s=i().globalData;if(n.config=e,u.setCalendarStatus.call(n,!0),n.setData({"calendar.weeksCh":t,"calendar.config":e,"calendar.isCusTabBarShow":s.isCusTabBarShow,"calendar.isIphoneX":s.isIphoneX}),e.defaultDay&&"string"==typeof e.defaultDay){var r=e.defaultDay.split(" "),l=(r[1],r[0].split("-"));if(l.length<3)return console.error("配置 jumpTo 格式应为: 2018-4-2 或 2018-04-02");f(+l[0],+l[1],+l[2])}else u.jumpToToday.call(n);g.call(n,a)}}(__hacked)})),window.define("libs/scripts/col",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o=a.setTimeout,s=a.setInterval,r=(a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),l=u(e("../calendar/index")),d=e("../timepicker/index"),c=u(d);function u(e){return e&&e.__esModule?e:{default:e}}var p=i(),g=e("../../utils/api"),f=e("../../libs/wxParse/wxParse.js"),h=e("../../utils/util"),m=e("../../utils/apiOpt.js");t.exports={props:{isIndexCol:!1,isCusCol:!1,isTabBarCol:!1,tabBarColIndex:0,hasLoadModules:!1,isVideoPlaying:!1},onReady:function(){this.toast=this.selectComponent("#toast"),this.dialog=this.selectComponent("#dialog"),this.newcomerPopup=this.selectComponent("#newcomerPopup"),this.sideBar=this.selectComponent("#sideBar")},onLoad:function(e){if(e.webViewUrl&&(p.globalData.shareWebViewUrl=p.globalData.webappUrl=decodeURIComponent(e.webViewUrl)),p.globalData.isWebApp&&p.globalData.webappUrl)this.setData({isWebApp:p.globalData.isWebApp,webappUrl:p.globalData.webappUrl});else{var t=this,a=decodeURIComponent(e.scene).split("_"),o=!!e.isManage||!1,n=!!(1*e.hasCopy)||!1;if(a.length>1){var i=p.globalData.fkUserInfo||{};e.fkUserInfo&&(i=JSON.parse(e.fkUserInfo));var s=p.globalData.extConfigData,r=s.wxappAppId;p.globalData.wxappInfo={},s.isModel=!0,s.wxappAid=a[0],s.wxappId=a[1],p.globalData.isManage=o,p.globalData.hasCopy=n,p.globalData.professionTpye=m.Biz.PROGRAM,p.globalData.fkUserInfo=i,p.globalData.wxappAppId=r,e.tmpid&&(p.globalData.tmpid=e.tmpid)}var l=void 0;if(t.props.isIndexCol)l=2;else if(t.props.isCusCol)l=e.cusColId;else if(t.props.isTabBarCol){var d=p.globalData.wxappInfo;if(0!=Object.keys(d).length){var c=d.tabBarCusColList;l=c[t.props.tabBarColIndex].cusColId}else g.getWXAppInfo().then((function(){var a=(d=p.globalData.wxappInfo).tabBarCusColList;l=a[t.props.tabBarColIndex].cusColId,t.initInfo(t,l,e)}))}t.initInfo(t,l,e),2==l&&g.getExtConfigData().then((function(e){if(e){var a=p.globalData.extConfigData||{},o=a.bdappAppId,n=a.isModel;15002956!=o||n?t.setData({showTemplateBtn:!1}):(p.globalData.isManage=!1,t.setData({showTemplateBtn:!0}))}}));var u=getCurrentPages(),f=u[u.length-1].route;-1!==f.indexOf("cusCol")&&(f="pages/cusCol/cusCol"),g.reportVisitorBehavior({pageUrl:f,relationId:l})}},initInfo:function(e,t,a){e.setData({options:a,colId:t}),e.getWXAppInfo(e),p.globalData.isWebApp||g.getWXAppColModuleInfo(t).then((function(t){e.initWXAppColModuleInfo(e,t)}))},onShow:function(){var e=p.globalData.isVisitLimit,t=p.globalData.isOemExpired;p.globalData.isOem&&t&&p.showOemExpired(),e&&p.globalData.showVisitLimit();var a=getCurrentPages()[getCurrentPages().length-1].data.allCoupon;a&&a.length>0&&g.getCouponList().then((function(e){e&&getCurrentPages()[getCurrentPages().length-1].setData({allCoupon:e})})).catch((function(e){console.error(e)})),this.props.isIndexCol?g.logDog(7000090,3):g.logDog(7000090,4),this.newComerHandler()},syncdata:function(e){var t=this,a=e.detail.type,i=e.detail.value;if("globalColor"==a)this.setData({globalColor:i}),p.globalData.globalColor=i;else if("sidePhoneOpen"==a)this.setData({showPhone:i});else if("colName"==a){2==this.data.colId&&(this.setData({name:i}),n.setNavigationBarTitle({title:i}))}else"phone"==a&&(p.globalData.wxappInfo.cusService.phone=i);o((function(){t.reloadPage()}),0)},stopTouchMove:function(){return!1},hidecompon:function(e){var t=e.detail;this.setHiddenVideo(t),this.setHiddenTextareaByStyle(t)},getIsIos:function(){var e=n.getSystemInfoSync();return/iphone|ios/i.test(e.platform)},initWXAppColModuleInfo:function(e,t){var a=this,o=p.globalData.wxappInfo,i=(o.formList,o.skinStyle),s=t.colStyle,l=t.moduleInfoList;if(e.infoSysList=[],e.infoSysIndexList=[],e.serviceList=[],e.serviceIndexList=[],l.length>0)for(var d=0;d<l.length;d++){var c=l[d];if(d==l.length-1?c.isLastModule=!0:c.isLastModule=!1,5==c.style){var u=c.content.moduleList;if(u.length>0)for(var m=0;m<u.length;m++){var b=u[m];if(4==b.subModuleInfo.style){var v=b.subModuleInfo.content.text;"object"!=(void 0===v?"undefined":r(v))&&(f.wxParse("text","html",v,e,5),b.subModuleInfo.content.text=e.data.text)}if(3==b.subModuleInfo.style){b.subModuleInfo.pattern;this.getIsIos()?b.subModuleInfo.pattern.lh=b.subModuleInfo.pattern.h:b.subModuleInfo.pattern.lh=b.subModuleInfo.pattern.h+8}}}if(6==c.style)for(var w=c.content.imgList,I=0;I<w.length;I++){var D=w[I],y=D.des;""!=y&&"object"!=(void 0===y?"undefined":r(y))&&(f.wxParse("des","html",y,e,5),D.des=e.data.des)}if(13==c.style&&(c.isLoading=!1,c.content.le&&(c.isLoading=!0,e.infoSysList=e.infoSysList.concat(c.content.selectedList),e.infoSysIndexList.push(d))),10==c.style&&(c.isLoading=!1,c.content.le&&(c.isLoading=!0,e.serviceList=e.serviceList.concat(c.content.selectedList),e.serviceIndexList.push(d))),19==c.style){for(var _=c.content.moduleList,x=0;x<_.length;x++)if(-1!==_[x].id){if(0==x&&(c.info=_[x].moduleInfo),5==_[x].moduleInfo.style){var C=_[x].moduleInfo.content.moduleList;if(C.length>0)for(var S=0;S<C.length;S++){var T=C[S];if(4==T.subModuleInfo.style){var k=T.subModuleInfo.content.text;"object"!=(void 0===k?"undefined":r(k))&&(f.wxParse("text","html",k,e,5),T.subModuleInfo.content.text=e.data.text)}if(3==T.subModuleInfo.style){T.subModuleInfo.pattern;this.getIsIos()?T.subModuleInfo.pattern.lh=T.subModuleInfo.pattern.h:T.subModuleInfo.pattern.lh=T.subModuleInfo.pattern.h+8}}}if(6==_[x].moduleInfo.style)for(var P=_[x].moduleInfo.content.imgList,L=0;L<P.length;L++){var B=P[L],A=B.des;""!=A&&"object"!=(void 0===A?"undefined":r(A))&&(f.wxParse("des","html",A,e,5),B.des=e.data.des)}if(13==_[x].moduleInfo.style){var M=_[x].moduleInfo;M.isLoading=!1,M.content.le&&(0==x&&(M.isLoading=!0),infoSysList=infoSysList.concat(M.content.selectedList),infoSysIndexList.push([d,x]))}if(10==_[x].moduleInfo.style){var j=_[x].moduleInfo;j.isLoading=!1,j.content.le&&(0==x&&(j.isLoading=!0),e.serviceList=e.serviceList.concat(j.content.selectedList),e.serviceIndexList.push([d,x]))}var F=_[x].moduleInfo;F.inModule=!0,p.globalData.labelInfo[F.id]=F,_[x].name=F.content.title,_[x].style=F.style,_[x].info=_[x].moduleInfo,_[x].moduleInfo=null}if(0==c.content.style&&_[0]){var O=-1==p.globalData.globalColor.indexOf("#")?h.getGradientColor(p.globalData.globalColor,.75):h.hexToRgba(p.globalData.globalColor,.25);_[0].btnStyle="border-radius: 28rpx;padding-left: 24rpx;padding-right: 24rpx;color:#fff;background:"+p.globalData.globalColor+";box-shadow:"+O+" 0rpx 10rpx 16rpx 0rpx"}1==c.content.style&&_[0]&&(_[0].btnStyle="color: rgb(11, 0, 4);font-weight: bold;font-size: 30rpx;",_[0].borderStyle="background-color: "+p.globalData.globalColor+";"),c.selectIndex=0}if(21==c.style)for(var N=c.content.newsGroupList,E=0;E<N.length;E++)N.visited=!1;c.skinStyle=this.getFinalSkinStyle({globalSkinStyle:i,colSkinStyle:s})}(e.infoSysList.length>0||e.serviceList.length>0)&&e.getVisitorLocation(e),e.setData({name:t.name,moduleInfoList:l,bookSetting:o.bookSetting},(function(){e.setData({hasLoadModules:!0,skinStyle:a.getFinalSkinStyle({globalSkinStyle:i,colSkinStyle:s})}),2!=e.data.colId||p.globalData._hasCancelAuthPopup||n.getUserInfo({success:function(e){var t=e.userInfo;g.getUserInfoByAuth(t)},fail:function(e){p.globalData._hasCancelAuthPopup=!0}})})),n.setNavigationBarTitle({title:t.name})},getFinalSkinStyle:function(e){var t=e.globalSkinStyle,a=void 0===t?{}:t,o=e.colSkinStyle,n=void 0===o?{}:o,i=e.specSkinStyle,s={};return[a,n,void 0===i?{}:i].reduce((function(e,t){return Object.keys(t).forEach((function(a){e[a]?e[a]+=t[a]:e[a]=t[a],"pageBgStyle"==a&&(e[a]!=t[a]&&t[a]?(e[a]=t[a],e.finalBackgroundStyle=t[a]):e.finalBackgroundStyle=e[a])})),e}),s),s},onPullDownRefresh:function(){n.stopPullDownRefresh(),this.reloadPage(),i().globalData.isManage&&this.setData({showActionSheet:!1})},reloadPage:function(){var e=p.globalData.wxAppRequest,t=this,a=t.data.colId;e.getWXAppInfo().then((function(){t.initWXAppInfo(t)})),e.getWXAppColModuleInfo(a).then((function(e){t.initWXAppColModuleInfo(t,e)}))},changDot:function(e){var t=e.currentTarget.dataset.moduleId,a=e.detail.current,o="current"+t,n=this.data.swiperModule?this.data.swiperModule:{};n[o]=a,this.setData({swiperModule:n})},previewModuleImage:function(e){if(e.currentTarget.dataset.sbp){var t=e.currentTarget.dataset.img;n.previewImage({current:t,urls:[t]})}},previewModuleMultiImage:function(e){var t=e.currentTarget.dataset.idx,a=e.currentTarget.dataset.imgList,o=[];for(var i in a){var s=a[i].imgPath.lastIndexOf("!"),r=a[i].imgPath.lastIndexOf("x");if(-1!=s){var l=r-s-1,d=a[i].imgPath.substring(0,s)+a[i].imgPath.substring(s+2*l+2);o.push(d)}else o.push(a[i].imgPath)}n.previewImage({current:o[t],urls:o})},onShareAppMessage:function(e){g.reportVisitorBehavior({type:24,relationId:this.data.colId}),"menu"==e.from?g.logDog(7000081,0):"button"==e.from&&g.logDog(7000081,6),this.props.isIndexCol?g.logDog(7000081,10):g.logDog(7000081,11);var t=this.data.name,a="";if(p.globalData.wxappInfo&&p.globalData.wxappInfo.wxShare){var o=p.globalData.wxappInfo.wxShare.tle,n=p.globalData.wxappInfo.wxShare.p,i=p.globalData.wxappInfo.wxShare.it,s=p.globalData.wxappInfo.wxShare.tt;o&&s&&(t=o),n&&i&&(a=n)}var r="cusColId="+this.data.colId;e.webViewUrl&&(r+="&webViewUrl="+encodeURIComponent(e.webViewUrl));var l=this.beforeShareAppMessage({params:r}),d={title:t,imageUrl:a};return Object.assign(d,l)},formUserInfoHandler:function(e){if(!p.globalData.userInfo){var t=this;if("getUserInfo:ok"==e.detail.errMsg){if(!e.detail.iv)return void n.showModal({title:"警告",content:"您点击了拒绝授权，将无法提交表单。",showCancel:!1,confirmText:"确定",success:function(e){}});var a=e.detail.userInfo;p.globalData.userInfo||n.login({success:function(e){e.code||n.showLoading({title:"getLoginCode err",mask:!0});var o=e.code;g.getOrAddUserInfo(o,a).then((function(){var e=t.submitForm;if(e){n.showLoading({title:"提交中",mask:!0});var a=e.formid||0,o=e.submitData||{},i=e.moduleid||0;g.commitForm(t,a,i,o).then((function(e){t.submitFormCallback(e)}))}}))},fail:function(e){n.showModal({title:"",showCancel:!1,content:"登录失败",success:function(e){}})}})}}},submitFormHandler:function(e){for(var t=e.currentTarget.dataset.formid,a=e.currentTarget.dataset.formdata,o=e.currentTarget.dataset.moduleid,i=e.detail.value,s=/^[0-9]*$/,r=0;r<a.length;r++){var l=a[r].id;if(a[r].must&&(!i[l]||0==i[l].length))return void n.showModal({title:"",showCancel:!1,content:a[r].name+"不能为空",success:function(e){}});if(6==a[r].type&&11==i[l].length&&s.test(i[l])&&a[r].phoneSetting.ov&&(!a[r].phoneSetting.code||0==a[r].phoneSetting.code.length))return void n.showModal({title:"",showCancel:!1,content:"验证码不能为空",success:function(e){}});if(6==a[r].type&&0!=i[l].length&&(11!=i[l].length||!s.test(i[l])))return void n.showModal({title:"",showCancel:!1,content:"手机号错误！",success:function(e){}})}var d=this;p.globalData.userInfo?(n.showLoading({title:"提交中",mask:!0}),g.commitForm(d,t,o,i).then((function(e){e&&d.submitFormCallback(e)}))):(d.submitForm={},d.submitForm.formid=t,d.submitForm.submitData=i,d.submitForm.moduleid=o)},submitFormCallback:function(e){var t=this;if(e.success){for(var a=t.data.moduleInfoList,o=e.moduleid,i=0,s=a.length;i<s;i++){var r=a[i];if(r.id==o){for(var l=r.content.formData,d=0;d<l.length;d++)2==l[d].type||1==l[d].type?l[d].input.forEach((function(e){e.selected=!1})):6==l[d].type?(l[d].input="",l[d].hasAuth=!1,l[d].phoneSetting.code="",l[d].phoneSetting.codeSign="",l[d].phoneSetting.sendStatus=3):l[d].val="";r.content.tmpFileList=[];var c={};c["moduleInfoList["+i+"]"]=r,t.setData(c)}}var u=e.jInfo,p="";u&&(p="2s后跳转到指定页面"),this.toast.showToast({title:"提交成功",content:p,icon:"success",duration:2e3,callback:function(){u&&t.jumpTypeCtrl(u)}})}else-301==e.errCode?this.toast.showToast({title:e.msg,icon:"warning"}):n.showModal({title:"提交失败",showCancel:!1,content:e.msg,success:function(e){}})},checkedOption:function(e){for(var t=e.currentTarget.dataset,a=t.moduleid,o=t.itemid,n=t.index,i=t.option.selected,s=this.data.moduleInfoList,r=0;r<s.length;r++)if(a==s[r].id)for(var l=s[r].content.formData,d=0;d<l.length;d++)if(o==l[d].id){if(2==l[d].type)l[d].input[n].selected=!i;else if(1==l[d].type)for(var c=0;c<l[d].input.length;c++){l[d].input[c].selected=n==c}var u={};u["moduleInfoList["+r+"].content.formData["+d+"]"]=l[d],this.setData(u);break}},uploadHandler:function(e){var t=e.currentTarget.dataset.module,a=t.content.formId,o=e.currentTarget.dataset.itemid,i=e.currentTarget.dataset.filetype||0,s=this;function r(e,t,a,o,i,r){var l=e.content.formData||{};for(var d in l)if(l[d].id==a){if(i>1024*l[d].fileSetting.fs*1024)return void n.showModal({title:"上传失败",showCancel:!1,content:"上传失败：文件大小超过"+l[d].fileSetting.fs+"M",success:function(e){}});break}var c={moduleid:e.id,formId:t,itemId:a,filePath:o,fileSize:i,fileType:r};p.globalData.wxAppRequest.uploadFile(s,c)}0==i?n.chooseImage({count:1,sizeType:["compressed"],success:function(e){var n=e.tempFilePaths,i=n[0].lastIndexOf("."),s=n[0].substring(i+1),l=e.tempFiles[0].size;r(t,a,o,n[0],l,s)},fail:function(e){console.error(e)}}):1==i&&n.chooseVideo({sourceType:["album","camera"],maxDuration:60,camera:"back",success:function(e){var n=e.tempFilePath,i=n.lastIndexOf("."),s=n.substring(i+1),l=e.size;r(t,a,o,n,l,s)}})},phoneHandle:function(e){for(var t=e.currentTarget.dataset.module,a=t.id,o=(t.content.formId,e.currentTarget.dataset.itemid),n=e.detail.value,i=this.data.moduleInfoList,s=0,r=i.length;s<r;s++){var l=i[s];if(l.id==a)for(var d=l.content.formData,c={},u=0;u<d.length;u++)d[u].id==o&&(c["moduleInfoList["+s+"].content.formData["+u+"].input"]=n,this.setData(c))}},getVerNum:function(e){for(var t=e.currentTarget.dataset.module,a=(t.id,t.content.formId),o=e.currentTarget.dataset.itemid,n=(e.detail.value,t.content.formData),i=this,r=void 0,l=0;l<n.length;l++)n[l].id==o&&(r=n[l].input);var d={moduleId:t.id,formId:a,itemId:o,phone:r},c=i.data.moduleInfoList;g.getVerNumber(i,d).then((function(e){if(e&&e.success)for(var t=0,a=c.length;t<a;t++){var o=c[t];if(o.id==d.moduleId)for(var n=o.content.formData,r={},l=0;l<n.length;l++)if(n[l].id==d.itemId){var u=n[l].phoneSetting,p=60;u.codeSign=e.codeSign,u.sendStatus=1,u.text="已发送("+p+")",r["moduleInfoList["+t+"].content.formData["+l+"].phoneSetting"]=u,i.setData(r);var g=s((function(e,t){3==u.sendStatus?(clearInterval(g),p=60,u.sendStatus=0,r["moduleInfoList["+e+"].content.formData["+t+"].phoneSetting"]=u,i.setData(r)):0==p?(clearInterval(g),u.sendStatus=2,r["moduleInfoList["+e+"].content.formData["+t+"].phoneSetting"]=u,i.setData(r)):(p--,u.sendStatus=1,u.text="已发送("+p+")",r["moduleInfoList["+e+"].content.formData["+t+"].phoneSetting"]=u,i.setData(r))}),1e3,t,l)}}}))},codeHandle:function(e){for(var t=e.currentTarget.dataset.module,a=t.id,o=(t.content.formId,e.currentTarget.dataset.itemid),n=t.content.formData,i=e.detail.value,s=this.data.moduleInfoList,r=0,l=s.length;r<l;r++){var d=s[r];if(d.id==a){n=d.content.formData;for(var c={},u=0;u<n.length;u++)if(n[u].id==o){var p=n[u].phoneSetting;p.code=i,c["moduleInfoList["+r+"].content.formData["+u+"].phoneSetting"]=p,this.setData(c)}}}},toNewsDetail:function(e){var t=e.currentTarget.dataset.newsid;n.navigateTo({url:"/pages/newsDetail/newsDetail?id="+t})},toBookDetailPage:function(e){var t=e.currentTarget.dataset.sid;n.navigateTo({url:"/pages/bookDetail/bookDetail?bookId="+t})},showCalendar:function(e){var t=e.currentTarget.dataset.module.id,a=e.currentTarget.dataset.item,o=a.id,n=a.dateSetting,i=e.currentTarget.dataset.date||"",s=n.a,r=n.ot.ut;0==n.ot.t&&(r=[0,1,2,3,4,5,6,23]);var l=this,c=[],u=[],p=n.od.t,g=n.od.ud,f=n.od.od,h=n.ba,m=n.bh,b=n.bpd;if(0==p)m=b=!0,h=!1;else{for(var v=0;v<g.length;v++){var w=l.timestampToTime(g[v]);c.push(w)}for(var I=0;I<f.length;I++){var D=l.timestampToTime(f[I]);u.push(D)}}if(this.setHiddenTextarea(t,!0),this.setHiddenVideo(!0),s){var y=this.getCalendarConf({disableAll:h,disablePastDay:b,disableWeekend:m,defaultDay:i,disableDays:c,enableDays:u,disableTime:r,moduleId:t,itemId:o,tiemOrDate:s,callback:function(e){var a=e.year+"-"+e.month+"-"+e.day;l.setFormDate(t,o,a),l.setHiddenTextarea(t,!1),l.setHiddenVideo(!1)}});this.initCalendarFn(y)}else{var _=this.getTimepickerCof({defaultDay:i,disableAll:h,disableWeekend:m,disablePastDay:b,disableDays:c,disableTime:r,enableDays:u,moduleId:t,itemId:o});this.initTimepickerFn(_),(0,d.disableTimepickerDays)(c)}},initCalendarFn:function(e){var t={disableAll:!1,disablePastDay:!1,disableWeekend:!1,defaultDay:"",disableDays:[],enableDays:[],comfirmDay:function(t,a){e.callback&&e.callback(t)}};h.extend(!0,t,e),(0,l.default)(t)},getCalendarConf:function(e){var t=this;return{disableAll:e.disableAll,disablePastDay:e.disablePastDay,disableWeekend:e.disableWeekend,defaultDay:e.defaultDay,disableDays:e.disableDays,enableDays:e.enableDays,callback:function(a){var o=a.year+"-"+a.month+"-"+a.day;if(e.defaultDay=o,e.tiemOrDate)t.setFormDate(e.moduleId,e.itemId,o),t.setHiddenTextarea(e.moduleId,!1),t.setHiddenVideo(!1);else{var n=t.getTimepickerCof(e);t.initTimepickerFn(n)}},closeCalendar:function(a){t.setHiddenTextarea(e.moduleId,!1),t.setHiddenVideo(!1)}}},getTimepickerCof:function(e){var t=this;return{defaultDay:e.defaultDay,disableAll:e.disableAll,disableWeekend:e.disableWeekend,disableDays:e.disableDays,enableDays:e.enableDays,disableTime:e.disableTime,comfirmCallback:function(a){var o=a.year+"-"+a.month+"-"+a.day+" "+a.time;t.setFormDate(e.moduleId,e.itemId,o),t.setHiddenTextarea(e.moduleId,!1),t.setHiddenVideo(!1)},initCalendarDayCallback:function(a){var o=a.year+"-"+a.month+"-"+a.day;e.defaultDay=o;var n=t.getCalendarConf(e);t.initCalendarFn(n)},closeTimepicker:function(a){t.setHiddenTextarea(e.moduleId,!1),t.setHiddenVideo(!1)}}},initTimepickerFn:function(e){var t={disableWeekend:!1,disableAll:!1,defaultDay:"",comfirmTime:function(t,a){e.comfirmCallback&&e.comfirmCallback(t)},initCalendarDay:function(t,a){e.initCalendarDayCallback&&e.initCalendarDayCallback(t)}};h.extend(!0,t,e),(0,c.default)(t)},setFormDate:function(e,t,a){i().globalData;var o=this.options;if(this.props.isIndexCol)2;else if(this.props.isCusCol)o.cusColId;else if(this.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[this.props.tabBarColIndex].cusColId}for(var n=this.data.moduleInfoList,s=0,r=n.length;s<r;s++){var l=n[s];if(l.id==e){for(var d=l.content.formData,c={},u=0;u<d.length;u++)5==d[u].type&&d[u].id==t&&(d[u].val=a,c["moduleInfoList["+s+"].content.formData["+u+"]"]=d[u]);this.setData(c)}}},bindFormItemBlur:function(e){var t=e.currentTarget.dataset.module.id,a=e.currentTarget.dataset.item,o=a.id,n=e.detail.value,i=a.type;this.setFormItemVal(t,o,n,i)},setFormItemVal:function(e,t,a,o){i().globalData;var n=this.options;if(this.props.isIndexCol)2;else if(this.props.isCusCol)n.cusColId;else if(this.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[this.props.tabBarColIndex].cusColId}for(var s=this.data.moduleInfoList,r=0,l=s.length;r<l;r++){var d=s[r];if(d.id==e){for(var c=d.content.formData,u={},p=0;p<c.length;p++)c[p].type==o&&t==c[p].id&&(c[p].val=a,u["moduleInfoList["+r+"].content.formData["+p+"]"]=c[p]);this.setData(u)}}},setHiddenTextarea:function(e,t){i().globalData;var a=this.options;if(this.props.isIndexCol)2;else if(this.props.isCusCol)a.cusColId;else if(this.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[this.props.tabBarColIndex].cusColId}for(var o=this.data.moduleInfoList,n=0,s=o.length;n<s;n++){var r=o[n];if(r.id==e){for(var l=r.content.formData,d={},c=0;c<l.length;c++)3==l[c].type&&(l[c].hidden=t,l[c].val=l[c].val,d["moduleInfoList["+n+"].content.formData["+c+"]"]=l[c]);this.setData(d)}}},setHiddenTextareaByStyle:function(e){i().globalData;var t=this.options;if(this.props.isIndexCol)2;else if(this.props.isCusCol)t.cusColId;else if(this.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[this.props.tabBarColIndex].cusColId}for(var a=this.data.moduleInfoList,o=0,n=a.length;o<n;o++){var s=a[o];if(8==s.style){for(var r=s.content.formData,l={},d=0;d<r.length;d++)3==r[d].type&&(r[d].hidden=e,r[d].val=r[d].val,l["moduleInfoList["+o+"].content.formData["+d+"]"]=r[d]);this.setData(l)}}},setHiddenVideo:function(e){i().globalData;var t=this.options;if(this.props.isIndexCol)2;else if(this.props.isCusCol)t.cusColId;else if(this.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[this.props.tabBarColIndex].cusColId}for(var a=this.data.moduleInfoList,o=0,n=a.length;o<n;o++){var s=a[o];if(7==s.style){s.content.formData;var r={};r["moduleInfoList["+o+"].hidden"]=e,this.setData(r)}}},timestampToTime:function(e){e=e.toString().length>10?e:1e3*e;var t=new Date(e);t.getFullYear(),t.getMonth(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds();return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},jumptoSearchPage:function(e){var t=e.currentTarget.dataset.minfo;n.navigateTo({url:"/pages/searchPage/searchPage?minfo="+encodeURIComponent(JSON.stringify(t))})},videoPlayHandler:function(){g.logDog(7000100,0),this.setData({isVideoPlaying:!0})},videoPauseHandler:function(){this.setData({isVideoPlaying:!1})},videoEndedHandler:function(){this.setData({isVideoPlaying:!1})},touchStart:function(e){this.data.startX=e.touches[0].pageX,this.data.startY=e.changedTouches[0].clientY},touchMove:function(e){this.data.endX=e.touches[0].pageX,this.data.endX-this.data.startX>100&&this.setData({direction:0,moveFlag:!0}),this.data.startX-this.data.endX>100&&this.setData({direction:1,moveFlag:!0})},touchEnd:function(e){if(this.data.endY=e.changedTouches[0].clientY,this.data.endY-this.data.startY>100||this.data.startY-this.data.endY>100)this.data.moveFlag=!1;else if(this.data.moveFlag){var t,a,o=this.data.direction,n=(e.currentTarget.dataset.item,e.currentTarget.dataset.module),i=n.selectIndex,s=this.data.moduleInfoList,r=n.content.moduleList,l={};if(!(0==i&&0==o||i==n.content.moduleList.length-1&&1==o)){0==o?(t=n.content.moduleList[i-1].id,i--):(t=n.content.moduleList[i+1].id,i++);for(var d=0;d<r.length;d++)r[d].btnStyle="",r[d].borderStyle="",d==i&&0==n.content.style&&(r[d].btnStyle="border-radius: 28rpx;padding-left: 24rpx;padding-right: 24rpx;color:#fff;background:"+p.globalData.globalColor+";box-shadow:"+h.hexToRgba(p.globalData.globalColor,.25)+" 0rpx 10rpx 16rpx 0rpx"),d==i&&1==n.content.style&&(r[d].btnStyle="color: rgb(11, 0, 4);font-weight: bold;font-size: 30rpx;",r[d].borderStyle="background-color: "+p.globalData.globalColor+";");for(var c=0;c<s.length;c++)if(s[c].id===n.id){a=-1==t?null:p.globalData.labelInfo[t],l["moduleInfoList["+c+"].info"]=a,l["moduleInfoList["+c+"].selectIndex"]=i,l.moveFlag=!1,l["moduleInfoList["+c+"].content.moduleList"]=r,this.setData(l);break}}}},toggleLabelItem:function(e){for(var t=e.target.dataset.item,a=e.target.dataset.module,o=t.id,n=e.target.dataset.index,i=-1==o?null:p.globalData.labelInfo[o],s=this.data.moduleInfoList,r=a.content.moduleList,l={},d=0;d<r.length;d++)r[d].btnStyle="",r[d].borderStyle="",d===n&&0==a.content.style&&(r[d].btnStyle="border-radius: 28rpx;padding-left: 24rpx;padding-right: 24rpx;color:#fff;background:"+p.globalData.globalColor+";box-shadow:"+h.hexToRgba(p.globalData.globalColor,.25)+" 0rpx 10rpx 16rpx 0rpx"),d===n&&1==a.content.style&&(r[d].btnStyle="color: rgb(11, 0, 4);font-weight: bold;font-size: 30rpx;",r[d].borderStyle="background-color: "+p.globalData.globalColor+";");for(var c=0;c<s.length;c++)if(s[c].id===a.id){l["moduleInfoList["+c+"].info"]=i,l["moduleInfoList["+c+"].selectIndex"]=n,l["moduleInfoList["+c+"].content.moduleList"]=r;break}this.setData(l)},afterCommitForm:function(e){var t=this,a=e.detail.jInfo;this.newComerHandler&&this.newComerHandler(),a&&(n.showToast({title:"正在跳转到指定页面...",icon:"none",duration:2e3}),o((function(){t.jumpTypeCtrl(a)}),1500))},getVisitorLocation:function(e){var t=e.infoSysList,a=e.infoSysIndexList,o=e.serviceList,i=e.serviceIndexList;h.promisify(n.getLocation)({type:"gcj02"}).then((function(n){var s=[n.latitude,n.longitude];t.length>0&&e.handlerInfoSysDistance(e,t,a,s),o.length>0&&e.handlerServiceDistance(e,o,i,s)})).catch((function(o){console.log(o),console.log("get location Erro -- "+o.errMsg),p.globalData._hasGetLocationPopup?(e.closeLoading(e,a),e.closeLoading(e,i)):n.showModal({title:"获取地址信息失败",content:"获取地址信息需要您的授权",confirmText:"去授权",success:function(o){o.confirm?n.openSetting({success:function(o){1==o.authSetting["scope.userLocation"]&&e.getVisitorLocation(e,t,a)}}):(e.closeLoading(e,a),e.closeLoading(e,i)),p.globalData._hasGetLocationPopup=!0}})}))},handlerInfoSysDistance:function(e,t,a,o){for(var n=[],i=Math.ceil(t.length/50),s=0,r=0;r<i;r++){n[r]=[];for(var l=s;l<t.length;l++)if(t[l].other&&t[l].other.ds.showAddress&&0!=t[l].other.ds.blat&&0!=t[l].other.ds.blng){var d=t[l].other.ds;if(n[r].push([d.blat,d.blng]),s=l+1,n[r].length==50*(r+1))break}}if(0!=n[0].length){g.getDistance(o,n,(function(t){for(var o=t||[],n=e.data.moduleInfoList,i=0,s=0;s<a.length;s++){var r=[];r="number"==typeof a[s]?n[a[s]].content.selectedList:n[a[s][0]].content.moduleList[a[s][1]].info.content.selectedList;for(var l=0;l<r.length;l++)for(var d=i;d<o.length;d++)if(r[l].other&&r[l].other.ds.showAddress&&0!=r[l].other.ds.blat&&0!=r[l].other.ds.blng){r[l].other.ds.distance=o[d].distance.value,i=d+1;break}r=r.sort((function(e,t){return e.other&&e.other.ds.distance&&t.other&&t.other.ds.distance?e.other.ds.distance-t.other.ds.distance:e.other&&!e.other.ds.distance&&t.other&&t.other.ds.distance?1:e.other&&e.other.ds.distance&&t.other&&!t.other.ds.distance?-1:void 0})),"number"==typeof a[s]?(n[a[s]].content.selectedList=r,n[a[s]].isLoading=!1):13==n[a[s][0]].info.style&&(n[a[s][0]].content.moduleList[a[s][1]].info.content.selectedList=r,n[a[s][0]].info.isLoading=!1)}e.setData({moduleInfoList:n})}))}else e.closeLoading(e,a)},handlerServiceDistance:function(e,t,a,o){for(var n=[],i=Math.ceil(t.length/50),s=0,l=0;l<i;l++){n[l]=[];for(var d=s;d<t.length;d++)if(t[d].setting&&t[d].setting.cs.ao&&0!=t[d].setting.cs.blat&&0!=t[d].setting.cs.blng){var c=t[d].setting.cs;if(n[l].push([c.blat,c.blng]),s=d+1,n[l].length==50*(l+1))break}}if(0!=n[0].length){g.getDistance(o,n,(function(t){for(var o=t||[],n=e.data.moduleInfoList,i=0,s=0;s<a.length;s++){var l=[];l="number"==typeof a[s]?n[a[s]].content.selectedList:n[a[s][0]].content.moduleList[a[s][1]].info.content.selectedList;for(var d=0;d<l.length;d++)for(var c=i;c<o.length;c++)if(l[d].setting&&l[d].setting.cs.ao&&0!=l[d].setting.cs.blat&&0!=l[d].setting.cs.blng){l[d].setting.cs.distance=o[c].distance.value,i=c+1;break}("number"==typeof a[s]&&n[a[s]].content.sbl||"object"==r(a[s])&&n[a[s][0]].content.moduleList[a[s][1]].info.content.sbl)&&(l=l.sort((function(e,t){return e.setting&&e.setting.cs.distance&&t.setting&&t.setting.cs.distance?e.setting.cs.distance-t.setting.cs.distance:e.setting&&!e.setting.cs.distance&&t.setting&&t.setting.cs.distance?1:e.setting&&e.setting.cs.distance&&t.setting&&!t.setting.cs.distance?-1:void 0}))),"number"==typeof a[s]?(n[a[s]].content.selectedList=l,n[a[s]].isLoading=!1):10==n[a[s][0]].info.style&&(n[a[s][0]].content.moduleList[a[s][1]].info.content.selectedList=l,n[a[s][0]].info.isLoading=!1)}e.setData({moduleInfoList:n})}))}else e.closeLoading(e,a)},closeLoading:function(e,t){for(var a=e.data.moduleInfoList,o=0;o<t.length;o++)"object"==r(t[o])?a[t[o][0]].info.isLoading=!1:a[t[o]].isLoading=!1;e.setData({moduleInfoList:a})}}}(__hacked)})),window.define("libs/scripts/common",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis;var o,s=e("../../utils/eventConstants");function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=e("../../utils/api"),d=e("../../utils/util.js"),c=e("./login.js"),u=i(),p={};t.exports=(r(o={data:{fadein:!1},getWXAppInfo:function(e){var t=u.globalData.wxappInfo;0!=Object.keys(t).length?e.initWXAppInfo(e):l.getWXAppInfo().then((function(){!u.globalData.isWebApp||u.globalData.isManage?e.initWXAppInfo(e):u.globalData.webappUrl?e.setData({isWebApp:u.globalData.isWebApp,webappUrl:u.globalData.shareWebViewUrl?u.globalData.shareWebViewUrl:u.globalData.webappUrl}):n.redirectTo({url:"/pages/err/err"})}))},initWXAppInfo:function(e){var t=u.globalData,a=t.wxappInfo,o=a.flag,n=a.header,i=t.globalColor,s=a.cusService,r=a.bookSetting,l=a.isOem,d=a.modelTabBar,c=a.agentAcct,p=a.personalApp,g=a.messagePropList,f=a.topSetting,h=a.newsSysPage,m=a.gift,b=a.skinStyle;e.setData({header:n,flag:o,globalColor:i,cusService:s,bookSetting:r,isOem:l,tabBar:d,isVerFree:t.isVerFree,agentAcct:c,personalApp:p,messagePropList:g,votesList:null,topSetting:f,newsSysPage:h,activity:m,skinStyle:b,allCoupon:null,trialSwitch:a.trialSwitch}),f&&f.s&&f.s.h&&(e._onShareAppMessage=e.onShareAppMessage,Object.defineProperty(e,"onShareAppMessage",{get:function(){return function(t){var a=t.from;if("menu"==a)throw Error("dont fix this! throw err to forbid return");if("button"==a)return e._onShareAppMessage(a)}},set:function(){}})),t.isUserNotLogin||e.initUserInfo(),e.afterGetWXAppInfo(e),e.setNavigationBarColor(e)},afterGetWXAppInfo:function(e){},setNavigationBarColor:function(e){var t=this.data.topSetting||{},a=t.bg||{},o="#ffffff";1==a.t&&(o=a.c),n.setNavigationBarColor({frontColor:t&&t.tc&&t.tc.c||"#ffffff",backgroundColor:o,animation:{duration:400,timingFunc:"easeOut"}})},initUserInfo:function(){var e=this;u.globalData.openId?this.setData({userInfo:u.globalData.userInfo||{}}):c.initUserInfo(!1,(function(){e.setData({userInfo:u.globalData.userInfo||{}})}))},newComerHandler:function(){var e,t=u.globalData.userInfo,a=u.globalData.wxappInfo.gift||{},o=this.newcomerPopupComponent,n=u.globalData._todayPopupTime;new Date;e=new Date(n).getTime()>new Date((new Date).toLocaleDateString()).getTime(),o||(o=this.newcomerPopupComponent=this.selectComponent("#newcomerPopup",this)),o&&(!a.id||t&&t.authPhone?o.hideAll():l.checkUserPhoneExisted().then((function(t){t&&t.success&&!t.phoneExisted?(o.setActivity(a),u.globalData._hasNewcomerPopup&&e?o.closePopup():(u.globalData._hasNewcomerPopup=!0,o.show(),u.globalData._todayPopupTime=new Date)):o.hideAll()})))},beforeShareAppMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u.globalData,a=getCurrentPages(),o=a[a.length-1],n="/"+o.route,i=n,s="?";return t.openId&&(i=i+s+"sourceOpenId="+t.openId,s="&"),e.params&&(i=i+s+e.params,s="&"),{path:i}},showTabBarAndSideBar:function(){var e=this.selectComponent("#tabBar"),t=this.selectComponent("#sideBar");e&&e.hideHandler(!1),t&&t.hideHandler(!1)},hideTabBarAndSideBar:function(){var e=this.selectComponent("#tabBar"),t=this.selectComponent("#sideBar");e&&e.hideHandler(!0),t&&t.hideHandler(!0)},openCalandar:function(e){this.hideTabBarAndSideBar(),d.getCurrentPageEventEmitter().emit(s.SHOW_SHADOWVIEW);var t=e.detail||e;if(t&&t.setting){var a=this.calendarComponent;a||(a=this.calendarComponent=this.selectComponent("#calendar"));var o=Object.assign({},{defaultDate:"",setting:{}},t);this.calendarFormModuleId="form-module",o.moduleId&&(this.calendarFormModuleId="form-module"+o.moduleId),this.calendarCallback=t.callback,a.open(o),this.setData({fadein:!0})}else console.error("打开日历需要传入正确的 options 或者 date setting")},calendarClose:function(e){this.showTabBarAndSideBar(),d.getCurrentPageEventEmitter().emit(s.HIDE_SHADOWVIEW);var t=e.detail.date,a=this.selectComponent("#"+this.calendarFormModuleId);a&&(a.updateCalendar(t),this.calendarFormModuleId="",a=null),this.calendarCallback&&(this.calendarCallback(t),this.calendarCallback=null),this.setData({fadein:!1})},onlyRequestForModule:function(e){function t(e,t){for(;e.length>0;){var a=e.shift();a&&"function"==typeof a&&a(t)}}var a=i().globalData,o=e.cache,n=e.url,s=e.data||{},r=e.key,d=e.callback;if(n)if(!o||r)if(o&&a[r])d&&"function"==typeof d&&d(a[r]);else{p[r]||(p[r]={status:0,funcs:[]});var c=p[r];c.funcs.push(d),1!==c.status&&(c.status=1,l.issueRequest({url:n,data:s}).then((function(n){if(!n||!n.success)return c.status=-1,void t(c.funcs,!1);var i=n.data||n[e.resKey];t(c.funcs,i),o&&(a[r]=i),c.status=0})).catch((function(e){console.log(e)})))}else console.error("key 参数异常");else console.error("url 参数异常")},fullScreenHandler:function(e){var t=e.detail.fullScreen,a=this.selectComponent("#sideBar");a&&a.hideHandler(t)},jumpctrlCallback:function(e){var t=e.detail;t&&this.jumpTypeCtrl(t)},canJump:function(e){var t=e.currentTarget.dataset.jc,a=e.currentTarget.dataset.jinfo;t.t&&a&&this.jumpTypeCtrl(a)},jumpCtrl:function(e){var t=e.currentTarget.dataset.jinfo;t&&(t="string"==typeof t?JSON.parse(t):t,this.jumpTypeCtrl(t))},jumpTypeCtrl:function(e){var t=e.t;if(u.globalData.wxappInfo.jumpAuth[t-1])if(1==t){var a=e.colId,o=e.url,i=u.globalData.wxappInfo.tabBarCusColList;for(var s in i){if(i[s].cusColId==a){var r=parseInt(s)+1;o="/pages/cusCol"+r+"/cusCol"+r}}this.navigateToFun(o)}else if(2==t){var d=e.pho;l.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:d})}else if(3==t){var c=e.addr;u.globalData.wxAppRequest.getLocationFromBaidu(c)}else if(4==t){var p=e.bookDetailUrl;this.navigateToFun(p)}else if(6==t){var g=e.newsDetailUrl;this.navigateToFun(g)}else if(5==t);else if(11==t){var f=e.cardUrl;this.navigateToFun(f)}else if(12==t||14==t){var h=e.pageUrl;this.navigateToFun(h)}else{if(13==t)return;if(8==t||9==t||10==t||19==t)n.navigateToSmartProgram({appKey:e.bdAppKey,path:e.bdPath,success:function(e){},fail:function(e){console.log(e)}});else if(15==t){var m=e.bookGroupUrl;this.navigateToFun(m)}else if(16==t){var b=e.newsGroupUrl;this.navigateToFun(b)}else if(17==t){var v=e.infoSysDetailUrl;this.navigateToFun(v)}else if(18==t){var w=e.pageUrl;this.navigateToFun(w)}else if(20==t)n.setClipboardData({data:e.copyText,success:function(e){n.getClipboardData({success:function(e){n.showToast({title:"复制成功"}),l.logDog(7000259,1)}})}});else{var I=e.jumpUrl;this.navigateToFun(I)}}},navigateToFun:function(e){n.navigateTo({url:e})},syncdata:function(e){var t=e.detail.type,a=e.detail.value;if("globalColor"==t)this.setData({globalColor:a}),i().globalData.globalColor=a;else if("sidePhoneOpen"==t)this.setData({showPhone:a});else if("colName"==t){2==this.data.colId&&(this.setData({name:a}),n.setNavigationBarTitle({title:a}))}else"phone"==t&&(i().globalData.wxappInfo.cusService.phone=a)}},"jumpCtrl",(function(e){var t=e.currentTarget.dataset.jinfo;t&&this.jumpTypeCtrl(t)})),r(o,"jumpTypeCtrl",(function(e){var t=e.t;if(u.globalData.wxappInfo.jumpAuth[t-1])if(1==t){var a=e.colId,o=e.url,i=u.globalData.wxappInfo.tabBarCusColList;for(var s in i){if(i[s].cusColId==a){var r=parseInt(s)+1;o="/pages/cusCol"+r+"/cusCol"+r}}this.navigateToFun(o)}else if(2==t){var d=e.pho;l.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:d})}else if(3==t){var c=e.addr;u.globalData.wxAppRequest.getLocationFromBaidu(c)}else if(4==t){var p=e.bookDetailUrl;this.navigateToFun(p)}else if(6==t){var g=e.newsDetailUrl;this.navigateToFun(g)}else if(11==t){var f=e.cardUrl;this.navigateToFun(f)}else if(12==t||14==t){var h=e.pageUrl;this.navigateToFun(h)}else{if(13==t)return;if(8==t||9==t||10==t||19==t)n.navigateToSmartProgram({appKey:e.bdAppKey,path:e.bdPath,success:function(e){},fail:function(e){console.log(e)}});else if(15==t){var m=e.bookGroupUrl;this.navigateToFun(m)}else if(16==t){var b=e.newsGroupUrl;this.navigateToFun(b)}else if(17==t){var v=e.infoSysDetailUrl;this.navigateToFun(v)}else if(18==t){var w=e.pageUrl;this.navigateToFun(w)}else if(20==t)n.setClipboardData({data:e.copyText,success:function(e){n.getClipboardData({success:function(e){n.showToast({title:"复制成功"}),l.logDog(7000259,1)}})}});else{var I=e.jumpUrl;this.navigateToFun(I)}}})),r(o,"navigateToFun",(function(e){n.navigateTo({url:e})})),o)}(__hacked)})),window.define("libs/scripts/login",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o=a.setTimeout,s=(a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,e("../../utils/api")),r=[];function l(e){for(;r.length>0;){var t=r.shift();t&&"function"==typeof t&&t(e)}}t.exports={props:{title:"",isUserCol:!1,isOrderLogin:!1},getUserInfo:function(e,t){var a=this;i().globalData.userInfo&&!e||this.initLogin((function(e){e.code&&s.getUserInfoByCode(e.code).then((function(o){a.getUserInfoCallBack(o),t&&t(e)}))}))},getUserInfoCallBack:function(e){var t=e.userInfo;if(this.props.isUserCol){var a=e.myPageOrderList;if(a){var o=e.orderProcCount,n=e.finSettleCount,i=!1,s={},r=[];a.length>0&&(i=!0,s=a.shift(0),r=a),this.setData({orderProcCount:o,finSettleCount:n,hasOrder:i,firstOrder:s,otherOrderList:r})}t&&this.setData({avatarUrl:t.avatarUrl,nickName:t.nickName,hasUserInfo:!0})}else this.props.isOrderLogin&&t&&this.setData({hasUserInfo:!0})},userInfoHandler:function(e){var t=this;if("getUserInfo:ok"==e.detail.errMsg)if(!e.detail.iv&&t.props.isOrderLogin)n.showModal({title:"警告",content:"您点击了拒绝授权，无法提交预约。",showCancel:!1,confirmText:"确定",success:function(e){}});else{var a=e.detail.userInfo;s.getUserInfoByAuth(a).then((function(e){t.getUserInfoCallBack(e),t.props.isOrderLogin&&s.commitOrder(t)}))}},initLogin:function(e){var t=i(),a=n.isLoginSync();!a||a instanceof Error||!a.isLogin?o((function(){e(!1)}),0):n.login({success:function(a){if(!a.code)return e&&"function"==typeof e&&e(!1),!1;"boolean"==typeof t.globalData.isUserNotLogin&&t.globalData.isUserNotLogin&&(t.globalData.isUserNotLogin=!1),e&&"function"==typeof e&&e(a)},fail:function(a){var o=t.globalData.isUserNotLogin;t.globalData.openId||void 0!==o||(t.globalData.isUserNotLogin=!0),e&&"function"==typeof e&&e(!1)}})},initUserInfo:function(e,t){i().globalData.userInfo&&!e||(0===r.length&&this.initLogin((function(e){e&&e.code?s.getUserInfoByCode(e.code).then((function(e){if(!e||!e.success)throw new Error(e);l(e)})).catch((function(e){console.log(e),l(!1)})):l(!1)})),r.push(t))},dealUserInfo:function(e,t){s.getUserInfoByAuth(JSON.parse(e)).then((function(e){t()}))}}}(__hacked)})),window.define("libs/scripts/utils",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o=a.setTimeout,s=(a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,e("../../utils/util").promisify),r=e("../../utils/api"),l=r.getUserInfoByCode,d=r.issueRequest,c=r.getWXAppInfo,u={},p={},g=null;function f(){return s(n.login)().then((function(e){if(e.code){var t=i().globalData;return"boolean"==typeof t.isUserNotLogin&&t.isUserNotLogin&&(t.isUserNotLogin=!1),e.code}})).catch((function(e){var t=i().globalData;t.openId||void 0!==t.isUserNotLogin||(t.isUserNotLogin=!0),console.error(e)}))}function h(){return g||(g=f().then((function(e){if(e)return l(e)})).then((function(e){if(e&&e.success)return!0})).catch(console.error).finally((function(){return g=null}))),g}function m(e){if(!e.openId)return d(e);var t=i().globalData;return t.openId?(e.data=Object.assign({},e.data,{openId:t.openId,from:1}),d(e)):h().then((function(a){if(a)return e.data=Object.assign({},e.data,{openId:t.openId,from:1}),d(e);n.showModal({title:"请求失败",content:"获取 openId 失败，请稍候再试",showCancel:!1,confirmText:"确定"})})).catch(console.error)}t.exports={initLogin:f,initUserInfo:h,initWXAppInfo:function(){var e=i().globalData,t=e.wxappInfo;return t&&Object.keys(t).length>0?Promise.resolve(t):c().then((function(){return e.wxappInfo})).catch((function(e){console.error(e)}))},request:m,requestOnce:function(e){var t=i().globalData,a=e.cache,o=e.url,n=e.data||{},s=e.key,r=t._onlyRequestMap;if(o){if(s){if(r||(r=t._onlyRequestMap={}),a&&r[s])return Promise.resolve(r[s]);if(!u[s]){var l={url:o,data:n};e.openId&&(l.openId=!0),u[s]=m(l).then((function(t){if(t&&t.success){var o=e.resKey?t[e.resKey]:t.data;return a&&(r[s]=o),o}})).catch((function(e){console.error(e)})).finally((function(){return u[s]=null}))}return u[s]}console.error("key 参数异常，每个请求需要一个唯一的 key")}else console.error("url 参数异常")},onlyOneRequestQueue:function(e){var t={INIT:0,RUNING:1},a=e.key;if(a){var n=p[a];n||(n=p[a]={status:t.INIT,queue:[]}),n.queue.push(e),n.status===t.INIT&&function e(a){var n=p[a];n.status===t.INIT&&(n.status=t.RUNING);var i=n.queue.shift(),s=i.request.bind(null,(function(){0!==n.queue.length?e(a):n.status=t.INIT}));i.interval?o(s,i.interval):s()}(a)}else console.error("key 参数异常，每个请求需要一个唯一的 key")}}}(__hacked)})),window.define("libs/scripts/webview",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis;var o=e("../../utils/api"),n=i();t.exports={props:{isTabBarWebView:!1,tabBarWebViewIndex:0},onLoad:function(e){var t=this,a=n.globalData.wxAppRequest;if(t.props.isTabBarWebView){var o=n.globalData.wxappInfo;0!=Object.keys(o).length?t.initWebView(t):a.getWXAppInfo((function(){t.initWebView()}))}else{var i=decodeURIComponent(e.pageUrl);t.setData({pageUrl:i})}},onShow:function(){o.logDog(7000090,4)},initWebView:function(e){var t=n.globalData.wxappInfo.tabBarWebViewList[e.props.tabBarWebViewIndex].pageUrl;e.setData({pageUrl:t})}}}(__hacked)})),window.define("libs/timepicker/index",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){var t;e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(a,"__esModule",{value:!0}),a.isIos=d;var s=void 0,r=["0:00","0:30","1:00","1:30","2:00","2:30","3:00","3:30","4:00","4:30","5:00","5:30","6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],l=["0:00","0:15","0:30","0:45","1:00","1:15","1:30","1:45","2:00","2:15","2:30","2:45","3:00","3:15","3:30","3:45","4:00","4:15","4:30","4:45","5:00","5:15","5:30","5:45","6:00","6:15","6:30","6:45","7:00","7:15","7:30","7:45","8:00","8:15","8:30","8:45","9:00","9:15","9:30","9:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"];function d(){var e=s||(s=n.getSystemInfoSync());return/iphone|ios/i.test(e.platform)}function c(e,t,a){var o=e+"-"+t+"-"+a;return d()&&(o=e+"/"+t+"/"+a),new Date(o)}function u(){var e=getCurrentPages();return e[e.length-1]}function p(e){var t=this;e&&e.length&&e.forEach((function(e){t[e]=h[e].bind(t)}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return e;var t=60*(new Date).getHours()+(new Date).getMinutes(),a=this.config,o=(a.disableTime,a.isDisableBeforeCurrentHour),n=this.data.timepicker,i=n.curYear,s=n.curMonth,r=n.curDate,l=this.data.timepicker.selectedDay[0],d=!0;return l&&(d=l.year==i&&l.month==s&&l.day==r),e.forEach((function(e){if(e.forbidden=!1,o&&d){var a=e.time.split(":")[0],n=parseInt(e.time.split(":")[1]);e.forbidden=60*a+n<=t}})),e}function f(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.data.timepicker.selectedDay[0],o=a.year,n=a.month,i=a.day,s=(this.config.disableTimePoint||{}).t;return null==s?t:(s.forEach((function(a,s){var d=new Date(a.d);if(d.getFullYear()==o&&d.getMonth()+1==n&&d.getDate()==i)if(0==e.config.selectTimeInterval){for(var c=[],u=0;u<24;u++)c.push(u+":00");a.i.forEach((function(e){t.forEach((function(t){t.time==c[e]&&(t.forbidden=!0)}))}))}else 1==e.config.selectTimeInterval?a.i.forEach((function(e){t.forEach((function(t){t.time==r[e]&&(t.forbidden=!0)}))})):2==e.config.selectTimeInterval&&a.i.forEach((function(e){t.forEach((function(t){t.time==l[e]&&(t.forbidden=!0)}))}))})),t)}var h=(o(t={renderDays:function(e,t,a){for(var o=this,n=[],i=5,s=h.getThisMonthDays(e,t),r=s-a+1,l=a;l<=s&&0!=i;l++)n.push({day:l,choosed:!1,disable:!1,year:e,month:t}),i--;if(r<5)for(var d=1*t+1>12?1:1*t+1,u=1*t+1>12?1*e+1:e,p=1;p<5-r;p++)n.push({day:p,choosed:!1,disable:!1,year:u,month:d});var g=[],f=(a?[{day:a,choosed:!0,year:e,month:t}]:this.data.timepicker.selectedDay).map((function(e){return e.year+"-"+e.month+"-"+e.day})),m=this.config.enableDays,b=(void 0===m?[]:m).map((function(e){return e.year+"-"+e.month+"-"+e.day})),v=this.config.disableDays,w=(void 0===v?[]:v).map((function(e){return e.year+"-"+e.month+"-"+e.day})),I=["日","一","二","三","四","五","六"],D=new Date,y=c(D.getFullYear(),D.getMonth()+1,D.getDate()).getTime();this.setData({"timepicker.todayTimestamp":y}),n.map((function(e){var t=e.year+"-"+e.month+"-"+e.day;-1!==f.indexOf(t)&&(e.choosed=!0),o.config.disableAll&&(e.disable=!0);var a=c(e.year,e.month,e.day).getDay();!o.config.disableWeekend||0!=a&&6!=a||(e.disable=!0),o.config.disableWeekend||0!=a&&6!=a||(e.disable=!1),o.config.openWeek&&-1==o.config.openWeek.indexOf(a)&&!e.disable&&(e.disable=!0),-1!==w.indexOf(t)&&(e.disable=!0),-1!==b.indexOf(t)&&(e.disable=!1);var n=c(e.year,e.month,e.day).getTime();o.config.openGrade&&o.config.gradeDay&&(y+864e5*(o.config.gradeDay-1)-n<0&&!e.disable&&(e.disable=!0));g.push({weeks:I[a],choosed:e.choosed,disable:e.disable,year:e.year,month:e.month,day:e.day,date:e.month+"/"+e.day})})),this.setData({"timepicker.lastFiveDaysList":g})},jumpToToday:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,o=e.getDate(),n=c(t,a,o).getTime();this.setData({"timepicker.curYear":t,"timepicker.curMonth":a,"timepicker.curDate":o,"timepicker.selectedDay":[{day:o,choosed:!0,year:t,month:a}],"timepicker.todayTimestamp":n,"timepicker.selectedTime":{year:t,month:a,day:o}}),h.renderDays.call(this,t,a,o),h.renderTimepicker.call(this,t,a,o)},renderTimepicker:function(e,t,a){h.calculateDays.call(this,e,t,a)},calculateDays:function(e,t,a){var o=a?[{day:a,choosed:!0,year:e,month:t}]:this.data.timepicker.selectedDay,n=o.map((function(e){return e.year+"-"+e.month+"-"+e.day})),i=(this.data.timepicker||[]).lastFiveDaysList;i.forEach((function(e){var t=e.year+"-"+e.month+"-"+e.day;e.choosed=-1!==n.indexOf(t)}));var s={"timepicker.lastFiveDaysList":i};a&&(s["timepicker.selectedDay"]=o);var r=this.data.timepicker||[],l=r.allTimeList,d=r.selectedTime;if(d){var c=!1;o[0].year==d.year&&o[0].month==d.month&&o[0].day==d.day&&(c=!0),l.forEach((function(e){e.choosed=c&&d.time==e.time})),s["timepicker.allTimeList"]=l}this.setData(s)},getThisMonthDays:function(e,t){return new Date(e,t,0).getDate()},getThisDayTime:function(){var e=this.config,t=e.disableTime,a=e.selectTimeInterval,o=[],n=void 0,i=void 0;a?(n=1==a?48:96,i=1==a?r:l):n=24;for(var s=0,d=n;s<d;s++)if(-1==t.indexOf(s)){var c={time:a?i[s]:s+":00",choosed:!1,disable:!1,forbidden:!1};o.push(c)}return o},getDayOfWeek:function(e,t,a){return new Date(Date.UTC(e,t-1,a)).getDay()},tapTimeItem:function(e){var t=e.currentTarget.dataset,a=(t.idx,t.forbidden),o=(t.disable,t.time);if(a)n.showModal({content:"该时间不可选！",showCancel:!1,success:function(e){e.confirm}});else{var i=this.data.timepicker.selectedDay[0],s=i.year,r=i.month,l=i.day;h.selectTime.call(this,s,r,l,o)}},comfirmTime:function(e){var t=this.config.comfirmTime,a=this.data.timepicker,o=a.selectedTime;if(a.selectedDay[0].disable)n.showModal({content:"当日时间不可选！！",showCancel:!1,success:function(e){e.confirm}});else{if(o&&o.time)return h.setTimepickerStatus.call(this,!1),t&&"function"==typeof t?this.config.comfirmTime(o,e):void 0;n.showModal({content:"请选择对应的时间！",showCancel:!1,success:function(e){e.confirm}})}},disableTime:function(e){var t=this.data.timepicker.allTimeList;if("[object Array]"!==Object.prototype.toString.call(e))return console.error("disableTime 参数为数组");var a=e;t.map((function(e){var t=1*e.time.split(":")[0];-1!==a.indexOf(t)&&(e.disable=!0)})),this.setData({"timepicker.allTimeList":t,"timepicker.disableTimeList":a})},disableTimepickerDays:function(e){var t=this.data.timepicker.selectedDay,a=this.data.timepicker,o=a.disableDays,n=void 0===o?[]:o,i=a.lastFiveDaysList;if("[object Array]"!==Object.prototype.toString.call(e))return console.error("disableDays 参数为数组");var s=e.concat(n),r=s.map((function(e){return e.year+"-"+e.month+"-"+e.day}));i.forEach((function(e){var a=e.year+"-"+e.month+"-"+e.day;-1!==r.indexOf(a)&&(e.disable=!0);var o=t.map((function(e){return e.year+"-"+e.month+"-"+e.day}));-1!==o.indexOf(a)&&-1!==r.indexOf(a)&&(t[o.indexOf(a)].disable=!0)}));var l=(this.data.timepicker||[]).allTimeList,d=t[0].year+"-"+t[0].month+"-"+t[0].day;this.config.disableAll&&l.forEach((function(e){return e.forbidden=!0}));var u=this.config.enableDays,p=(void 0===u?[]:u).map((function(e){return e.year+"-"+e.month+"-"+e.day}));-1!==p.indexOf(d)&&(l=g.call(this,l)),-1!==r.indexOf(d)&&l.forEach((function(e){return e.forbidden=!0}));var h=c(t[0].year,t[0].month,t[0].day).getDay(),m=t[0].year+"-"+t[0].month+"-"+t[0].day;this.config.disableWeekend||0!=h&&6!=h||(l=g.call(this,l)),this.config.openWeek&&(-1!==this.config.openWeek.indexOf(h)||-1!==p.indexOf(m)?l=g.call(this,l):0!==this.config.openWeek.length&&-1!==this.config.openWeek.indexOf(h)||l.forEach((function(e){return e.forbidden=!0}))),this.config.disableTimePoint&&0==this.config.tiemOrDate&&(l=f.call(this,l)),this.setData({"timepicker.lastFiveDaysList":i,"timepicker.disableDays":s,"timepicker.selectedDay":t,"timepicker.allTimeList":l})},tapDayItem:function(e){var t=e.currentTarget.dataset,a=(t.idx,t.year),o=t.month,n=t.day;t.disable||m(a,o,n,!1)},selectTime:function(e,t,a,o){var n=this.data.timepicker||[],i=(n.days,n.selectedDay,n.allTimeList),s=(this.config,i);s.forEach((function(e){return e.choosed=o==e.time}));var r={year:e,month:t,day:a,time:o};this.setData({"timepicker.allTimeList":s,"timepicker.selectedTime":r})},setTimepickerStatus:function(e){this.setData({"timepicker.show":e})}},"selectTime",(function(e,t,a,o){var n=this.data.timepicker||[],i=(n.days,n.selectedDay,n.allTimeList),s=(this.config,i);s.map((function(e){o==e.time?e.choosed=!0:e.choosed=!1}));var r={year:e,month:t,day:a,time:o};this.setData({"timepicker.allTimeList":s,"timepicker.selectedTime":r})})),o(t,"initCalendarDay",(function(e){var t={};this.data.timepicker.selectedDay[0];var a=this.data.timepicker.selectedDay[0],o=a.year,n=a.month,i=a.day,s=void 0,r=void 0,l=void 0;if("prev"==e.currentTarget.dataset.type){var d=h.getThisMonthDays(o,n-1);l=--i>0?i:d,r=i>0?n:--n>0?n:12,s=n>0?o:--o}else{var c=h.getThisMonthDays(o,n);l=++i>c?1:i,r=i>c&&++n>12?1:n,s=n>12?++o:o}t.year=s,t.month=r,t.day=l,h.setTimepickerStatus.call(this,!1);var u=this.config.initCalendarDay;if(u&&"function"==typeof u)return this.config.initCalendarDay(t)})),o(t,"catchTouch",(function(){})),o(t,"closeTimepicker",(function(e){h.setTimepickerStatus.call(this,!1);var t=this.config.closeTimepicker;if(t&&"function"==typeof t)return this.config.closeTimepicker(e)})),t),m=(a.disableTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=u();h.disableTime.call(t,e)},a.disableTimepickerDays=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=u();h.disableTimepickerDays.call(t,e)},a.jumpTo=function(e,t,a,o){var n=u(),i=n.data.timepicker.selectedDay;if(!i||+i[0].year!=+e||+i[0].month!=+t||+i[0].day!=+a||o)if(e&&t){if("number"!=typeof+e||"number"!=typeof+t)return console.error("jump 函数年月日参数必须为数字");var s=n.data.timepicker.allTimeList,r=new Date;r.getFullYear(),r.getMonth(),r.getDate(),r.getHours();n.setData({"timepicker.curYear":e,"timepicker.curMonth":t,"timepicker.selectedDay":[{day:a,choosed:!0,year:e,month:t}]}),s=g.call(n,s);var l={"timepicker.allTimeList":s=f.call(n,s)};n.setData(l,(function(){if("number"==typeof+a)return h.renderTimepicker.call(n,e,t,a);h.renderTimepicker.call(n,e,t)}))}else h.jumpToToday.call(n)});a.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["tapTimeItem","comfirmTime","tapDayItem","initCalendarDay","catchTouch","closeTimepicker"];if(e.context){var a=e.context;u=function(){return a},e.context=null,delete e.context}var o=u();h.setTimepickerStatus.call(o,!0),o.config=e;var n=i().globalData;if(o.setData({"timepicker.allTimeList":h.getThisDayTime.call(o,e.disableTime,e.isDisableBeforeCurrentHour),"timepicker.isCusTabBarShow":n.isCusTabBarShow,"timepicker.isIphoneX":n.isIphoneX,"timepicker.timeInterval":e.selectTimeInterval}),e.defaultDay&&"string"==typeof e.defaultDay){var s=e.defaultDay.split(" "),r=s[1],l=s[0].split("-");if(l.length<3)return console.error("配置 jumpTo 格式应为: 2018-4-2 或 2018-04-02");h.selectTime.call(o,l[0],l[1],l[2],r),h.renderDays.call(o,l[0],l[1],l[2]),m(+l[0],+l[1],+l[2],!0)}else h.jumpToToday.call(o);p.call(o,t)}}(__hacked)})),window.define("libs/toast/toast",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function;var a=e.setTimeout,o=(e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis,{"_toast_.isHide":!1,"_toast_.title":"","_toast_.content":""}),n={showToast:function(e){var t=this,o=e.title||"",n=e.content||"",i=e.duration||3e3,s=e.callback;this.setData({"_toast_.isHide":!0,"_toast_.title":o,"_toast_.content":n}),a((function(){t.setData({"_toast_.isHide":!1}),s&&s()}),i)},catchTouch:function(){}};t.exports={ToastPannel:function(){var e=getCurrentPages(),t=e[e.length-1];return this.__page=t,Object.assign(t,n),t.toastPannel=this,t.setData(o),this}}}(__hacked)})),window.define("libs/wxParse/html2json",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis;var o="",n="",i={},s=e("./wxDiscode.js"),r=e("./htmlparser.js"),l=(u("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),u("br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,object,ol,output,p,pre,section,table,tbody,td,tfoot,th,thead,tr,ul,video")),d=u("abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),c=u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u("wxxxcode-style,style,view,scroll-view,block");function u(e){for(var t={},a=e.split(","),o=0;o<a.length;o++)t[a[o]]=!0;return t}function p(e){var t=[];if(0==o.length||!i)return(d={node:"text"}).text=e,s=[d];e=e.replace(/\[([^\[\]]+)\]/g,":$1:");for(var a=new RegExp("[:]"),s=e.split(a),r=0;r<s.length;r++){var l=s[r],d={};i[l]?(d.node="element",d.tag="emoji",d.text=i[l],d.baseSrc=n):(d.node="text",d.text=l),t.push(d)}return t}t.exports={html2json:function(e,t){e=function(e){return e.replace(/<!--.*?-->/gi,"").replace(/\/\*.*?\*\//gi,"").replace(/[ ]+</gi,"<")}(e=function(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<.*!doctype.*\>\n/,"").replace(/<.*!DOCTYPE.*\>\n/,"")}(e)),e=s.strDiscode(e);var a=[],o={node:t,nodes:[],images:[],imageUrls:[]},n=0;return r(e,{start:function(e,i,s){var r,u={node:"element",tag:e};0===a.length?(u.index=n.toString(),n+=1):(void 0===(r=a[0]).nodes&&(r.nodes=[]),u.index=r.index+"."+r.nodes.length);if(l[e]?u.tagType="block":d[e]?u.tagType="inline":c[e]&&(u.tagType="closeSelf"),0!==i.length&&(u.attr=i.reduce((function(e,t){var a=t.name,o=t.value;return"class"==a&&(u.classStr=o),"style"==a&&(u.styleStr=o),o.match(/ /)&&(o=o.split(" ")),e[a]?Array.isArray(e[a])?e[a].push(o):e[a]=[e[a],o]:e[a]=o,e}),{})),"img"===u.tag){u.imgIndex=o.images.length;var p=u.attr.src;""==p[0]&&p.splice(0,1),u.attr.src=p,u.from=t,o.images.push(u),o.imageUrls.push(p)}if("font"===u.tag){var g=["x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large"],f={color:"color",face:"font-family",size:"font-size"};for(var h in u.attr||(u.attr={}),u.attr.style||(u.attr.style=[]),"[object Array]"!=Object.prototype.toString.call(u.attr.style)&&(u.attr.style=[]),u.styleStr||(u.styleStr=""),f)if(u.attr[h]){var m="size"===h?g[u.attr[h]-1]:u.attr[h];u.attr.style.push(f[h]),u.attr.style.push(m),u.styleStr+=f[h]+": "+m+";"}}("source"===u.tag&&(o.source=u.attr.src),s)?(void 0===(r=a[0]||o).nodes&&(r.nodes=[]),r.nodes.push(u)):a.unshift(u)},end:function(e){var t=a.shift();if(t.tag!==e&&console.error("invalid state: mismatch end tag"),"video"===t.tag&&o.source&&(t.attr.src=o.source,delete o.source),0===a.length)o.nodes.push(t);else{var n=a[0];void 0===n.nodes&&(n.nodes=[]),n.nodes.push(t)}},chars:function(e){var t={node:"text",text:e,textArray:p(e)};if(0===a.length)t.index=n.toString(),n+=1,o.nodes.push(t);else{var i=a[0];void 0===i.nodes&&(i.nodes=[]),t.index=i.index+"."+i.nodes.length,i.nodes.push(t)}},comment:function(e){}}),o},emojisInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",a=arguments[2];o=e,n=t,i=a}}}(__hacked)})),window.define("libs/wxParse/htmlparser",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var a=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,o=/^<\/([-A-Za-z0-9_]+)[^>]*>/,n=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,i=u("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),s=u("a,address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,table,tbody,td,tfoot,th,thead,tr,ul,video"),r=u("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),l=u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),d=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),c=u("wxxxcode-style,style,view,scroll-view,block");function u(e){for(var t={},a=e.split(","),o=0;o<a.length;o++)t[a[o]]=!0;return t}t.exports=function(e,t){var u,p,g,f=[],h=e;f.last=function(){return this[this.length-1]};try{for(;e;){if(p=!0,f.last()&&c[f.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+f.last()+"[^>]*>"),(function(e,a){return a=a.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(a),""})),v("",f.last());else if(0==e.indexOf("\x3c!--")?(u=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,u)),e=e.substring(u+3),p=!1):0==e.indexOf("</script")||0==e.indexOf("<script")||(0==e.indexOf("</")?(g=e.match(o))&&(e=e.substring(g[0].length),g[0].replace(o,v),p=!1):0==e.indexOf("<")&&(g=e.match(a))&&(e=e.substring(g[0].length),g[0].replace(a,b),p=!1)),p){u=e.indexOf("<");for(var m="";0===u;)m+="<",u=(e=e.substring(1)).indexOf("<");m+=u<0?e:e.substring(0,u),e=u<0?"":e.substring(u),t.chars&&t.chars(m)}if(e==h)throw"Parse Error: "+e;h=e}}catch(e){console.log(e)}function b(e,a,o,c){if(a=a.toLowerCase(),s[a])for(;f.last()&&r[f.last()];)v("",f.last());if(l[a]&&f.last()==a&&v("",a),(c=i[a]||!!c)||f.push(a),t.start){var u=[];o.replace(n,(function(e,t){var a=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:d[t]?t:"";u.push({name:t,value:a,escaped:a.replace(/(^|[^\\])"/g,'$1\\"')})})),t.start&&t.start(a,u,c)}}function v(e,a){if(a){a=a.toLowerCase();for(o=f.length-1;o>=0&&f[o]!=a;o--);}else var o=0;if(o>=0){for(var n=f.length-1;n>=o;n--)t.end&&t.end(f[n]);f.length=o}}v()}}(__hacked)})),window.define("libs/wxParse/showdown",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix identation in es6 strings",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o].defaultValue);return a}var n={},i={},s={},r=o(!0),l={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:o(!0)};function d(e,t){"use strict";var o=t?"Error in "+t+" extension->":"Error in unnamed extension",i={valid:!0,error:""};n.helper.isArray(e)||(e=[e]);for(var s=0;s<e.length;++s){var r=o+" sub-extension "+s+": ",l=e[s];if("object"!==(void 0===l?"undefined":a(l)))return i.valid=!1,i.error=r+"must be an object, but "+(void 0===l?"undefined":a(l))+" given",i;if(!n.helper.isString(l.type))return i.valid=!1,i.error=r+'property "type" must be a string, but '+a(l.type)+" given",i;var d=l.type=l.type.toLowerCase();if("language"===d&&(d=l.type="lang"),"html"===d&&(d=l.type="output"),"lang"!==d&&"output"!==d&&"listener"!==d)return i.valid=!1,i.error=r+"type "+d+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===d){if(n.helper.isUndefined(l.listeners))return i.valid=!1,i.error=r+'. Extensions of type "listener" must have a property called "listeners"',i}else if(n.helper.isUndefined(l.filter)&&n.helper.isUndefined(l.regex))return i.valid=!1,i.error=r+d+' extensions must define either a "regex" property or a "filter" method',i;if(l.listeners){if("object"!==a(l.listeners))return i.valid=!1,i.error=r+'"listeners" property must be an object but '+a(l.listeners)+" given",i;for(var c in l.listeners)if(l.listeners.hasOwnProperty(c)&&"function"!=typeof l.listeners[c])return i.valid=!1,i.error=r+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+a(l.listeners[c])+" given",i}if(l.filter){if("function"!=typeof l.filter)return i.valid=!1,i.error=r+'"filter" must be a function, but '+a(l.filter)+" given",i}else if(l.regex){if(n.helper.isString(l.regex)&&(l.regex=new RegExp(l.regex,"g")),!l.regex instanceof RegExp)return i.valid=!1,i.error=r+'"regex" property must either be a string or a RegExp object, but '+a(l.regex)+" given",i;if(n.helper.isUndefined(l.replace))return i.valid=!1,i.error=r+'"regex" extensions must implement a replace string or function',i}}return i}function c(e,t){"use strict";return"~E"+t.charCodeAt(0)+"E"}n.helper={},n.extensions={},n.setOption=function(e,t){"use strict";return r[e]=t,this},n.getOption=function(e){"use strict";return r[e]},n.getOptions=function(){"use strict";return r},n.resetOptions=function(){"use strict";r=o(!0)},n.setFlavor=function(e){"use strict";if(l.hasOwnProperty(e)){var t=l[e];for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a])}},n.getDefaultOptions=function(e){"use strict";return o(e)},n.subParser=function(e,t){"use strict";if(n.helper.isString(e)){if(void 0===t){if(i.hasOwnProperty(e))return i[e];throw Error("SubParser named "+e+" not registered!")}i[e]=t}},n.extension=function(e,t){"use strict";if(!n.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=n.helper.stdExtName(e),n.helper.isUndefined(t)){if(!s.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return s[e]}"function"==typeof t&&(t=t()),n.helper.isArray(t)||(t=[t]);var a=d(t,e);if(!a.valid)throw Error(a.error);s[e]=t},n.getAllExtensions=function(){"use strict";return s},n.removeExtension=function(e){"use strict";delete s[e]},n.resetExtensions=function(){"use strict";s={}},n.validateExtension=function(e){"use strict";var t=d(e,null);return!!t.valid||(console.warn(t.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},n.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},n.helper.forEach=function(e,t){"use strict";if("function"==typeof e.forEach)e.forEach(t);else for(var a=0;a<e.length;a++)t(e[a],a,e)},n.helper.isArray=function(e){"use strict";return e.constructor===Array},n.helper.isUndefined=function(e){"use strict";return void 0===e},n.helper.stdExtName=function(e){"use strict";return e.replace(/[_-]||\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=c,n.helper.escapeCharacters=function(e,t,a){"use strict";var o="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";a&&(o="\\\\"+o);var n=new RegExp(o,"g");return e=e.replace(n,c)};var u=function(e,t,a,o){"use strict";var n,i,s,r,l,d=o||"",c=d.indexOf("g")>-1,u=new RegExp(t+"|"+a,"g"+d.replace(/g/g,"")),p=new RegExp(t,d.replace(/g/g,"")),g=[];do{for(n=0;s=u.exec(e);)if(p.test(s[0]))n++||(r=(i=u.lastIndex)-s[0].length);else if(n&&!--n){l=s.index+s[0].length;var f={left:{start:r,end:i},match:{start:i,end:s.index},right:{start:s.index,end:l},wholeMatch:{start:r,end:l}};if(g.push(f),!c)return g}}while(n&&(u.lastIndex=i));return g};n.helper.matchRecursiveRegExp=function(e,t,a,o){"use strict";for(var n=u(e,t,a,o),i=[],s=0;s<n.length;++s)i.push([e.slice(n[s].wholeMatch.start,n[s].wholeMatch.end),e.slice(n[s].match.start,n[s].match.end),e.slice(n[s].left.start,n[s].left.end),e.slice(n[s].right.start,n[s].right.end)]);return i},n.helper.replaceRecursiveRegExp=function(e,t,a,o,i){"use strict";if(!n.helper.isFunction(t)){var s=t;t=function(){return s}}var r=u(e,a,o,i),l=e,d=r.length;if(d>0){var c=[];0!==r[0].wholeMatch.start&&c.push(e.slice(0,r[0].wholeMatch.start));for(var p=0;p<d;++p)c.push(t(e.slice(r[p].wholeMatch.start,r[p].wholeMatch.end),e.slice(r[p].match.start,r[p].match.end),e.slice(r[p].left.start,r[p].left.end),e.slice(r[p].right.start,r[p].right.end))),p<d-1&&c.push(e.slice(r[p].wholeMatch.end,r[p+1].wholeMatch.start));r[d-1].wholeMatch.end<e.length&&c.push(e.slice(r[d-1].wholeMatch.end)),l=c.join("")}return l},n.helper.isUndefined(console)&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),n.Converter=function(e){"use strict";var t={},o=[],i=[],c={};function u(e,t){if(t=t||null,n.helper.isString(e)){if(t=e=n.helper.stdExtName(e),n.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new n.Converter));n.helper.isArray(e)||(e=[e]);var a=d(e,t);if(!a.valid)throw Error(a.error);for(var s=0;s<e.length;++s)switch(e[s].type){case"lang":o.push(e[s]);break;case"output":i.push(e[s]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(n.extensions[e],e);if(n.helper.isUndefined(s[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=s[e]}"function"==typeof e&&(e=e()),n.helper.isArray(e)||(e=[e]);var a=d(e,t);if(!a.valid)throw Error(a.error);for(var r=0;r<e.length;++r){switch(e[r].type){case"lang":o.push(e[r]);break;case"output":i.push(e[r])}if(e[r].hasOwnProperty(c))for(var l in e[r].listeners)e[r].listeners.hasOwnProperty(l)&&p(l,e[r].listeners[l])}}function p(e,t){if(!n.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+(void 0===e?"undefined":a(e))+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+(void 0===t?"undefined":a(t))+" given");c.hasOwnProperty(e)||(c[e]=[]),c[e].push(t)}!function(){for(var o in e=e||{},r)r.hasOwnProperty(o)&&(t[o]=r[o]);if("object"!==(void 0===e?"undefined":a(e)))throw Error("Converter expects the passed parameter to be an object, but "+(void 0===e?"undefined":a(e))+" was passed instead.");for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.extensions&&n.helper.forEach(t.extensions,u)}(),this._dispatch=function(e,t,a,o){if(c.hasOwnProperty(e))for(var n=0;n<c[e].length;++n){var i=c[e][n](e,t,this,a,o);i&&void 0!==i&&(t=i)}return t},this.listen=function(e,t){return p(e,t),this},this.makeHtml=function(e){if(!e)return e;var a={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:o,outputModifiers:i,converter:this,ghCodeBlocks:[]};return e=(e=(e=(e=e.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,a=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(a,"")}(e)),e=e,e=n.subParser("detab")(e,t,a),e=n.subParser("stripBlankLines")(e,t,a),n.helper.forEach(o,(function(o){e=n.subParser("runExtension")(o,e,t,a)})),e=n.subParser("hashPreCodeTags")(e,t,a),e=n.subParser("githubCodeBlocks")(e,t,a),e=n.subParser("hashHTMLBlocks")(e,t,a),e=n.subParser("hashHTMLSpans")(e,t,a),e=n.subParser("stripLinkDefinitions")(e,t,a),e=n.subParser("blockGamut")(e,t,a),e=n.subParser("unhashHTMLSpans")(e,t,a),e=(e=(e=n.subParser("unescapeSpecialChars")(e,t,a)).replace(/~D/g,"$$")).replace(/~T/g,"~"),n.helper.forEach(i,(function(o){e=n.subParser("runExtension")(o,e,t,a)})),e},this.setOption=function(e,a){t[e]=a},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){u(e,t=t||null)},this.useExtension=function(e){u(e)},this.setFlavor=function(e){if(l.hasOwnProperty(e)){var a=l[e];for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}},this.removeExtension=function(e){n.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var a=e[t],s=0;s<o.length;++s)o[s]===a&&o[s].splice(s,1);for(;0<i.length;++s)i[0]===a&&i[0].splice(s,1)}},this.getAllExtensions=function(){return{language:o,output:i}}},n.subParser("anchors",(function(e,t,a){"use strict";var o=function(e,t,o,i,s,r,l,d){n.helper.isUndefined(d)&&(d=""),e=t;var c=o,u=i.toLowerCase(),p=s,g=d;if(!p)if(u||(u=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+u,n.helper.isUndefined(a.gUrls[u])){if(!(e.search(/\(\s*\)$/m)>-1))return e;p=""}else p=a.gUrls[u],n.helper.isUndefined(a.gTitles[u])||(g=a.gTitles[u]);var f='<a href="'+(p=n.helper.escapeCharacters(p,"*_",!1))+'"';return""!==g&&null!==g&&(g=g.replace(/"/g,"&quot;"),f+=' title="'+(g=n.helper.escapeCharacters(g,"*_",!1))+'"'),f+=">"+c+"</a>"};return e=(e=(e=(e=a.converter._dispatch("anchors.before",e,t,a)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,o)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,o)).replace(/(\[([^\[\]]+)])()()()()()/g,o),e=a.converter._dispatch("anchors.after",e,t,a)})),n.subParser("autoLinks",(function(e,t,a){"use strict";function o(e,t){var a=t;return/^www\./i.test(t)&&(t=t.replace(/^www\./i,"http://www.")),'<a href="'+t+'">'+a+"</a>"}function i(e,t){var a=n.subParser("unescapeSpecialChars")(t);return n.subParser("encodeEmailAddress")(a)}return e=(e=(e=a.converter._dispatch("autoLinks.before",e,t,a)).replace(/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,o)).replace(/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,i),t.simplifiedAutoLink&&(e=(e=e.replace(/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,o)).replace(/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,i)),e=a.converter._dispatch("autoLinks.after",e,t,a)})),n.subParser("blockGamut",(function(e,t,a){"use strict";e=a.converter._dispatch("blockGamut.before",e,t,a),e=n.subParser("blockQuotes")(e,t,a),e=n.subParser("headers")(e,t,a);var o=n.subParser("hashBlock")("<hr />",t,a);return e=(e=(e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,o)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,o)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,o),e=n.subParser("lists")(e,t,a),e=n.subParser("codeBlocks")(e,t,a),e=n.subParser("tables")(e,t,a),e=n.subParser("hashHTMLBlocks")(e,t,a),e=n.subParser("paragraphs")(e,t,a),e=a.converter._dispatch("blockGamut.after",e,t,a)})),n.subParser("blockQuotes",(function(e,t,a){"use strict";return e=(e=a.converter._dispatch("blockQuotes.before",e,t,a)).replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(e,o){var i=o;return i=(i=(i=i.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),i=n.subParser("githubCodeBlocks")(i,t,a),i=(i=(i=n.subParser("blockGamut")(i,t,a)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var a=t;return a=(a=a.replace(/^  /gm,"~0")).replace(/~0/g,"")})),n.subParser("hashBlock")("<blockquote>\n"+i+"\n</blockquote>",t,a)})),e=a.converter._dispatch("blockQuotes.after",e,t,a)})),n.subParser("codeBlocks",(function(e,t,a){"use strict";e=a.converter._dispatch("codeBlocks.before",e,t,a);return e=(e=(e+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(e,o,i){var s=o,r=i,l="\n";return s=n.subParser("outdent")(s),s=n.subParser("encodeCode")(s),s=(s=(s=n.subParser("detab")(s)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),s="<pre><code>"+s+l+"</code></pre>",n.subParser("hashBlock")(s,t,a)+r}))).replace(/~0/,""),e=a.converter._dispatch("codeBlocks.after",e,t,a)})),n.subParser("codeSpans",(function(e,t,a){"use strict";return void 0===(e=a.converter._dispatch("codeSpans.before",e,t,a))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,t,a,o){var i=o;return i=(i=i.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),t+"<code>"+(i=n.subParser("encodeCode")(i))+"</code>"})),e=a.converter._dispatch("codeSpans.after",e,t,a)})),n.subParser("detab",(function(e){"use strict";return e=(e=(e=(e=(e=e.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,(function(e,t){for(var a=t,o=4-a.length%4,n=0;n<o;n++)a+=" ";return a}))).replace(/~A/g,"    ")).replace(/~B/g,"")})),n.subParser("encodeAmpsAndAngles",(function(e){"use strict";return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")})),n.subParser("encodeBackslashEscapes",(function(e){"use strict";return e=(e=e.replace(/\\(\\)/g,n.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+-.!])/g,n.helper.escapeCharactersCallback)})),n.subParser("encodeCode",(function(e){"use strict";return e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.helper.escapeCharacters(e,"*_{}[]\\",!1)})),n.subParser("encodeEmailAddress",(function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=(e='<a href="'+(e=(e="mailto:"+e).replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var a=Math.random();e=a>.9?t[2](e):a>.45?t[1](e):t[0](e)}return e})))+'">'+e+"</a>").replace(/">.+:/g,'">')})),n.subParser("escapeSpecialCharsWithinTagAttributes",(function(e){"use strict";return e=e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,(function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=n.helper.escapeCharacters(t,"\\`*_",!1)}))})),n.subParser("githubCodeBlocks",(function(e,t,a){"use strict";return t.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,t,a),e=(e=(e+="~0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,(function(e,o,i){var s=t.omitExtraWLInCodeBlocks?"":"\n";return i=n.subParser("encodeCode")(i),i="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(i=(i=(i=n.subParser("detab")(i)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",i=n.subParser("hashBlock")(i,t,a),"\n\n~G"+(a.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"}))).replace(/~0/,""),a.converter._dispatch("githubCodeBlocks.after",e,t,a)):e})),n.subParser("hashBlock",(function(e,t,a){"use strict";return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(a.gHtmlBlocks.push(e)-1)+"K\n\n"})),n.subParser("hashElement",(function(e,t,a){"use strict";return function(e,t){var o=t;return o=(o=(o=o.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),o="\n\n~K"+(a.gHtmlBlocks.push(o)-1)+"K\n\n"}})),n.subParser("hashHTMLBlocks",(function(e,t,a){"use strict";for(var o=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function(e,t,o,n){var i=e;return-1!==o.search(/\bmarkdown\b/)&&(i=o+a.converter.makeHtml(t)+n),"\n\n~K"+(a.gHtmlBlocks.push(i)-1)+"K\n\n"},s=0;s<o.length;++s)e=n.helper.replaceRecursiveRegExp(e,i,"^(?: |\\t){0,3}<"+o[s]+"\\b[^>]*>","</"+o[s]+">","gim");return e=(e=(e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,a))).replace(/(<!--[\s\S]*?-->)/g,n.subParser("hashElement")(e,t,a))).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,a))})),n.subParser("hashHTMLSpans",(function(e,t,a){"use strict";for(var o=n.helper.matchRecursiveRegExp(e,"<code\\b[^>]*>","</code>","gi"),i=0;i<o.length;++i)e=e.replace(o[i][0],"~L"+(a.gHtmlSpans.push(o[i][0])-1)+"L");return e})),n.subParser("unhashHTMLSpans",(function(e,t,a){"use strict";for(var o=0;o<a.gHtmlSpans.length;++o)e=e.replace("~L"+o+"L",a.gHtmlSpans[o]);return e})),n.subParser("hashPreCodeTags",(function(e,t,a){"use strict";return e=n.helper.replaceRecursiveRegExp(e,(function(e,t,o,i){var s=o+n.subParser("encodeCode")(t)+i;return"\n\n~G"+(a.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}),"^(?: |\\t){0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^(?: |\\t){0,3}</code>\\s*</pre>","gim")})),n.subParser("headers",(function(e,t,a){"use strict";e=a.converter._dispatch("headers.before",e,t,a);var o=t.prefixHeaderId,i=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),s=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,r=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function l(e){var t,i=e.replace(/[^\w]/g,"").toLowerCase();return a.hashLinkCounts[i]?t=i+"-"+a.hashLinkCounts[i]++:(t=i,a.hashLinkCounts[i]=1),!0===o&&(o="section"),n.helper.isString(o)?o+t:t}return e=(e=(e=e.replace(s,(function(e,o){var s=n.subParser("spanGamut")(o,t,a),r=t.noHeaderId?"":' id="'+l(o)+'"',d="<h"+i+r+">"+s+"</h"+i+">";return n.subParser("hashBlock")(d,t,a)}))).replace(r,(function(e,o){var s=n.subParser("spanGamut")(o,t,a),r=t.noHeaderId?"":' id="'+l(o)+'"',d=i+1,c="<h"+d+r+">"+s+"</h"+d+">";return n.subParser("hashBlock")(c,t,a)}))).replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,(function(e,o,s){var r=n.subParser("spanGamut")(s,t,a),d=t.noHeaderId?"":' id="'+l(s)+'"',c=i-1+o.length,u="<h"+c+d+">"+r+"</h"+c+">";return n.subParser("hashBlock")(u,t,a)})),e=a.converter._dispatch("headers.after",e,t,a)})),n.subParser("images",(function(e,t,a){"use strict";function o(e,t,o,i,s,r,l,d){var c=a.gUrls,u=a.gTitles,p=a.gDimensions;if(o=o.toLowerCase(),d||(d=""),""===i||null===i){if(""!==o&&null!==o||(o=t.toLowerCase().replace(/ ?\n/g," ")),i="#"+o,n.helper.isUndefined(c[o]))return e;i=c[o],n.helper.isUndefined(u[o])||(d=u[o]),n.helper.isUndefined(p[o])||(s=p[o].width,r=p[o].height)}t=t.replace(/"/g,"&quot;"),t=n.helper.escapeCharacters(t,"*_",!1);var g='<img src="'+(i=n.helper.escapeCharacters(i,"*_",!1))+'" alt="'+t+'"';return d&&(d=d.replace(/"/g,"&quot;"),g+=' title="'+(d=n.helper.escapeCharacters(d,"*_",!1))+'"'),s&&r&&(g+=' width="'+(s="*"===s?"auto":s)+'"',g+=' height="'+(r="*"===r?"auto":r)+'"'),g+=" />"}return e=(e=(e=a.converter._dispatch("images.before",e,t,a)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g,o)).replace(/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,o),e=a.converter._dispatch("images.after",e,t,a)})),n.subParser("italicsAndBold",(function(e,t,a){"use strict";return e=a.converter._dispatch("italicsAndBold.before",e,t,a),e=t.literalMidWordUnderscores?(e=(e=(e=e.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>")).replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>")).replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>")).replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),e=a.converter._dispatch("italicsAndBold.after",e,t,a)})),n.subParser("lists",(function(e,t,a){"use strict";function o(e,o){a.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var i=/\n[ \t]*\n(?!~0)/.test(e+="~0");return e=(e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,(function(e,o,s,r,l,d,c){c=c&&""!==c.trim();var u=n.subParser("outdent")(l,t,a),p="";return d&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return c&&(e+=" checked"),e+=">"}))),o||u.search(/\n{2,}/)>-1?(u=n.subParser("githubCodeBlocks")(u,t,a),u=n.subParser("blockGamut")(u,t,a)):(u=(u=n.subParser("lists")(u,t,a)).replace(/\n$/,""),u=i?n.subParser("paragraphs")(u,t,a):n.subParser("spanGamut")(u,t,a)),u="\n<li"+p+">"+u+"</li>\n"}))).replace(/~0/g,""),a.gListLevel--,o&&(e=e.replace(/\s+$/,"")),e}function i(e,t,a){var n="ul"===t?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i=[],s="";if(-1!==e.search(n)){!function e(i){var r=i.search(n);-1!==r?(s+="\n\n<"+t+">"+o(i.slice(0,r),!!a)+"</"+t+">\n\n",n="ul"===(t="ul"===t?"ol":"ul")?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,e(i.slice(r))):s+="\n\n<"+t+">"+o(i,!!a)+"</"+t+">\n\n"}(e);for(var r=0;r<i.length;++r);}else s="\n\n<"+t+">"+o(e,!!a)+"</"+t+">\n\n";return s}e=a.converter._dispatch("lists.before",e,t,a),e+="~0";var s=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return a.gListLevel?e=e.replace(s,(function(e,t,a){return i(t,a.search(/[*+-]/g)>-1?"ul":"ol",!0)})):(s=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(s,(function(e,t,a,o){return i(a,o.search(/[*+-]/g)>-1?"ul":"ol")}))),e=e.replace(/~0/,""),e=a.converter._dispatch("lists.after",e,t,a)})),n.subParser("outdent",(function(e){"use strict";return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")})),n.subParser("paragraphs",(function(e,t,a){"use strict";for(var o=(e=(e=(e=a.converter._dispatch("paragraphs.before",e,t,a)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],s=o.length,r=0;r<s;r++){var l=o[r];l.search(/~(K|G)(\d+)\1/g)>=0?i.push(l):(l=(l=n.subParser("spanGamut")(l,t,a)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",i.push(l))}for(s=i.length,r=0;r<s;r++){for(var d="",c=i[r],u=!1;c.search(/~(K|G)(\d+)\1/)>=0;){var p=RegExp.$1,g=RegExp.$2;d=(d="K"===p?a.gHtmlBlocks[g]:u?n.subParser("encodeCode")(a.ghCodeBlocks[g].text):a.ghCodeBlocks[g].codeblock).replace(/\$/g,"$$$$"),c=c.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,d),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c)&&(u=!0)}i[r]=c}return e=(e=(e=i.join("\n\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),a.converter._dispatch("paragraphs.after",e,t,a)})),n.subParser("runExtension",(function(e,t,a,o){"use strict";if(e.filter)t=e.filter(t,o.converter,a);else if(e.regex){var n=e.regex;!n instanceof RegExp&&(n=new RegExp(n,"g")),t=t.replace(n,e.replace)}return t})),n.subParser("spanGamut",(function(e,t,a){"use strict";return e=a.converter._dispatch("spanGamut.before",e,t,a),e=n.subParser("codeSpans")(e,t,a),e=n.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,a),e=n.subParser("encodeBackslashEscapes")(e,t,a),e=n.subParser("images")(e,t,a),e=n.subParser("anchors")(e,t,a),e=n.subParser("autoLinks")(e,t,a),e=n.subParser("encodeAmpsAndAngles")(e,t,a),e=n.subParser("italicsAndBold")(e,t,a),e=(e=n.subParser("strikethrough")(e,t,a)).replace(/  +\n/g," <br />\n"),e=a.converter._dispatch("spanGamut.after",e,t,a)})),n.subParser("strikethrough",(function(e,t,a){"use strict";return t.strikethrough&&(e=(e=a.converter._dispatch("strikethrough.before",e,t,a)).replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),e=a.converter._dispatch("strikethrough.after",e,t,a)),e})),n.subParser("stripBlankLines",(function(e){"use strict";return e.replace(/^[ \t]+$/gm,"")})),n.subParser("stripLinkDefinitions",(function(e,t,a){"use strict";return e=(e=(e+="~0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm,(function(e,o,i,s,r,l,d){return o=o.toLowerCase(),a.gUrls[o]=n.subParser("encodeAmpsAndAngles")(i),l?l+d:(d&&(a.gTitles[o]=d.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&r&&(a.gDimensions[o]={width:s,height:r}),"")}))).replace(/~0/,"")})),n.subParser("tables",(function(e,t,a){"use strict";if(!t.tables)return e;function o(e,o){return"<td"+o+">"+n.subParser("spanGamut")(e,t,a)+"</td>\n"}return e=(e=a.converter._dispatch("tables.before",e,t,a)).replace(/^[ \t]{0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm,(function(e){var i,s=e.split("\n");for(i=0;i<s.length;++i)/^[ \t]{0,3}\|/.test(s[i])&&(s[i]=s[i].replace(/^[ \t]{0,3}\|/,"")),/\|[ \t]*$/.test(s[i])&&(s[i]=s[i].replace(/\|[ \t]*$/,""));var r,l,d,c,u=s[0].split("|").map((function(e){return e.trim()})),p=s[1].split("|").map((function(e){return e.trim()})),g=[],f=[],h=[],m=[];for(s.shift(),s.shift(),i=0;i<s.length;++i)""!==s[i].trim()&&g.push(s[i].split("|").map((function(e){return e.trim()})));if(u.length<p.length)return e;for(i=0;i<p.length;++i)h.push((r=p[i],/^:[ \t]*--*$/.test(r)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(r)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(r)?' style="text-align:center;"':""));for(i=0;i<u.length;++i)n.helper.isUndefined(h[i])&&(h[i]=""),f.push((l=u[i],d=h[i],c=void 0,c="",l=l.trim(),t.tableHeaderId&&(c=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+c+d+">"+(l=n.subParser("spanGamut")(l,t,a))+"</th>\n"));for(i=0;i<g.length;++i){for(var b=[],v=0;v<f.length;++v)n.helper.isUndefined(g[i][v]),b.push(o(g[i][v],h[v]));m.push(b)}return function(e,t){for(var a="<table>\n<thead>\n<tr>\n",o=e.length,n=0;n<o;++n)a+=e[n];for(a+="</tr>\n</thead>\n<tbody>\n",n=0;n<t.length;++n){a+="<tr>\n";for(var i=0;i<o;++i)a+=t[n][i];a+="</tr>\n"}return a+="</tbody>\n</table>\n"}(f,m)})),e=a.converter._dispatch("tables.after",e,t,a)})),n.subParser("unescapeSpecialChars",(function(e){"use strict";return e=e.replace(/~E(\d+)E/g,(function(e,t){var a=parseInt(t);return String.fromCharCode(a)}))})),t.exports=n}(__hacked)})),window.define("libs/wxParse/wxDiscode",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;t.exports={strDiscode:function(e){return e=function(e){return e=(e=e.replace(/\r\n/g,"")).replace(/\r/g,"\n")}(e=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&OElig;/g,"Œ")).replace(/&oelig;/g,"œ")).replace(/&Scaron;/g,"Š")).replace(/&scaron;/g,"š")).replace(/&Yuml;/g,"Ÿ")).replace(/&fnof;/g,"ƒ")).replace(/&circ;/g,"ˆ")).replace(/&tilde;/g,"˜")).replace(/&ensp;/g,"")).replace(/&emsp;/g,"")).replace(/&thinsp;/g,"")).replace(/&zwnj;/g,"")).replace(/&zwj;/g,"")).replace(/&lrm;/g,"")).replace(/&rlm;/g,"")).replace(/&ndash;/g,"–")).replace(/&mdash;/g,"—")).replace(/&lsquo;/g,"‘")).replace(/&rsquo;/g,"’")).replace(/&sbquo;/g,"‚")).replace(/&ldquo;/g,"“")).replace(/&rdquo;/g,"”")).replace(/&bdquo;/g,"„")).replace(/&dagger;/g,"†")).replace(/&Dagger;/g,"‡")).replace(/&bull;/g,"•")).replace(/&hellip;/g,"…")).replace(/&permil;/g,"‰")).replace(/&prime;/g,"′")).replace(/&Prime;/g,"″")).replace(/&lsaquo;/g,"‹")).replace(/&rsaquo;/g,"›")).replace(/&oline;/g,"‾")).replace(/&euro;/g,"€")).replace(/&trade;/g,"™")).replace(/&larr;/g,"←")).replace(/&uarr;/g,"↑")).replace(/&rarr;/g,"→")).replace(/&darr;/g,"↓")).replace(/&harr;/g,"↔")).replace(/&crarr;/g,"↵")).replace(/&lceil;/g,"⌈")).replace(/&rceil;/g,"⌉")).replace(/&lfloor;/g,"⌊")).replace(/&rfloor;/g,"⌋")).replace(/&loz;/g,"◊")).replace(/&spades;/g,"♠")).replace(/&clubs;/g,"♣")).replace(/&hearts;/g,"♥")).replace(/&diams;/g,"♦")).replace(/&#39;/g,"'")).replace(/&#92;/g,"\\")}(e=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;quot;/g,'"')).replace(/&amp;nbsp;/g," ")).replace(/&nbsp;/g," ")).replace(/&quot;/g,'"')).replace(/&amp;amp;/g,"&")).replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&#8226;/g,"•")}(e=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&Alpha;/g,"Α")).replace(/&Beta;/g,"Β")).replace(/&Gamma;/g,"Γ")).replace(/&Delta;/g,"Δ")).replace(/&Epsilon;/g,"Ε")).replace(/&Zeta;/g,"Ζ")).replace(/&Eta;/g,"Η")).replace(/&Theta;/g,"Θ")).replace(/&Iota;/g,"Ι")).replace(/&Kappa;/g,"Κ")).replace(/&Lambda;/g,"Λ")).replace(/&Mu;/g,"Μ")).replace(/&Nu;/g,"Ν")).replace(/&Xi;/g,"Ν")).replace(/&Omicron;/g,"Ο")).replace(/&Pi;/g,"Π")).replace(/&Rho;/g,"Ρ")).replace(/&Sigma;/g,"Σ")).replace(/&Tau;/g,"Τ")).replace(/&Upsilon;/g,"Υ")).replace(/&Phi;/g,"Φ")).replace(/&Chi;/g,"Χ")).replace(/&Psi;/g,"Ψ")).replace(/&Omega;/g,"Ω")).replace(/&alpha;/g,"α")).replace(/&beta;/g,"β")).replace(/&gamma;/g,"γ")).replace(/&delta;/g,"δ")).replace(/&epsilon;/g,"ε")).replace(/&zeta;/g,"ζ")).replace(/&eta;/g,"η")).replace(/&theta;/g,"θ")).replace(/&iota;/g,"ι")).replace(/&kappa;/g,"κ")).replace(/&lambda;/g,"λ")).replace(/&mu;/g,"μ")).replace(/&nu;/g,"ν")).replace(/&xi;/g,"ξ")).replace(/&omicron;/g,"ο")).replace(/&pi;/g,"π")).replace(/&rho;/g,"ρ")).replace(/&sigmaf;/g,"ς")).replace(/&sigma;/g,"σ")).replace(/&tau;/g,"τ")).replace(/&upsilon;/g,"υ")).replace(/&phi;/g,"φ")).replace(/&chi;/g,"χ")).replace(/&psi;/g,"ψ")).replace(/&omega;/g,"ω")).replace(/&thetasym;/g,"ϑ")).replace(/&upsih;/g,"ϒ")).replace(/&piv;/g,"ϖ")).replace(/&middot;/g,"·")}(e=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&forall;/g,"∀")).replace(/&part;/g,"∂")).replace(/&exists;/g,"∃")).replace(/&empty;/g,"∅")).replace(/&nabla;/g,"∇")).replace(/&isin;/g,"∈")).replace(/&notin;/g,"∉")).replace(/&ni;/g,"∋")).replace(/&prod;/g,"∏")).replace(/&sum;/g,"∑")).replace(/&minus;/g,"−")).replace(/&lowast;/g,"∗")).replace(/&radic;/g,"√")).replace(/&prop;/g,"∝")).replace(/&infin;/g,"∞")).replace(/&ang;/g,"∠")).replace(/&and;/g,"∧")).replace(/&or;/g,"∨")).replace(/&cap;/g,"∩")).replace(/&cap;/g,"∪")).replace(/&int;/g,"∫")).replace(/&there4;/g,"∴")).replace(/&sim;/g,"∼")).replace(/&cong;/g,"≅")).replace(/&asymp;/g,"≈")).replace(/&ne;/g,"≠")).replace(/&le;/g,"≤")).replace(/&ge;/g,"≥")).replace(/&sub;/g,"⊂")).replace(/&sup;/g,"⊃")).replace(/&nsub;/g,"⊄")).replace(/&sube;/g,"⊆")).replace(/&supe;/g,"⊇")).replace(/&oplus;/g,"⊕")).replace(/&otimes;/g,"⊗")).replace(/&perp;/g,"⊥")).replace(/&sdot;/g,"⋅")}(e)))))},urlToHttpUrl:function(e,t){return new RegExp("^//").test(e)&&(e=t+":"+e),e}}}(__hacked)})),window.define("libs/wxParse/wxParse",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis;var o=s(e("./showdown.js")),i=s(e("./html2json.js"));function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=0,d=0;function c(e){var t=e.target.dataset.src,a=e.target.dataset.from;this.seperate&&(a+="0"),void 0!==a&&a.length>0&&n.previewImage({current:t,urls:this.data[a].imageUrls})}function u(e){var t=e.target.dataset.from,a=e.target.dataset.idx,o=(this.seperate?this.data[t+"0"]:this.data[t]).images[a].index.split("."),n=0;this.seperate&&(t+=n=100*Math.floor((parseInt(o[0])+1)/100)),void 0!==t&&t.length>0&&function(e,t,a,o,n,i){var s,c=a.data[o];if(!c||0==c.images.length)return;c.images;for(var u=function(e,t,a,o,n){var i,s=0,r=0,c={},u=a.data[o].view.imagePadding;i=l-2*u,d;var p=n.target.dataset.style;if(!p||-1==p.indexOf("width")&&-1==p.indexOf("height"))e>i?(r=(s=i)*t/e,c.imageWidth=s,c.imageheight=r):(c.imageWidth=e,c.imageheight=t);else{for(var g=p.split(";"),f={},h=0;h<g.length;h++)if(g[h]){var m=g[h].split(":");f[m[0]]=parseInt(m[1])}c.imageWidth=f.width,c.imageheight=f.height}return c}(e.detail.width,e.detail.height,a,o,e),p=""+o,g=0;g<n.length;g++)p+=0==g?".nodes["+(n[g]-i)+"]":".nodes["+n[g]+"]";var f=p+".width",h=p+".height";a.setData((r(s={},f,u.imageWidth),r(s,h,u.imageheight),s))}(e,0,this,t,o,n)}n.getSystemInfo({success:function(e){l=e.windowWidth,d=e.windowHeight}}),t.exports={wxParse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wxParseData",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<div class="color:red;">数据不能为空</div>',n=arguments[3],s=arguments[4],r=arguments[5],l=n,d={};if("html"==t)d=i.default.html2json(a,e);else if("md"==t||"markdown"==t){var p=(new o.default.Converter).makeHtml(a);d=i.default.html2json(p,e)}d.view={},d.view.imagePadding=0,void 0!==s&&(d.view.imagePadding=s);var g={},f=d.nodes,h=f.length,m=d.images,b=d.imageUrls,v=d.view;if(r)for(var w=0;w<h;w+=100){var I=e+w,D=f.slice(w,w+100),y={},_=I+".images",x=I+".imageUrls",C=I+".view";y[I+".nodes"]=D,y[_]=m,y[x]=b,y[C]=v,l.setData(y)}else g[e]=d,l.setData(g);l.wxParseImgLoad=u,l.wxParseImgTap=c,l.seperate=r,l.nodesLen=h},wxParseTemArray:function(e,t,a,o){for(var n=[],i=o.data,s=null,r=0;r<a;r++){var l=i[t+r].nodes;n.push(l)}e=e||"wxParseTemArray",(s=JSON.parse('{"'+e+'":""}'))[e]=n,o.setData(s)},emojisInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",a=arguments[2];i.default.emojisInit(e,t,a)}}}(__hacked)})),window.define("pages/optBehavior/optBehavior",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis;var o=e("../../utils/apiOpt.js"),i=e("../../utils/api");t.exports={preOptions:function(e){console.log(e)},behaviorRes:function(e){var t=e.data;return"fkLogin"==e.type?new Promise((function(e,a){t.success?(e("登录成功"),i.logDog(7000237,22),o.getLoginWXApp(t).then((function(e){e.isNewAdd&&n.reLaunch({url:e.url})}))):a("登录失败")})):"wxLogin"==e.type?new Promise((function(e,a){t.success?(e("登录成功"),t.isNewAdd&&n.reLaunch({url:t.url})):a("登录失败")})):"reg"==e.type?new Promise((function(e,a){t.success?(i.logDog(7000237,20),e("注册成功"),n.showToast({title:"注册成功",icon:"success",duration:1e3}),n.reLaunch({url:"/pages/opt/login/login"})):a("注册失败")})):"bind"==e.type?new Promise((function(e,a){t.success?(e("绑定成功"),t.url&&n.reLaunch({url:t.url})):a("绑定失败")})):"oneKeyReg"==e.type?new Promise((function(e,a){t.success?(e("一键注册成功"),o.getLoginWXApp(t).then((function(e){n.reLaunch({url:res.url})}))):a("一键注册失败")})):void 0}}}(__hacked)})),window.define("utils/api",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o=a.setTimeout,s=a.setInterval,r=(a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e("../libs/wxParse/wxParse.js");var d=e("../libs/bdMap/bdmap-sdk.js"),c=e("./define.js"),u=(e("wxpay.js"),e("../utils/md5.js")),p=e("./util.js"),g={};function f(e,t,a){return function(o){var s=i().globalData,r=s.extConfigData;return p.promisify(n.request)({url:r.wxappDomainUrl+e,data:Object.assign({wxappAid:r.wxappAid,wxappId:r.wxappId,openId:s.openId||""},a,o),method:t,header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return e.data;throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))}}g.getExtConfigData=function(){return p.promisify(n.getExtConfig)().then((function(e){return e.extConfig})).catch((function(e){console.log("get extConfigData Erro -- "+e.errMsg)}))},g.issueRequest=function(e){var t=i(),a=t.globalData,o=Object.prototype.toString,s=p.promisify(n.request);function r(){var t,n=a.extConfigData,i="",s={url:"",data:(t={aid:n.aid,wxappId:n.wxappId,wxappAid:n.wxappAid,isOem:n.isOem,bdappAppId:n.bdappAppId},l(t,"isOem",n.isOem),l(t,"from",c.FROM_PLATFORM),t),method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}};if("[object String]"==o.call(e.url))i=e.url;else if("[object Object]"==o.call(e.url)){var r=e.url;i=r.domain?r.domain:n.wxappDomainUrl,i=(i+=r.path?r.path:"wxAppConnectionV3.jsp")+"?cmd="+r.cmd}return e.url=i,e.data&&(e.data=Object.assign({},s.data,e.data)),Object.assign({},s,e)}if(e&&0!=Object.keys(e).length&&e.url)return(a.extConfigData&&a.extConfigData.wxappAid?s(r()):g.getExtConfigData().then((function(e){return t.globalData.extConfigData=e,s(r())}))).then((function(e){return e.statusCode&&e.data instanceof Object&&(e.data._statusCode=e.statusCode),e.data})).catch((function(e){console.log(e)}))},g.logDog=function(e,t){var a=i().globalData.extConfigData,o=a.aid,s=a.wxappId,r=a.isOem,l=a.wxappDomain;r||n.request({url:l+"?cmd=logDog",data:{aid:o,wxappId:s,dogId:e,srcId:t},method:"GET",dataType:"json",header:{"content-type":"application/json"},success:function(e){},fail:function(){}})},g.logVisitDog=function(e,t){var a=i().globalData.extConfigData,o=a.aid,s=a.isOem,r=a.wxappDomainUrl;s||n.request({url:r+"appAjax/wxAppLogDog.jsp?cmd=logDog",data:{aid:o,dogId:e,srcId:t},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",cookie:"_cliid="+i().globalData._cliid},success:function(e){},fail:function(){}})},g.getWXAppInfo=function(){n.showLoading({});var e=i().globalData.extConfigData,t={url:{cmd:"getWXAppInfo"},data:{isModel:e.isModel,isOem:e.isOem}};return g.issueRequest(t).then((function(t){if(!t.success){var a=t.errCode,o=t._statusCode||500;return o>=400&&(a=o),void n.redirectTo({url:"/pages/err/err?errCode="+a})}var s=i().globalData,r=t.wxappInfo;s.wxappInfo=r,s.isVisitLimit=r.isVisitLimit,s.isVerFree=r.isVerFree,s.globalColor=r.globalColor,s.tabbar=r.modelTabBar,s._cliid=r._cliid,s.isWebApp=r.isWebApp,s.webappUrl=r.webappUrl,s.isOemExpired=r.isOemExpired,s.isOem=r.isOem,s.couponOpen=r.trialSwitch.couponOpen,r.wxappAid&&(e.wxappAid=r.wxappAid),r.wxappId&&(e.wxappId=r.wxappId),r.isOem&&r.isOemExpired&&i().showOemExpired(),r.isVisitLimit&&i().showVisitLimitFunc()})).catch((function(e){var t=getCurrentPages(),a=t[t.length-1]||null;if(a){var o=Object.keys(a.options).reduce((function(e,t){return e+(t+"=")+a.options[t]}),""),i=encodeURIComponent("/"+a.route+(o?"?"+o:""));n.redirectTo({url:"/pages/err/err?requestFail=true&redirectFrom="+i+"&errMsg="+e.errMsg})}else n.redirectTo({url:"/pages/err/err?requestFail=true&errMsg="+e.errMsg})})).finally((function(){o((function(){n.hideLoading({})}),1)}))},g.getWXAppColModuleInfo=function(e){n.showLoading({});var t={url:{cmd:"getWXAppColModuleInfo"},data:{isModel:i().globalData.extConfigData.isModel,colId:e,openId:i().globalData.openId}};return g.issueRequest(t).then((function(e){if(e.success&&e.colInfo){if(n.setPageInfo){var t=e.colInfo.tdk;n.setPageInfo({title:t.t,description:t.d,keywords:t.k})}return e.colInfo}var a=e.errCode,o=e._statusCode||500;return o>=400&&(a=o),void n.redirectTo({url:"/pages/err/err?errCode="+a})})).catch((function(e){var t=getCurrentPages(),a=t[t.length-1]||null;if(a){var o=Object.keys(a.options).reduce((function(e,t){return e+(t+"=")+a.options[t]}),""),i=encodeURIComponent("/"+a.route+(o?"?"+o:""));n.redirectTo({url:"/pages/err/err?requestFail=true&redirectFrom="+i+"&errMsg="+e.errMsg})}else n.redirectTo({url:"/pages/err/err?requestFail=true&errMsg="+e.errMsg})})).finally((function(){o((function(){n.hideLoading()}))}))},g.getUserInfoByCode=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/bdLogin.jsp?cmd=getUserInfoByCode",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,appid:t.bdappAppId,isOem:t.isOem,code:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(t.success){var a=t.userInfo,o=i().globalData;return a?(o.userInfo=a,o.openId=a.openId):o.openId=t.openId,e.data}console.log(t)})).catch((function(e){console.log(e)}))},g.getUserInfoByAuth=function(e){var t=i().globalData;if(!t.openId)return Promise.resolve();e.openId=t.openId;var a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/bdLogin.jsp?cmd=addUserInfo",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,appid:a.bdappAppId,userInfo:JSON.stringify(e)},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data;if(a.success)return a.userInfo=e,a;console.log(a)})).catch((function(e){console.log(e)}))},g.getOrAddUserInfo=function(e,t){var a=i(),o=a.globalData.extConfigData,s=p.promisify(n.request);return n.showLoading({title:"登录中",mask:!0}),s({url:o.wxappDomainUrl+"appAjax/bdLogin.jsp?cmd=getOrAddUserInfo",data:{wxappAid:o.wxappAid,wxappId:o.wxappId,isOem:o.isOem,appid:o.bdappAppId,code:e,userInfo:JSON.stringify(t)},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(e.errMsg);var o=t.dbUserInfo;return a.globalData.userInfo=o,a.globalData.openId=o.openId,!0})).catch((function(e){console.log(e),n.showModal({title:"",showCancel:!1,content:e.message})})).finally((function(){n.hideLoading()}))},g.getBookInfoList=function(e,t){var a=i().globalData.extConfigData,o=p.promisify(n.request),s="object"==(void 0===t?"undefined":r(t));return o({url:a.wxappDomainUrl+"appAjax/service.jsp?cmd=getWXAppBookInfoList",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,from:c.FROM_PLATFORM,bookIndex:e||0,fromCoupon:!!s,couponId:s?t.couponId:-1,idList:s?JSON.stringify(t.idList):[],groupIdList:s?JSON.stringify(t.groupIdList):[],allService:!!s&&t.allService},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t})).catch((function(e){console.error(e)}))},g.getBookExtInfo=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/service.jsp?cmd=getBookExtInfo",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data;a.success&&(e.formItem=a.formItem,e.shareWXMoment=a.shareWXMoment,e.payModes={openWXPay:a.openWXPay,hideGoPay:a.hideGoPay,openHomePay:a.openHomePay})})).catch((function(e){console.error(e)}))},g.getBookListByGroupId=function(e,t,a){var o=i().globalData.extConfigData,s=p.promisify(n.request),l="object"==(void 0===a?"undefined":r(a));return s({url:o.wxappDomainUrl+"appAjax/service.jsp?cmd=getBookListByGroupId",data:{wxappAid:o.wxappAid,wxappId:o.wxappId,from:c.FROM_PLATFORM,groupId:e,bookIndex:t||0,fromCoupon:!!l,couponId:l?a.couponId:-1,idList:l?JSON.stringify(a.idList):[],groupIdList:l?JSON.stringify(a.groupIdList):[],allService:!!l&&a.allService},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t})).catch((function(e){console.error(e)}))},g.getBookInfo=function(e){var t=e.bookId,a=e.bookCount,o=e.mappingId,s=e.specificationList;void 0===t&&console.error("bookId is undefined.");var r=i().globalData,l=r.extConfigData,d=p.promisify(n.request),u={wxappAid:l.wxappAid,wxappId:l.wxappId,from:c.FROM_PLATFORM,openId:r.openId,bookId:t};return void 0!==a&&(u.bookCount=a),void 0!==o&&(u.mappingId=o,u.specificationList=JSON.stringify(s)),d({url:l.wxappDomainUrl+"appAjax/service.jsp?cmd=getWXAppBookInfo",data:u,method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);if(n.setPageInfo){var a=t.rtBookInfo.tdk;n.setPageInfo({title:a.t,description:a.d,keywords:a.k})}return t.rtBookInfo})).catch((function(e){console.error(e)}))},g.getOrderList=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomain+"?cmd=getOrderList",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,from:c.FROM_PLATFORM,openId:e.openId},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t})).catch((function(e){console.error(e),n.hideLoading()}))},g.commitOrder=function(e){var t=i().globalData,a=t.extConfigData,o=t.openId,s=e.data,r=s.formData,l=s.bookId,d=s.bookInfo,u=s.bookTime||"",f=s.uploadFileList||[],h=s.selectCoupon?s.selectCoupon.id:-1,m=s.selectCoupon?s.selectCoupon.couponRecordId:-1,b=s.bookNum,v=s.limitKind,w=d.specificationOpen,I=(s.specificationInfo,d.promotionPrice>0?100*d.promotionPrice*s.bookNum/100:100*d.price*s.bookNum/100),D=s.payModes[s.payIndex].type,y=d.type,_=p.promisify(n.request);0!=y&&(D=0),s.selectCoupon&&-1!==h&&(I=s.selectCoupon.remainPrice),n.showLoading({title:"加载中",mask:!0});var x={wxappAid:a.wxappAid,wxappId:a.wxappId,from:c.FROM_PLATFORM,aid:a.aid,serviceType:0,serviceId:l,openId:o,formData:JSON.stringify(r),price:I,payType:D,type:y,bookTime:u,tempFileList:JSON.stringify(f),couponId:h,couponRecordId:m,bookNum:b,limitKind:v,specificationOpen:w};return w&&(x.specificationOpen=w,x.mappingId=d.specificationInfo.mappingId,x.specificationList=d.specificationInfo.specificationList),_({url:a.wxappDomainUrl+"/appAjax/order.jsp?cmd=addOrder",data:x,method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data;if(a.success){var o=a.id;if(w&&g.logDog(7000372,2),-1!=h&&g.logDog(7000275,4),Object.keys(r).some((function(e){return"phone"==e&&r[e]}))&&g.reportVisitorBehavior({type:15,relationId:o}),0===D||0==I||2===D)return g.reportVisitorBehavior({type:14,relationId:o}),void n.navigateTo({url:"/pages/bookSuc/bookSuc"});e.toast.showToast({title:"百度上暂不支持微信支付",icon:"none",duration:2e3})}else e.toast.showToast({title:a.msg,icon:"warning",duration:2e3,maxWidth:260})})).catch((function(t){e.toast.showToast({title:"提交订单失败,请联系小程序管理员",icon:"warning",duration:2e3,maxWidth:260})})).finally((function(){var t={uploadFileList:[]};e.setData(t),n.hideLoading()}))},g.setOrderStatus=function(e,t){var a=i().globalData.extConfigData;return p.promisify(n.request)({url:a.wxappDomain+"?cmd=setOrderStatus",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,from:c.FROM_PLATFORM,aid:a.aid,id:e,status:t},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return!0})).catch((function(e){console.error(e)}))},g.getLocationFromBaidu=function(e,t){g.reportVisitorBehavior({type:22}),n.showLoading({});var a="https://apis.map.qq.com/ws/geocoder/v1/?address="+e+"&output=json&key="+p.getKey(t);n.request({url:a,header:{"Content-Type":"application/json"},success:function(t){var a=t.data;if(121!=a.status||-1==a.message.indexOf("此key每日调用量已达到上限")){var o=a.result.location,i=o.lng,s=o.lat;n.openLocation({latitude:s,longitude:i,name:e}),n.hideLoading()}else g.getLocationFromBaidu(e,!0)},fail:function(e){var t=e.errMsg;n.setNavigationBarTitle({title:t}),n.hideLoading()}})},g.getLocationByAddr=function(e,t,a){var o="https://apis.map.qq.com/ws/geocoder/v1/?address="+t+"&output=json&key="+p.getKey(a);n.request({url:o,header:{"Content-Type":"application/json"},success:function(a){var o=a.data;if(121!=o.status||-1==o.message.indexOf("此key每日调用量已达到上限")){var n=o.result.location,i=n.lng,s=n.lat;e({lng:i,lat:s})}else g.getLocationByAddr(e,t,!0)},fail:function(e){var t=e.errMsg;n.setNavigationBarTitle({title:t})}})},g.getLocation=function(e){return new Promise((function(t,a){n.getLocation({type:"gcj02",success:function(a){t(a),e&&e(a)},fail:function(t){var o=new Error(t.message||t.status||"请求出错");a(o),e&&e(o,res)}})}))},g.getAddrByLocation=function(e,t){return new Promise((function(a,o){new d({key:p.getMapKey()}).reverseGeocoder({location:e.latitude+","+e.longitude,success:function(e){a(e.result),t&&t(e)},fail:function(e){var a=new Error(e.message||e.status||"请求出错");o(a),t&&t(a,e)}})}))},g.getLocationByAddrv2=function(e,t){return new Promise((function(a,o){new d({key:p.getMapKey()}).geocoder({address:e,success:function(e){a(e.result),t&&t(e)},fail:function(e){var a=new Error(e.message||e.status||"请求出错");o(a),t&&t(a,e)}})}))},g.getDistance=function(e,t,a){for(var o=e.join(","),i=[],s="",r=[],l=p.promisify(n.request),d=function(e){return l({url:"https://api.map.baidu.com/routematrix/v2/driving?output=json&origins="+o+"&destinations="+e+"&ak=j6Wjh3MqbcUtRocpGgLC8frPNihfC7X1",header:{"Content-Type":"application/json"}}).then((function(e){return e.data.result})).catch((function(e){return console.log(e),!1}))},c=[],u=0;u<t.length;u++){r=[];for(var g=0;g<t[u].length;g++)r.push(t[u][g].join(","));s=r.join("|"),c.push(d(s))}Promise.all(c).then((function(e){i=e.reduce((function(e,t){return e.concat(t)})),a(i)})).catch((function(e){}))},g.getNewsList=function(e){var t=i().globalData.extConfigData,a=p.promisify(n.request),o=e.data.newsGroupMap[0],s=o?o.length:0;return a({url:t.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=getNewsList",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,from:c.FROM_PLATFORM,start:s},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t.result})).catch((function(e){console.error(e)}))},g.getNewsGroupList=function(){n.showLoading({});var e=i().globalData.extConfigData;return p.promisify(n.request)({url:e.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=getNewsGroupList",data:{wxappAid:e.wxappAid,wxappId:e.wxappId,from:c.FROM_PLATFORM},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t.result.newsGroupList})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading()}))},g.getNewsListByGroupId=function(e,t){n.showLoading({});var a=i().globalData.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=getNewsListByGroupId",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,from:c.FROM_PLATFORM,groupId:t},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){var o=a.data;if(!o.success)throw Error(o.msg);e.data.newsGroupMap[t]=o.newsList,e&&e.setData({newsList:o.newsList})})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading()}))},g.getNewsInfo=function(e){var t=e.newsId,a=e.openId||"",o=e.code||"",s=i().globalData,r=s.extConfigData;return p.promisify(n.request)({url:r.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=getNewsInfo",data:{wxappAid:r.wxappAid,wxappId:r.wxappId,isOem:r.isOem,from:c.FROM_PLATFORM,bdappAppId:r.bdappAppId,id:t,openId:a,code:o},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);if(void 0===s.openId&&t.resultopenId&&(s.openId=t.result.openId),n.setPageInfo){var a=t.result.tdk;n.setPageInfo({title:a.t,description:a.d,keywords:a.k})}return t.result})).catch((function(e){console.error(e)}))},g.commitForm=function(e,t,a,o){var s=i().globalData.extConfigData,r=p.promisify(n.request),l=e.options,d=void 0;if(e.props.isIndexCol)d=2;else if(e.props.isCusCol)d=l.cusColId;else if(e.props.isTabBarCol){d=i().globalData.wxappInfo.tabBarCusColList[e.props.tabBarColIndex].cusColId}var u=i().globalData.openId,f=[];for(var h in o){var m=o[h];m instanceof Array&&(m=m.join("\n"));var b={id:1*h,val:m};f.push(b)}for(var v=[],w=e.data.moduleInfoList,I=[],D={},y=!1,_=0,x=w.length;_<x;_++){var C=w[_];if(C.id==a){I=C.content.tmpFileList?C.content.tmpFileList:[],D=C.content.jInfo;for(var S=C.content.formData,T=0;T<S.length;T++)if(6==S[T].type&&S[T].input&&(y=!0),6==S[T].type&&S[T].phoneSetting.ov&&S[T].input){var k={phone:S[T].input,code:S[T].phoneSetting.code,codeSign:S[T].phoneSetting.codeSign};v.push(k)}break}}return r({url:s.wxappDomain+"?cmd=addWXAppFormSubmit",data:{wxappAid:s.wxappAid,wxappId:s.wxappId,aid:s.aid,formId:t,colId:d,from:c.FROM_PLATFORM,openId:u,submitContentList:JSON.stringify(f),tmpFileList:JSON.stringify(I),codeValidationList:JSON.stringify(v)},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(t.success){var o=t.id;return g.reportVisitorBehavior({type:17,relationId:o}),y&&g.reportVisitorBehavior({type:18,relationId:o}),{success:!0,jInfo:D,moduleid:a}}return t})).catch((function(e){n.showToast({title:"提交失败"}),console.error(e)})).finally((function(){n.hideLoading()}))},g.uploadFile=function(e,t){var a=i().globalData.extConfigData,o=a.wxappAid,s=a.wxappId,l=a.wxappDomainUrl,d=e.options;if(e.props.isIndexCol)2;else if(e.props.isCusCol)d.cusColId;else if(e.props.isTabBarCol){i().globalData.wxappInfo.tabBarCusColList[e.props.tabBarColIndex].cusColId}n.showLoading({title:"上传中",mask:!0});var c="&wxappAid="+o+"&wxappId="+s+"&type=0&formId="+t.formId+"&itemId="+t.itemId+"&fileSize="+t.fileSize+"&fileType="+t.fileType,u=!1;n.uploadFile({url:l+"wxAppAdvanceUpload.jsp?cmd=formFileUpload"+c,filePath:t.filePath,name:"ctrl",success:function(a){if(""!=a.data){var o=void 0;if((o="object"==r(a.data)?a.data:JSON.parse(a.data)).success){var i=o.fileId;n.hideLoading(),n.showToast({title:"上传成功"});for(var s=e.data.moduleInfoList,l=0,d=s.length;l<d;l++){var c=s[l];if(c.id==t.moduleid){for(var p=c.content.formData,g={},f=0;f<p.length;f++)p[f].id==t.itemId&&(p[f].val=i,p[f].path=o.path,g["moduleInfoList["+l+"].content.formData["+f+"]"]=p[f]);c.content.tmpFileList=c.content.tmpFileList?c.content.tmpFileList:[];var h=c.content.tmpFileList;h.push({tmpFileId:o.id,tmpFileName:o.name,fileId:o.fileId}),g["moduleInfoList["+l+"].content.tmpFileList"]=h,e.setData(g)}}}else n.showModal({title:"上传失败",showCancel:!1,content:o.msg,success:function(e){}}),n.hideLoading()}else u=!0},fail:function(e){console.log(e),n.hideLoading(),n.showModal({title:"上传失败",showCancel:!1,content:"系统繁忙，请稍后重试！",success:function(e){}})},complete:function(e){u&&(n.hideLoading(),n.showModal({title:"上传失败",showCancel:!1,content:"系统繁忙，请稍后重试！",success:function(e){}}))}})},g.getPhoneNumber=function(e,t){var a=i().globalData.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"/appAjax/secureUtil.jsp?cmd=decryptPhone",data:{encryptedData:t.encryptedData,iv:t.iv,sessionKey:t.sessionKey,isOem:a.isOem,wxappAid:a.wxappAid,wxappAppId:a.wxappAppId},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){var o=a.data;if(!o.success)throw Error(o.msg);for(var n=o.phone,i=e.data.moduleInfoList,s=0,r=i.length;s<r;s++){var l=i[s];if(l.id==t.moduleid){for(var d=l.content.formData,c={},u=0;u<d.length;u++)d[u].id==t.itemId&&(d[u].input=n,d[u].hasAuth=!0,c["moduleInfoList["+s+"].content.formData["+u+"]"]=d[u]);e.setData(c)}}})).catch((function(e){n.hideLoading(),n.showModal({title:"获取失败",showCancel:!1,content:e.message})}))},g.getVerNumber=function(e,t){var a=i().globalData.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"/appAjax/wxAppConnectionForm.jsp?cmd=sendValidateCode",data:{aid:a.aid,wxappAid:a.wxappAid,wxappId:a.wxappId,moduleId:t.moduleId,formId:t.formId,itemId:t.itemId,phone:t.phone},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data;if(a.success)return a;e.toast.showToast({title:t.data.msg,icon:"warning",duration:2e3,maxWidth:260})})).catch((function(t){n.hideLoading(),e.toast.showToast({title:"获取失败",icon:"warning",duration:2e3})}))},g.getCardInfo=function(e,t){var a=i().globalData,o=p.promisify,s=void 0,r={url:{cmd:"getCardInfoV2"},data:{cardId:e}};return void 0!==t&&(r.data.type=t),void 0===a.openId?s=o(n.login)().then((function(e){if(!e.code)throw new Error("login fail");return r.data.code=e.code,g.issueRequest(r)})).catch((function(e){console.error(e)})):(r.data.openId=a.openId,s=g.issueRequest(r)),s.then((function(e){if(n.setPageInfo){var t=e.data.cardInfo.tdk;n.setPageInfo({title:t.t,description:t.d,keywords:t.k})}return e}))},g.getCardList=function(){var e=i().globalData.extConfigData;return p.promisify(n.request)({url:e.wxappDomain+"?cmd=getCardList",data:{wxappAid:e.wxappAid,wxappId:e.wxappId,isOem:e.isOem,from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t.data})).catch((function(e){console.error(e)}))},g.getVisitedSimpleInfo=function(e){var t=i().globalData;function a(e){var a={wxappAid:e.wxappAid,wxappId:e.wxappId,isOem:e.isOem,from:c.FROM_PLATFORM,bdappAppId:e.bdappAppId};if(void 0!==t.openId)a.openId=t.openId,o(a,e.wxappDomain);else{var i=n.isLoginSync();if(!i||i instanceof Error||!i.isLogin)return;n.login({success:function(t){t.code&&(a.code=t.code,o(a,e.wxappDomain))}})}}function o(a,o){n.request({url:o+"?cmd=getCardVisitSimpleInfo",data:a,method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(a){var o=a.data;o.success&&(e&&e(o.data),void 0===t.openId&&o.data.openId&&(t.openId=o.data.openId))},fail:function(){console.log("getCardInfo err")}})}void 0!==t.extConfigData&&void 0!==t.extConfigData.wxappAid?a(t.extConfigData):n.getExtConfig({success:function(e){"getExtConfig: ok"==e.errMsg&&a(e.extConfig)}})},g.searchResult=function(e){var t=e.kw||"",a=e.index||0,o=e.scl||[],s=e.moduleId,r=e.sysId||0,l=e.type||0;if(""!=t.replace(/(^\s*)|(\s*$)/,"")){var d=i().globalData.extConfigData;return p.promisify(n.request)({url:d.wxappDomain+"?cmd=search",data:{wxappAid:d.wxappAid,wxappId:d.wxappId,kw:t,type:l,sysId:r,moduleId:s,index:a,scl:JSON.stringify(o)},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return t.success?e.data:(n.showModal({title:"搜索失败",showCancel:!1,content:t.msg,success:function(e){}}),t.data)})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading()}))}n.showModal({content:"请输入搜索关键词",showCancel:!1,success:function(e){}})},g.getUserLatestOrder=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomain+"?cmd=getUserLatestOrder",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,from:c.FROM_PLATFORM,openId:e.openId},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return{name:t.name,phone:t.phone,address:t.address,message:t.message}})).catch((function(e){console.error(e)}))},g.addNewsComment=function(e,t){var a=e.newsId,o=e.comment||"",s=e.creator||{},r=i().globalData.extConfigData;return p.promisify(n.request)({url:r.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=newsComment",data:{wxappAid:r.wxappAid,wxappId:r.wxappId,from:c.FROM_PLATFORM,newsId:a,comment:o,creator:JSON.stringify(s)},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))},g.newsLike=function(e,t){var a=e.newsId,o=e.isLike,s=e.openId||"",r=i().globalData.extConfigData;return p.promisify(n.request)({url:r.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=newsLike",data:{wxappAid:r.wxappAid,wxappId:r.wxappId,from:c.FROM_PLATFORM,newsId:a,isLike:o,openId:s},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))},g.newsCommentLike=function(e,t,a){var o=e.newsId,s=e.openId||"",r=e.commentId,l=e.type||0,d=e.isLike,u=i().globalData.extConfigData;return p.promisify(n.request)({url:u.wxappDomainUrl+"wxappConnectionNews.jsp?cmd=newsCommentLike",data:{wxappAid:u.wxappAid,wxappId:u.wxappId,from:c.FROM_PLATFORM,openId:s,newsId:o,commentId:r,type:l,isLike:d},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))},g.getInfoSysDetailSetting=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomain+"?cmd=getInfoSysSetting",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,id:e,from:1,isModel:t.isModel},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return e.data})).catch((function(e){console.log("get InfoSysDetail Setting Erro -- "+e.errMsg)}))},g.getInfoSysDetail=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomain+"?cmd=getInfoSysDetail",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,id:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success){if(n.setPageInfo){var t=e.data.infoSysDetail.tdk;n.setPageInfo({title:t.t,description:t.d,keywords:t.k})}return e.data}})).catch((function(e){console.log("get InfoSysDetail Data Erro -- "+e.errMsg)}))},g.getWXAppForm=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomain+"?cmd=getWXAppForm",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,id:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return e.data})).catch((function(e){console.log(e),console.log("get Form Data Erro -- "+e.errMsg)}))},g.uploadFile2=function(e){var t=i().globalData.extConfigData,a=(e.fromColId,p.promisify(n.uploadFile));n.showLoading({title:"上传中",mask:!0});var o="&wxappAid="+t.wxappAid+"&wxappId="+t.wxappId+"&type=0&formId="+e.formId+"&itemId="+e.itemId+"&fileSize="+e.fileSize+"&fileType="+e.fileType;return a({url:t.wxappDomainUrl+"wxAppAdvanceUpload.jsp?cmd=formFileUpload"+o,filePath:e.filePath,name:"ctrl"}).then((function(e){if(n.hideLoading(),""==e.data)throw Error("上传失败");var t=void 0;if(!(t="object"==r(e.data)?e.data:JSON.parse(e.data)).success)throw Error(t.msg);return{id:t.id,fileName:t.name,fileId:t.fileId,filePath:t.path}})).catch((function(e){console.log("upload img err -- "+e),n.showModal({title:"上传失败",showCancel:!1,content:e.message})}))},g.commitFormV2=function(e,t){var a=i().globalData,o=[],s=t.verificationList,r=t.data;for(var l in r){var d=r[l];d instanceof Array&&(d=d.join("\n")),o.push({id:1*l,val:d})}return g.issueRequest({url:{cmd:"addWXAppFormSubmit"},data:{formId:t.formId,colId:t.fromColId,openId:a.openId,sourceType:t.sourceType,tmpFileList:JSON.stringify(e),submitContentList:JSON.stringify(o),codeValidationList:JSON.stringify(s)},method:"POST"}).then((function(e){if(!e.success)throw Error(e.msg);return!0})).catch((function(e){n.showModal({title:"提交失败",showCancel:!1,content:e.message})}))},g.uploadFile3=function(e){var t=i().globalData.extConfigData,a=t.wxappDomainUrl,o=p.promisify(n.uploadFile);return n.showLoading({title:"上传中",mask:!0}),o({url:a+"wxAppAdvanceUpload.jsp?cmd=orderFileUpload"+("&wxappAid="+t.wxappAid+"&wxappId="+t.wxappId+"&type=0&fieldKey="+e.fieldKey+"&fileSize="+e.fileSize+"&fileType="+e.fileType),filePath:e.filePath,name:"ctrl"}).then((function(e){if(n.hideLoading(),""==e.data)throw Error("上传失败");n.showToast({title:"上传成功"});var t=void 0;if(!(t="object"==r(e.data)?e.data:JSON.parse(e.data)).success)throw Error(t.msg);return{id:t.id,fieldKey:t.fieldKey,fileName:t.name,fileId:t.fileId,filePath:t.path}})).catch((function(e){console.log("upload img err -- "+e),n.showModal({title:"上传失败",showCancel:!1,content:e.message})}))},g.getWXAppUnionid=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/manage.jsp?cmd=checkWX",data:{code:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return e.data;n.showModal({title:e.data.msg})})).catch((function(e){console.log("getWXAppUnionid -- "+e.errMsg)}))},g.getLoginWXApp=function(e,t){var a=this,o=i().globalData.extConfigData;return p.promisify(n.request)({url:o.wxappDomainUrl+"appAjax/manage.jsp?cmd=getLoginWXApp",data:{aid:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:"_FSESSIONID="+t}}).then((function(e){if(e.data.success||a.toast.showToast({title:e.data.msg,icon:"warning",duration:2e3}),e.data.success)return e.data})).catch((function(e){console.log("err---",e),console.log("getLoginWXApp -- "+e.errMsg)}))},g.cloneWXApp=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/manage.jsp?cmd=cloneWXApp",data:{fromWXAppAid:e.fromWXAppAid,fromWXAppId:e.fromWXAppId,targetWXAppAId:e.targetWXAppAId,targetWXAppId:e.targetWXAppId},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:"_FSESSIONID="+e.sessionid}}).then((function(e){return e.data})).catch((function(e){console.log("cloneWXApp -- "+e.errMsg)}))},g.getWXAppEditInfo=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/manage.jsp?cmd=getWXAppEditInfo",data:{wxappAid:e.wxappAid,wxappId:e.wxappId},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:"_FSESSIONID="+e.sessionid}}).then((function(e){return e.data})).catch((function(e){console.log("getWXAppEditInfo -- "+e.errMsg)}))},g.setWXAppInfo=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/manage.jsp?cmd=setWXAppInfo",data:e,method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded",Cookie:"_FSESSIONID="+e.sessionid}}).then((function(e){if(!e.data.success)throw Error(e.data.msg);return e.data})).catch((function(e){console.log("getWXAppEditInfo -- "+e.errMsg)}))},g.getAdvContent=function(){var e=i().globalData.extConfigData;return p.promisify(n.request)({url:e.wxappDomain+"?cmd=getAdvContent",data:{from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(!e.data.success)throw Error(e.data.msg);return e.data})).catch((function(e){console.log("getAdvContent -- "+e.errMsg)}))},g.getWXAppModuleInfo=function(e){var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"wxAppConnectionV3.jsp?cmd=getWXAppModuleInfo",data:{wxappAid:e.wxappAid,wxappId:e.wxappId,id:e.id},method:"GET"}).then((function(e){return e.data})).catch((function(e){console.log("getWXAppModuleInfo -- "+e.errMsg)}))},g.initAdvertising=function(e,t){var a=i().globalData.extConfigData,o=(i().globalData,a.wxappRegUrl,a.wxappDomainUrl);n.request({url:o+"wxAppReg.jsp?cmd=getValidateSign",data:{},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(a){a.data.success&&(e.setData({wxappDomainUrl:o,code:a.data.code,sign:a.data.sign}),t&&t())},fail:function(){n.showModal({title:"",showCancel:!1,content:"系统繁忙，请稍后再试",success:function(e){}})}})},g.getValidateCode=function(e,t,a,o){var s=a||"",r=o||"",l=i().globalData.extConfigData,d=(i().globalData,l.wxappDomainUrl),c=e.data.phone;n.request({url:d+"wxAppReg.jsp?cmd=sendValidateCode&isNewSms=true",data:{cacct:c,validateCode:s,validateSign:r},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){t&&t(e)},fail:function(){}})},g.regCorpNew=function(e,t,a){var o=n.getStorageSync("verCodeSign"),s=i().globalData.extConfigData.wxappDomainUrl;n.request({url:s+"wxAppReg.jsp?cmd=regCorpNew",data:{cacct:a.phone,pwd:u.hexMD5(a.password),verCode:a.code,companyGoal1:e.data.registerDataUse,verCodeSign:o,program:1,_ta:4222},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){e.data.success?t&&t(e):("验证码错误，请输入正确的验证码"==e.data.msg&&g.logDog(7000055,11),n.showModal({title:"",showCancel:!1,content:e.data.msg,success:function(e){}}))},fail:function(){}})},g.messageFileUpload=function(e){var t=i().globalData.extConfigData,a=t.wxappDomainUrl,o=p.promisify(n.uploadFile);return n.showLoading({title:"上传中",mask:!0}),o({url:a+"wxAppAdvanceUpload.jsp?cmd=messageFileUpload"+("&wxappAid="+t.wxappAid+"&wxappId="+t.wxappId+"&fileSize="+e.fileSize+"&type=0"),filePath:e.filePath,name:"ctrl"}).then((function(e){if(n.hideLoading(),""==e.data)throw Error("上传失败");return"object"==r(e.data)?e.data:JSON.parse(e.data)})).catch((function(e){console.log("upload img err -- "+e),n.showModal({title:"上传失败",showCancel:!1,content:e.message})}))},g.addMessage=function(e){n.showLoading({title:"提交中",mask:!0});var t=i().globalData,a=t.extConfigData,o=p.promisify(n.request),s=e.formData||{},r=e.fileData||[],l=e.fileIdList||[];return o({url:a.wxappDomainUrl+"appAjax/wxAppConnectionMessage.jsp?cmd=addMessage",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,from:1,openId:t.openId,headImgUrl:t.userInfo.avatarUrl,nickname:t.userInfo.nickName,formData:JSON.stringify(s),fileIdList:JSON.stringify(l),tmpFileList:JSON.stringify(r)},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return n.hideLoading(),t})).catch((function(e){n.hideLoading(),n.showModal({title:"提交失败",showCancel:!1,content:e.message})}))},g.getMessageList=function(e){n.showLoading({title:"加载中",mask:!0});var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/wxAppConnectionMessage.jsp?cmd=getMessageList",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,isOem:a.isOem,from:1,openId:t.openId||"",code:e.code||"",wxappAppId:a.wxappAppId||"",bdappAppId:a.bdappAppId||""},method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return n.hideLoading(),t})).catch((function(e){n.hideLoading(),console.log("getMessageList -- "+e.errMsg)}))},g.reportVisitorBehavior=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i().globalData;t.visitorId;if(t.visitorId)o();else var a=s((function(){t.visitorId&&(clearInterval(a),o())}),500);function o(){var a=getCurrentPages(),o=a[a.length-1].route;g.issueRequest({url:{path:"appAjax/wxAppConnectionVisitor.jsp",cmd:"addUpdatings"},data:Object.assign({},{visitorId:t.visitorId,pageUrl:o},e)}).catch((function(e){console.log(e)}))}},g.getVoteItemInfo=function(e){void 0===e&&console.error("id is undefined.");var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/vote.jsp?cmd=getExtItem",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",id:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t})).catch((function(e){console.error(e)}))},g.getVote=function(e){void 0===e&&console.error("id is undefined.");var t=i().globalData.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/vote.jsp?cmd=getVote",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,id:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t.voteInfo})).catch((function(e){console.error(e)}))},g.getVoteList=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/vote.jsp?cmd=list",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||""},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return t.success||getCurrentPages()[getCurrentPages().length-1].setData({votesList:-2}),t.voteList})).catch((function(e){getCurrentPages()[getCurrentPages().length-1].setData({votesList:-2}),console.error(e)}))},g.vote=function(e){var t=i().globalData,a=t.extConfigData,o=e.voteId||0,s=e.itemId||0,r=e.validateCode||"",l=e.validateSign||"";return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/vote.jsp?cmd=vote",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",from:1,voteId:o,itemId:s,validateCode:r,validateSign:l},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(t.success)return t.msg;getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:t.msg,confirmButton:"确 定"})})).catch((function(e){console.error(e)}))},g.checkVote=function(e){var t=i().globalData,a=t.extConfigData,o=e.voteId||0,s=e.itemId||0;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/vote.jsp?cmd=checkVote",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",voteId:o,itemId:s},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(t.success)return!0;getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:t.msg,confirmButton:"确 定"})})).catch((function(e){console.error(e)}))},g.validateSign=function(){var e=i().globalData.extConfigData;return p.promisify(n.request)({url:e.wxappDomainUrl+"appAjax/validateSign.jsp?cmd=get",data:{},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a=t.data;if(a.success)return{wxappDomainUrl:e.wxappDomainUrl,sign:a.sign,code:a.code};getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:a.msg,confirmButton:"确 定"})})).catch((function(e){console.error(e)}))},g.addGiftRecord=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/wxAppConnectionGift.jsp?cmd=addGiftRecord",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",name:e.name,phone:e.phone,giftId:e.giftId},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return t.success||getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:t.msg,confirmButton:"确 定"}),t})).catch((function(e){console.error(e)}))},g.checkUserPhoneExisted=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/initInfo.jsp?cmd=checkUserPhoneExisted",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",platform:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(t.success)return t;console.log(t)})).catch((function(e){console.error(e)}))},g.getLatestInformation=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/mypage.jsp?cmd=getLatestInfo",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",from:1,start:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{orderList:e.data.myPageOrderList};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getMyForm=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/wxAppConnectionForm.jsp?cmd=getFormSubmitList",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",from:1,start:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{formList:e.data.formSubmitList,total:e.data.totalSize};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getFormSubmitStatus=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=getFormSubmitStatus",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{hasForms:e.data.haveData,formTitle:e.data.btnText};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getLatestInfoStatus=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=getLatestInfoStatus",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{hasLatestInfo:e.data.haveData,unreadLatestInfoCount:e.data.unreadCount};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.hasReadLatestInfo=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=hasReadLatestInfo",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{success:!0};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getMyQuotationStatus=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=getMyQuotationStatus",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{haveData:e.data.haveData};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getMyCouponStatus=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=getMyCouponStatus",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:1},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(e.data.success)return{haveData:e.data.haveData};throw e.data?Error(e.data.msg):Error("response nothing")})).catch((function(e){console.error(e)}))},g.getMyCouponList=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/mypage.jsp?cmd=myCoupon",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId,from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return n.hideLoading(),t})).catch((function(e){console.error(e),n.hideLoading()}))},g.receiveCoupon=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/coupon.jsp?cmd=receiveCoupon",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",couponId:e.couponId,from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return t.success?(g.reportVisitorBehavior({type:30,relationId:t.couponRecordId}),t):t})).catch((function(e){console.error(e)}))},g.getCouponEntriesData=function(e){var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/coupon.jsp?cmd=getCouponEntriesData",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",couponId:e,from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;return t.success||getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:t.msg,confirmButton:"确 定"}),t})).catch((function(e){console.error(e)}))},g.getCouponList=function(){var e=i().globalData,t=e.extConfigData;return p.promisify(n.request)({url:t.wxappDomainUrl+"appAjax/coupon.jsp?cmd=getCouponList",data:{wxappAid:t.wxappAid,wxappId:t.wxappId,openId:e.openId||"",from:c.FROM_PLATFORM},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw getCurrentPages()[getCurrentPages().length-1].setData({allCoupon:-2}),Error(t.msg);return t.couponList})).catch((function(e){getCurrentPages()[getCurrentPages().length-1].setData({votesList:-2}),console.error(e)}))},g.getVideoInfo=function(e){void 0===e&&console.error("id is undefined.");var t=i().globalData,a=t.extConfigData;return p.promisify(n.request)({url:a.wxappDomainUrl+"appAjax/media.jsp?cmd=getVideo",data:{wxappAid:a.wxappAid,wxappId:a.wxappId,openId:t.openId||"",id:e},method:"GET",header:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;if(!t.success)throw Error(t.msg);return t})).catch((function(e){console.error(e)}))},g.getProvince=p.promiseMemorize(f("appAjax/city.jsp?cmd=getProvinceInfo","GET",{Lcid:2052})),g.getCities=p.promiseMemorize(f("appAjax/city.jsp?cmd=cityGetChildren","GET",{Lcid:2052,type:"cityOrCounty"})),g.getCounty=p.promiseMemorize(f("appAjax/city.jsp?cmd=cityGetChildren","GET",{Lcid:2052,type:"cityOrCounty"})),t.exports=g}(__hacked)})),window.define("utils/apiOpt",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o=a.setTimeout,s=(a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),r=e("api"),l=function(e){var t=e.url;t="https://m.fkw.com/"+t+(i().globalData.debug||!1?(t.includes("?")?"&":"?")+"_FaiDebug=true":""),e.url=t,d(e,0)},d=function e(t,a){var s=t.header,r=void 0===s?{}:s,l=r.Cookie,d=void 0===l?"":l,u=n.getStorageInfoSync(),p=i().globalData._FSESSIONID||n.getStorageSync("_FSESSIONID");(u.keys||[]).forEach((function(e,t){var a=c(e);a&&(d+=";"+e+"="+a)}));var g={Cookie:(d+="; _FSESSIONID="+p)||"","content-type":"application/x-www-form-urlencoded"};Object.assign(g,r),n.request({url:t.url||"",data:t.data||{},header:g,method:t.method="POST",dataType:t.dataType="json",success:function(e){var a=e.data;a.success,a.login;t.success&&t.success(e)},fail:function(n){y("request err!count="+a+";res="+JSON.stringify(n)),a>2?t.fail&&t.fail(n):o((function(){e(t,++a)}),2e3*(a+1))},complete:function(n){var i=n.statusCode;if(i&&200!=i)return y("request statusCode err!count="+a+";statusCode="+i),a>2?void(t.complete&&t.complete(n)):void o((function(){e(t,++a)}),2e3*(a+1));200==i&&t.complete&&t.complete(n),!i&&a>2&&t.complete&&t.complete(n)}})},c=function(e){var t=n.getStorageSync(e);if(!t)return null;if(!t.isCookie)return null;if(null!=s(t.expires)){var a=new Date(t.expires);if(a)if((new Date).getTime()>=a.getTime())return n.removeStorageSync(e),null}return t.value},u=function(){return new Promise((function(e,t){n.login({success:function(t){i().globalData.code=t.code,e(t.code)},fail:function(e){t(e)}})}))},p=function(){return i().globalData.code?new Promise((function(e,t){n.checkSession({success:function(){e(i().globalData.code)},fail:function(){n.login({success:function(t){i().globalData.code=t.code,e(t.code)},fail:function(e){t(e)}})}})})):u()},g=function(){var e=void 0;return p().then((function(t){return new Promise((function(a,o){(e=t)?n.getSetting({success:function(e){a(e)},fail:function(e){o(e)}}):o(res)}))})).then((function(t){return new Promise((function(a,o){t.authSetting["scope.userInfo"]?n.getUserInfo({success:function(t){a({code:e,iv:t.iv,encryptedData:t.encryptedData,professionTpye:i().globalData.professionTpye})},fail:function(e){o(e)}}):a({code:e,professionTpye:i().globalData.professionTpye})}))})).then((function(e){return new Promise((function(t,a){l({url:"ajax/wxhome_h.jsp?cmd=wxLoginInfo",data:e,success:function(e){e.data&&e.data.success?(m(e.data),t(e.data)):a(e)},fail:function(e){a(e)}})}))})).catch((function(e){y(e)}))},f=function(e){return new Promise((function(t,a){e&&r.getLoginWXApp(e.aid,e.sessionId).then((function(a){if(a){var o=Object.assign(e,a);i().globalData.fkUserInfo={wxappAid:a.wxappAid,wxappId:a.wxappId,isNewAdd:a.isNewAdd},t(o)}}))})).then((function(e){return new Promise((function(t,a){e.success&&(t(e),e.isNewAdd||n.reLaunch({url:"/pages/index/index?scene="+e.wxappAid+"_"+e.wxappId+"&isManage=true&hasCopy=1"}))}))})).catch((function(e){y(e)}))},h=function(e,t){return new Promise((function(a,o){""==n.getStorageSync("_UNIONID")||null==n.getStorageSync("_UNIONID")||"undefined"==n.getStorageSync("_UNIONID")?l({url:"ajax/wxhome_h.jsp?cmd=getUnionId",data:{iv:t,encryptedData:e,sessionKey:n.getStorageSync("_SESSION_KEY_MD5")},success:function(e){if(e.data&&e.data.success){var t=e.data;a({unionid:t.unionid,exist:t.existedUnionId})}else o(e)},fail:function(e){o(e)}}):a({unionid:n.getStorageSync("_UNIONID"),exist:n.getStorageSync("_EXIST_UNOINID")})}))},m=function(e){var t=i().globalData;t._OPENID=e.openid,t._UNIONID=e.unionid,t._SESSION_KEY_MD5=e.session_key,n.setStorageSync("_OPENID",e.openid),n.setStorageSync("_SESSION_KEY_MD5",e.session_key),n.setStorageSync("_EXIST_UNOINID",e.existedUnionId),""!=e.unionid&&null!=e.unionid&&"undefined"!=e.unionid&&n.setStorageSync("_UNIONID",e.unionid)},b=function(e){var t=i().globalData;t._LOGINTYPE=e.loginType,t._FSESSIONID=e.sessionId,t._TOKEN=e.token,n.setStorage({key:"_FSESSIONID",data:e.sessionId}),n.setStorage({key:"_TOKEN",data:e.token}),n.setStorage({key:"_LOGINTYPE",data:e.loginType}),n.setStorage({key:"_AID",data:e.aid}),"wxLogin"==e.loginType&&n.setStorage({key:"_EXIST_UNOINID",data:!0}),v()},v=function(){var e=i().globalData.userInfo;if(e){var t=e.avatarUrl,a=e.nickName;l({url:"ajax/wxhome_h.jsp?cmd=updatePortraitAndName",data:{avatarUrl:t,nickName:a},success:function(e){e.data}})}},w=function(){n.removeStorage({key:"_FSESSIONID"}),n.removeStorage({key:"_TOKEN"}),n.removeStorage({key:"_LOGINTYPE"})},I={SITE:0,HD:1,FLYER:2,WXAST:3,PROGRAM:4,HOME:5,KTU:6},D=function(e,t){l({method:"GET",url:"ajax/wxhome_h.jsp?cmd=logDog&dogId="+e+"&dogSrc="+t})},y=function(e){console.error(e)};t.exports={request:l,getCookie:c,setCookie:function(e,t,a){if(a=parseInt(a),!isNaN(a)&&a<=0)n.removeStorage({key:e,success:function(e){}});else{var o={value:t};if(!isNaN(a)&&a>0){var i=new Date,s=new Date(i.getTime()+a);o.expires=s.toGMTString()}o.isCookie=!0,n.setStorage({key:e,data:o})}},isMobile:function(e){return/^1[3456789]\d{9}$/.test(e)},check4Code:function(e){return!!/\d{4}$/.test(e)},getInitCode:u,getCode:p,wxLoginInfo:g,wxLogin:function(){return g().then((function(e){return new Promise((function(t,a){n.showLoading({title:"自动登录中"}),l({url:"ajax/wxhome_h.jsp?cmd=wxAutoLogin",data:e,success:function(e){e.data&&e.data.success?(b(e.data),t(e.data)):(w(),t(e.data)),n.hideLoading()},fail:function(e){a(e)}})}))})).then((function(e){return f(e)})).catch((function(e){y(e)}))},getLoginWXApp:f,getUnionId:function(e,t){return""==n.getStorageSync("_SESSION_KEY_MD5")||null==n.getStorageSync("_SESSION_KEY_MD5")||"undefined"==n.getStorageSync("_SESSION_KEY_MD5")?g().then((function(a){return h(e,t)})).catch((function(e){y(e)})):h(e,t)},loginSuc:b,logoutSuc:w,Biz:I,logDog:D,log:y,logDogType:function(e){var t=parseInt(e),a=i().globalData.professionTpye;a==I.SITE?t+=700:a==I.HD?t+=720:a==I.FLYER?t+=740:a==I.PROGRAM&&(t+=760),D(4000087,t)},getBizName:function(){var e=i().globalData.professionTpye;return e==I.SITE?"凡科建站":e==I.HD?"凡科互动":e==I.PROGRAM?"轻站小程序":e==I.FLYER?"微传单":e==I.WXAST?"公众号助手":e==I.KTU?"凡科快图":"凡科"}}}(__hacked)})),window.define("utils/comm",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;t.exports=wxAppRequest}(__hacked)})),window.define("utils/define",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var a={FROM_PLATFORM:1};t.exports=a}(__hacked)})),window.define("utils/eventConstants",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Object.defineProperty(a,"__esModule",{value:!0});a.OPEN_AREAPICKER="open-areapicker",a.AREAPICKER_CHANGE="areapicker-change",a.SHOW_SHADOWVIEW="show-shadowview",a.HIDE_SHADOWVIEW="hide-shadowview",a.SHOW_DIALOG="show-dialog"}(__hacked)})),window.define("utils/EventEmitter",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Object.defineProperty(a,"__esModule",{value:!0});var t=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscribers={}}return t(e,[{key:"on",value:function(e,t){return this.subscribers[e]?this.subscribers[e].push(t):this.subscribers[e]=[t],t}},{key:"once",value:function(e,t){var a=this,o=function o(){t.apply(void 0,arguments),a.removeListener(e,o)};return this.subscribers[e]?this.subscribers[e].push(o):this.subscribers[e]=[o],t}},{key:"removeListener",value:function(e,t){var a=this.subscribers[e];a&&(this.subscribers[e]=a.filter((function(e){return e!==t})))}},{key:"emit",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var n=this.subscribers[e]||[];n.forEach((function(e){return e.apply(void 0,a)}))}}]),e}();a.default=o}(__hacked)})),window.define("utils/md5",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;function a(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function o(e,t,o,n,i,s){return a((r=a(a(t,e),a(n,s)))<<(l=i)|r>>>32-l,o);var r,l}function n(e,t,a,n,i,s,r){return o(t&a|~t&n,e,t,i,s,r)}function i(e,t,a,n,i,s,r){return o(t&n|a&~n,e,t,i,s,r)}function s(e,t,a,n,i,s,r){return o(t^a^n,e,t,i,s,r)}function r(e,t,a,n,i,s,r){return o(a^(t|~n),e,t,i,s,r)}function l(e){for(var t=1732584193,o=-271733879,l=-1732584194,d=271733878,c=0;c<e.length;c+=16){var u=t,p=o,g=l,f=d;t=n(t,o,l,d,e[c+0],7,-680876936),d=n(d,t,o,l,e[c+1],12,-389564586),l=n(l,d,t,o,e[c+2],17,606105819),o=n(o,l,d,t,e[c+3],22,-1044525330),t=n(t,o,l,d,e[c+4],7,-176418897),d=n(d,t,o,l,e[c+5],12,1200080426),l=n(l,d,t,o,e[c+6],17,-1473231341),o=n(o,l,d,t,e[c+7],22,-45705983),t=n(t,o,l,d,e[c+8],7,1770035416),d=n(d,t,o,l,e[c+9],12,-1958414417),l=n(l,d,t,o,e[c+10],17,-42063),o=n(o,l,d,t,e[c+11],22,-1990404162),t=n(t,o,l,d,e[c+12],7,1804603682),d=n(d,t,o,l,e[c+13],12,-40341101),l=n(l,d,t,o,e[c+14],17,-1502002290),t=i(t,o=n(o,l,d,t,e[c+15],22,1236535329),l,d,e[c+1],5,-165796510),d=i(d,t,o,l,e[c+6],9,-1069501632),l=i(l,d,t,o,e[c+11],14,643717713),o=i(o,l,d,t,e[c+0],20,-373897302),t=i(t,o,l,d,e[c+5],5,-701558691),d=i(d,t,o,l,e[c+10],9,38016083),l=i(l,d,t,o,e[c+15],14,-660478335),o=i(o,l,d,t,e[c+4],20,-405537848),t=i(t,o,l,d,e[c+9],5,568446438),d=i(d,t,o,l,e[c+14],9,-1019803690),l=i(l,d,t,o,e[c+3],14,-187363961),o=i(o,l,d,t,e[c+8],20,1163531501),t=i(t,o,l,d,e[c+13],5,-1444681467),d=i(d,t,o,l,e[c+2],9,-51403784),l=i(l,d,t,o,e[c+7],14,1735328473),t=s(t,o=i(o,l,d,t,e[c+12],20,-1926607734),l,d,e[c+5],4,-378558),d=s(d,t,o,l,e[c+8],11,-2022574463),l=s(l,d,t,o,e[c+11],16,1839030562),o=s(o,l,d,t,e[c+14],23,-35309556),t=s(t,o,l,d,e[c+1],4,-1530992060),d=s(d,t,o,l,e[c+4],11,1272893353),l=s(l,d,t,o,e[c+7],16,-155497632),o=s(o,l,d,t,e[c+10],23,-1094730640),t=s(t,o,l,d,e[c+13],4,681279174),d=s(d,t,o,l,e[c+0],11,-358537222),l=s(l,d,t,o,e[c+3],16,-722521979),o=s(o,l,d,t,e[c+6],23,76029189),t=s(t,o,l,d,e[c+9],4,-640364487),d=s(d,t,o,l,e[c+12],11,-421815835),l=s(l,d,t,o,e[c+15],16,530742520),t=r(t,o=s(o,l,d,t,e[c+2],23,-995338651),l,d,e[c+0],6,-198630844),d=r(d,t,o,l,e[c+7],10,1126891415),l=r(l,d,t,o,e[c+14],15,-1416354905),o=r(o,l,d,t,e[c+5],21,-57434055),t=r(t,o,l,d,e[c+12],6,1700485571),d=r(d,t,o,l,e[c+3],10,-1894986606),l=r(l,d,t,o,e[c+10],15,-1051523),o=r(o,l,d,t,e[c+1],21,-2054922799),t=r(t,o,l,d,e[c+8],6,1873313359),d=r(d,t,o,l,e[c+15],10,-30611744),l=r(l,d,t,o,e[c+6],15,-1560198380),o=r(o,l,d,t,e[c+13],21,1309151649),t=r(t,o,l,d,e[c+4],6,-145523070),d=r(d,t,o,l,e[c+11],10,-1120210379),l=r(l,d,t,o,e[c+2],15,718787259),o=r(o,l,d,t,e[c+9],21,-343485551),t=a(t,u),o=a(o,p),l=a(l,g),d=a(d,f)}return[t,o,l,d]}function d(e){for(var t="",a=0;a<4*e.length;a++)t+="0123456789abcdef".charAt(e[a>>2]>>a%4*8+4&15)+"0123456789abcdef".charAt(e[a>>2]>>a%4*8&15);return t}function c(e){for(var t=1+(e.length+8>>6),a=new Array(16*t),o=0;o<16*t;o++)a[o]=0;for(o=0;o<e.length;o++)a[o>>2]|=(255&e.charCodeAt(o))<<o%4*8;return a[o>>2]|=128<<o%4*8,a[16*t-2]=8*e.length,a}t.exports={hexMD5:function(e){return d(l(c(e)))}}}(__hacked)})),window.define("utils/optMD5",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;function a(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function o(e,t,o,n,i,s){return a((r=a(a(t,e),a(n,s)))<<(l=i)|r>>>32-l,o);var r,l}function n(e,t,a,n,i,s,r){return o(t&a|~t&n,e,t,i,s,r)}function i(e,t,a,n,i,s,r){return o(t&n|a&~n,e,t,i,s,r)}function s(e,t,a,n,i,s,r){return o(t^a^n,e,t,i,s,r)}function r(e,t,a,n,i,s,r){return o(a^(t|~n),e,t,i,s,r)}function l(e){for(var t=1732584193,o=-271733879,l=-1732584194,d=271733878,c=0;c<e.length;c+=16){var u=t,p=o,g=l,f=d;t=n(t,o,l,d,e[c+0],7,-680876936),d=n(d,t,o,l,e[c+1],12,-389564586),l=n(l,d,t,o,e[c+2],17,606105819),o=n(o,l,d,t,e[c+3],22,-1044525330),t=n(t,o,l,d,e[c+4],7,-176418897),d=n(d,t,o,l,e[c+5],12,1200080426),l=n(l,d,t,o,e[c+6],17,-1473231341),o=n(o,l,d,t,e[c+7],22,-45705983),t=n(t,o,l,d,e[c+8],7,1770035416),d=n(d,t,o,l,e[c+9],12,-1958414417),l=n(l,d,t,o,e[c+10],17,-42063),o=n(o,l,d,t,e[c+11],22,-1990404162),t=n(t,o,l,d,e[c+12],7,1804603682),d=n(d,t,o,l,e[c+13],12,-40341101),l=n(l,d,t,o,e[c+14],17,-1502002290),t=i(t,o=n(o,l,d,t,e[c+15],22,1236535329),l,d,e[c+1],5,-165796510),d=i(d,t,o,l,e[c+6],9,-1069501632),l=i(l,d,t,o,e[c+11],14,643717713),o=i(o,l,d,t,e[c+0],20,-373897302),t=i(t,o,l,d,e[c+5],5,-701558691),d=i(d,t,o,l,e[c+10],9,38016083),l=i(l,d,t,o,e[c+15],14,-660478335),o=i(o,l,d,t,e[c+4],20,-405537848),t=i(t,o,l,d,e[c+9],5,568446438),d=i(d,t,o,l,e[c+14],9,-1019803690),l=i(l,d,t,o,e[c+3],14,-187363961),o=i(o,l,d,t,e[c+8],20,1163531501),t=i(t,o,l,d,e[c+13],5,-1444681467),d=i(d,t,o,l,e[c+2],9,-51403784),l=i(l,d,t,o,e[c+7],14,1735328473),t=s(t,o=i(o,l,d,t,e[c+12],20,-1926607734),l,d,e[c+5],4,-378558),d=s(d,t,o,l,e[c+8],11,-2022574463),l=s(l,d,t,o,e[c+11],16,1839030562),o=s(o,l,d,t,e[c+14],23,-35309556),t=s(t,o,l,d,e[c+1],4,-1530992060),d=s(d,t,o,l,e[c+4],11,1272893353),l=s(l,d,t,o,e[c+7],16,-155497632),o=s(o,l,d,t,e[c+10],23,-1094730640),t=s(t,o,l,d,e[c+13],4,681279174),d=s(d,t,o,l,e[c+0],11,-358537222),l=s(l,d,t,o,e[c+3],16,-722521979),o=s(o,l,d,t,e[c+6],23,76029189),t=s(t,o,l,d,e[c+9],4,-640364487),d=s(d,t,o,l,e[c+12],11,-421815835),l=s(l,d,t,o,e[c+15],16,530742520),t=r(t,o=s(o,l,d,t,e[c+2],23,-995338651),l,d,e[c+0],6,-198630844),d=r(d,t,o,l,e[c+7],10,1126891415),l=r(l,d,t,o,e[c+14],15,-1416354905),o=r(o,l,d,t,e[c+5],21,-57434055),t=r(t,o,l,d,e[c+12],6,1700485571),d=r(d,t,o,l,e[c+3],10,-1894986606),l=r(l,d,t,o,e[c+10],15,-1051523),o=r(o,l,d,t,e[c+1],21,-2054922799),t=r(t,o,l,d,e[c+8],6,1873313359),d=r(d,t,o,l,e[c+15],10,-30611744),l=r(l,d,t,o,e[c+6],15,-1560198380),o=r(o,l,d,t,e[c+13],21,1309151649),t=r(t,o,l,d,e[c+4],6,-145523070),d=r(d,t,o,l,e[c+11],10,-1120210379),l=r(l,d,t,o,e[c+2],15,718787259),o=r(o,l,d,t,e[c+9],21,-343485551),t=a(t,u),o=a(o,p),l=a(l,g),d=a(d,f)}return[t,o,l,d]}function d(e){for(var t="",a=0;a<4*e.length;a++)t+="0123456789abcdef".charAt(e[a>>2]>>a%4*8+4&15)+"0123456789abcdef".charAt(e[a>>2]>>a%4*8&15);return t}function c(e){for(var t=1+(e.length+8>>6),a=new Array(16*t),o=0;o<16*t;o++)a[o]=0;for(o=0;o<e.length;o++)a[o>>2]|=(255&e.charCodeAt(o))<<o%4*8;return a[o>>2]|=128<<o%4*8,a[16*t-2]=8*e.length,a}t.exports={hexMD5:function(e){return d(l(c(e)))}}}(__hacked)})),window.define("utils/util",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function;var o,n=a.setTimeout,r=(a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),l=e("./EventEmitter"),d=(o=l)&&o.__esModule?o:{default:o};var c={formatTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,o=e.getDate(),n=e.getHours(),i=e.getMinutes(),s=e.getSeconds();return[t,a,o].map(u).join("/")+" "+[n,i,s].map(u).join(":")}},u=function(e){return(e=e.toString())[1]?e:"0"+e};c.isFun=function(e){if(void 0!==s&&e===s.alert)return!0;var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t};var p=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};c.extend=function e(){var t,a,o,n,i,s,l=arguments[0]||{},d=1,u=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[1]||{},d=2),"object"===(void 0===l?"undefined":r(l))||c.isFun(l)||(l={});d<u;d++)if(null!=(t=arguments[d]))for(a in"string"==typeof t&&(t=t.split("")),t)o=l[a],l!==(n=t[a])&&(f&&n&&(p(n)||(i=g(n)))?(i?(i=!1,s=o&&g(o)?o:[]):s=o&&p(o)?o:{},l[a]=e(f,s,n)):void 0!==n&&(l[a]=n));return l},c.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var a=Math.max(e.length,t.length);e.length<a;)e.push("0");for(;t.length<a;)t.push("0");for(var o=0;o<a;o++){var n=parseInt(e[o]),i=parseInt(t[o]);if(n>i)return 1;if(n<i)return-1}return 0},Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){throw a}))}))},c.promisify=function(e,t){return function(a){for(var o=arguments.length,n=Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return new Promise((function(o,i){e.call.apply(e,[t,Object.assign({},a,{success:o,fail:i})].concat(n))}))}},c.hexToRgba=function(e,t){return"rgba("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+","+t+")"},c.getGradientColor=function(e,t){-1!==e.indexOf("#")&&(e=c.hexToRgba(e,1));var a=e.split(","),o=[];o.push(a[0].substr(5)),o.push(a[1].substr(0)),o.push(a[2].substr(0)),o.push(a[3].substr(0,a[3].length-1));for(var n=0;n<3;n++)o[n]=Math.floor((255-parseInt(o[n]))*t+parseInt(o[n]));return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},c.isLogin=function(){return!!i().globalData.openId},c.debounce=function(e,t){var a=void 0;return function(){for(var o=this,i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];a&&clearTimeout(a),a=n((function(){e.apply(o,s)}),t)}};var f=new d.default;c.setupGlobalEventEmitter=function(e){e.globalEventEmitter&&(e.globalEventEmitter=f)},c.getGlobalEventEmitter=function(){return f},c.getPageEventEmitter=function(e){return e.eventEmitter||(e.eventEmitter=new d.default),e.eventEmitter},c.getCurrentPageEventEmitter=function(){var e=getCurrentPages();return c.getPageEventEmitter(e[e.length-1])},c.memorize=function(e){var t={};return function(){for(var a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];var i=JSON.stringify(o);return t[i]||(t[i]=e.apply(e,o))}},c.promiseMemorize=function(e){var t={};return function(){for(var a=arguments.length,o=Array(a),n=0;n<a;n++)o[n]=arguments[n];var i=JSON.stringify(o);if(t[i])return Promise.resolve(t[i]);var s=e.apply(void 0,o);return t[i]=s,s.then((function(e){return t[i]=e,e}))}};var h=["j6Wjh3MqbcUtRocpGgLC8frPNihfC7X1","caYNOWtngh3c7IBZuahMvMaTRqrVXO1U"];c.getMapKey=function(){return h[0]};var m=["TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL","NVRBZ-TPNLP-I2VDB-VTPCD-7DM7S-QOBJ7","AGWBZ-M6YLD-TLZ44-P25FD-UADE5-7EB57"];c.getKey=function(e){var t=i().globalData.isOem;return e?m[2]:t?m[1]:m[0]},t.exports=c}(__hacked)})),window.define("utils/validator",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Object.defineProperty(a,"__esModule",{value:!0}),a.verifyPhoneNumber=function(e){return 11===e.length},a.verifyEmail=function(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},a.verifyIdentity=function(e){var t=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;return 18==e.length?function(e){for(var t=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),a=new Array("1","0","X","9","8","7","6","5","4","3","2"),o=e.split(""),n=0,i=0;i<17;i++)n+=parseInt(o[i])*parseInt(t[i]);if(o[17].toUpperCase()!=a[n%11].toUpperCase())return!1;return!0}(e)&&t.test(e):t.test(e)}}(__hacked)})),window.define("utils/wxpay",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var a={callbackObj:{}};!function(e){e.requestPayment=function(e){t(e)};var t=function(t){var o=a.callbackObj;o._complete=o.complete,o.complete=function(e){var t=e.errMsg;"request:ok"!=t&&"requestPayment:fail cancel"!=t&&"requestPayment:cancel"!=e.errMsg&&"requestPayment:ok"!=t&&console.log("get wxpay err!!errMsg="+t),o._complete&&o._complete(e)},Object.assign(t,e.callbackObj),n.requestPayment(t)}}(a),t.exports=a}(__hacked)})),window.define("pages/infoSysList/parameterPanel/parameterPanel",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{type:Number,globalColor:String,sortBy:Number,parameterList:{type:Array,value:[],observer:function(e,t){var a=[];e.forEach((function(e){a.push({id:e.id,name:e.name,type:e.type,content:e.content})})),this.setData({list:a})}},minPrice:{type:String||Array,observer:function(e,t){this.setData({tmpMinPrice:e})}},maxPrice:{type:String||Array,observer:function(e,t){this.setData({tmpMaxPrice:e})}}},data:{show:!1,list:[],tmpMinPrice:"",tmpMaxPrice:""},methods:{hideshow:function(){this.setData({show:!1})},clickSort:function(e){var t=e.currentTarget.dataset.index;this.hideshow(),this.triggerEvent("sortby",t)},showPanel:function(e){this.setData({show:!0}),this.resetData()},clickItem:function(e){var t=e.currentTarget.dataset.info,a=e.currentTarget.dataset.item,o=this.data.list;o.forEach((function(e){e.id==t.id&&e.content.forEach((function(e){e.id==a.id&&(e.checked=!e.checked)}))})),this.setData({list:o})},reset:function(){if(1==this.data.type){var e=this.data.list;e.forEach((function(e){e.content.forEach((function(e){e.checked=!1}))})),this.setData({list:e})}else this.setData({tmpMinPrice:"",tmpMaxPrice:""})},confirm:function(){var e=this.data.type;1==e&&this.triggerEvent("change",this.data.list),0==e&&this.triggerEvent("price",{minPrice:this.data.tmpMinPrice,maxPrice:this.data.tmpMaxPrice})},changeList:function(e){this.setData({list:e})},bindMinPirce:function(e){var t=e.detail.value;(t=Number(t).toFixed(2))>99999999&&(t=99999999),this.setData({tmpMinPrice:t})},bindMaxPrice:function(e){var t=e.detail.value;(t=Number(t).toFixed(2))>99999999&&(t=99999999),this.setData({tmpMaxPrice:t})},resetData:function(){this.setData({tmpMaxPrice:this.data.maxPrice,tmpMinPrice:this.data.minPrice})}}})}(__hacked)})),window.define("components/rate/rate",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({behaviors:["swan://form-field"],properties:{initValue:{type:String,value:"",observer:function(){this.init()}},color:{type:String,value:"",observer:function(){this.init()}},disabled:{type:Boolean,value:!1}},data:{rated:[]},methods:{handleTap:function(e){if(!this.data.disabled){var t=e.currentTarget.dataset.index,a=this.data.rated.filter((function(e){return e})).length==t+1?"0":""+(t+1);this.setData({rated:this.data.rated.map((function(e,t){return t<a})),value:a}),this.triggerEvent("change",""+(t+1))}},init:function(){var e=this.data.initValue||"",t=e?[!1,!1,!1,!1,!1].map((function(t,a){return a<=e-1})):[!1,!1,!1,!1,!1];this.setData({starStyle:this.data.color?"color: "+this.data.color+";":"",value:e,rated:t})}}})}(__hacked)})),window.define("components/pagination/pagination",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{initial:{type:Number,value:0},total:{type:Number,value:0}},data:{currentPage:0},attached:function(){this.setData({currentPage:this.data.initial})},methods:{pageLeftBtnClick:function(){this.data.currentPage<=1||(this.triggerEvent("change",this.data.currentPage-1),this.setData({currentPage:this.data.currentPage-1}))},pageRightBtnClick:function(){this.data.currentPage>=this.data.total||(this.triggerEvent("change",this.data.currentPage+1),this.setData({currentPage:this.data.currentPage+1}))}}})}(__hacked)})),window.define("components/entry/entry",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function;var t=e.setTimeout;e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{},data:{show:!1},methods:{init:function(){var e=i().globalData.isManage||!1;this.setData({show:e})},viewPC:function(e){var a=this;a.popup?a.popup.showPopup():t((function(){a.popup=a.selectComponent("#popupEntry"),a.popup.hidePopup()}),0)},closePopup:function(e){this.popup.hidePopup()},copySiteUrl:function(){var e=this;n.setClipboardData({data:"https://i.fkw.com/",success:function(t){n.getClipboardData({success:function(t){e.popup.hidePopup()}})}})}},ready:function(){this.init()}})}(__hacked)})),window.define("components/toast/toast",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function;var t=e.setTimeout;e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({options:{multipleSlots:!0},properties:{},data:{isShow:!1,title:"",content:"",icon:"success",duration:3e3,callback:null},methods:{hideToast:function(){this.setData({isShow:!this.data.isShow})},_catchTouch:function(){},showToast:function(e){this.setData({isShow:!this.data.isShow});var a=this;e&&this.setData(e),t((function(){a.hideToast(),e&&e.callback&&e.callback()}),a.data.duration)}}})}(__hacked)})),window.define("components/popup/popup",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{notTouch:{type:Boolean,value:!1}},data:{isShow:!1},methods:{hidePopup:function(){this.setData({isShow:!this.data.isShow})},_catchTouch:function(){},showPopup:function(e){this.setData({isShow:!this.data.isShow})}}})}(__hacked)})),window.define("components/templateBar/templateBar",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api"));Component({properties:{globalCl:{type:String,value:!1,observer:function(e,t){}},showActionSheet:{type:Boolean,value:!1,observer:function(e,t){this.setData({showActionSheet:e})}}},data:{isShow:!1,hasCopy:!1,popupType:0,popupText:"文章系统",colName:"-",sidePhoneOpen:!1,phone:"",showAdvanceSetting:!1,advanceList:[{name:"文章系统",key:"article",checked:!1,srcId:2,canUse:!0},{name:"服务系统",key:"service",checked:!1,srcId:3,canUse:!0},{name:"表单系统",key:"form",checked:!1,srcId:4,canUse:!0},{name:"在线视频",key:"video",checked:!1,srcId:5,canUse:!0},{name:"数据统计",key:"log",checked:!1,srcId:6,canUse:!0},{name:"自由设计",key:"design",checked:!1,srcId:7,canUse:!0},{name:"微信支付 ",key:"wxpay",checked:!1,srcId:8,canUse:!1},{name:"文章评论",key:"newsComment",checked:!1,srcId:9,canUse:!1},{name:"微信客服",key:"wxCusservice",checked:!1,srcId:10,canUse:!1}],showActionSheet:!1,globalColor:{idx:0,cls:["#DE443A","#3A82F8","#333333","#56BB37","#ED5D29","#EB3477","#F5B43E","#57BEAD"]},fkUserInfo:null},methods:{init:function(){var e=i().globalData,t=e.isManage||!1,a=e.hasCopy||!1;this.setData({isShow:t,hasCopy:a})},goBack:function(){o.logDog(7000237,24),n.navigateTo({url:"/pages/templateCenter/templateCenter?isManage=true"})},toggleCoverViewComponent:function(e){var t=getCurrentPages()[getCurrentPages().length-1];t.selectComponent("#tabBar")&&t.selectComponent("#tabBar").hideHandler(e),t.selectComponent("#sideBar")&&t.selectComponent("#sideBar").hideHandler(e)},toggleActionSheet:function(e){var t=this;o.logDog(7000237,0),this.triggerEvent("hidecompon",!0);var s=this,r=1*e.currentTarget.dataset.type;if(Boolean(r)){if(i().globalData.isWebApp)return void this.toast.showToast({title:"网页版小程序不支持编辑修改",icon:"warning"});var l=n.getStorageSync("_ADVANCELIST");l&&this.setData({advanceList:l});var d=i().globalData.fkUserInfo||{},c=(i().globalData,n.getStorageSync("_FSESSIONID")),u={wxappAid:d.wxappAid,wxappId:d.wxappId,sessionid:c};o.getWXAppEditInfo(u).then((function(e){if(e.success){var a=e.editInfo;s.setData({colName:a.colName,globalColor:a.globalColor,phone:a.phone,sidePhoneOpen:a.sidePhoneOpen,showActionSheet:!0,showAnimation:Boolean(r)}),s.toggleCoverViewComponent(!0)}else t.toast.showToast({title:e.msg,icon:"warning"})}))}else s.triggerEvent("hidecompon",!1),s.toggleCoverViewComponent(!1),s.setData({showAnimation:Boolean(r)}),a((function(){s.setData({showActionSheet:!1,showAdvanceSetting:!1})}),600)},changeTemplate:function(){o.logDog(7000237,11),(i().globalData.fkUserInfo||{}).isNewAdd?(n.removeStorage({key:"_ADVANCELIST"}),n.navigateTo({url:"/pages/templateCenter/templateCenter"})):(this.setData({popupType:4}),this.showPopupHandler())},showPopup:function(e){var t=this,a=e.currentTarget.dataset.type;if(this.setData({popupType:a}),1!=a)3==a&&o.logDog(7000237,13),this.showPopupHandler();else{o.logDog(7000237,12);var s=n.getStorageSync("_FSESSIONID")||"",r=i().globalData.fkUserInfo||{};if(s&&r.wxappAid){var l=i().globalData||{},d={fromWXAppAid:1*l.extConfigData.wxappAid,fromWXAppId:1*l.extConfigData.wxappId,targetWXAppAId:r.wxappAid,targetWXAppId:r.wxappId,sessionid:s};this.showPopupHandler(),o.cloneWXApp(d).then((function(e){e.success?(l.tmpid&&o.logDog(7000117,l.tmpid),n.reLaunch({url:"/pages/index/index?scene="+r.wxappAid+"_"+r.wxappId+"&isManage=true&hasCopy=1"})):(t.closePopup(),n.showModal({title:e.msg}))}))}else n.navigateTo({url:"/pages/opt/login/login"})}},showPopupHandler:function(){this.triggerEvent("hidecompon",!0),this.popup.showPopup()},closePopup:function(){this.popup.hidePopup(),this.triggerEvent("hidecompon",!1)},closePopupHandler:function(e){this.popup.hidePopup()},copySiteUrl:function(e){o.logDog(7000237,14);var t=this;n.setClipboardData({data:"https://i.fkw.com/",success:function(e){n.getClipboardData({success:function(e){t.closePopup()}})}})},blurHandler:function(e){var t=this,n=e.detail.value||"",i=1*e.currentTarget.dataset.type;if(i||""!=n){if((i||this.data.colName!=n)&&(!i||this.data.phone!=n)){var s=this.data.timer;clearTimeout(s),s=a((function(){var e={};i?(e.phone=n,o.logDog(7000237,16)):(e.colName=n,o.logDog(7000237,23)),t.setWXAppInfo(e).then((function(e){var a=i?"phone":"colName",o={};o[a]=n,t.setData(o),t.triggerEvent("syncdata",{type:a,value:n})}))}),300),this.data.timer=s}}else t.toast.showToast({icon:"warning",title:"企业名称不能为空"})},toggleMenu:function(){this.setData({showAdvanceSetting:!this.data.showAdvanceSetting})},sidePhoneHandler:function(e){var t=this,n=e.detail.checked,i=this.data.timer;clearTimeout(i),i=a((function(){var e={sidePhoneOpen:n};n&&o.logDog(7000237,1),t.setWXAppInfo(e).then((function(e){t.triggerEvent("syncdata",{type:"sidePhoneOpen",value:n})}))}),300),this.data.timer=i},switchChange:function(e){var t=e.detail.checked,a=e.currentTarget.dataset.item,i=e.currentTarget.dataset.idx;if(t){a.canUse?this.setData({popupType:2,popupText:a.name+"已经开启"}):(this.setData({popupType:2,popupText:a.name+"需要到电脑端开启并设置"}),t=!1),this.popup.showPopup();var s=a.srcId;o.logDog(7000237,s)}var r={};r["advanceList["+i+"].checked"]=t,this.setData(r),n.setStorage({key:"_ADVANCELIST",data:this.data.advanceList})},chooseColor:function(e){var t=this,o=e.currentTarget.dataset.index;this.setData({"globalColor.idx":o});var n=this.data.timer,s=i().globalColor=t.data.globalColor.cls[o];clearTimeout(n),n=a((function(){var e={gColorIndex:o};t.setWXAppInfo(e).then((function(e){t.triggerEvent("syncdata",{type:"globalColor",value:s})}))}),300),this.data.timer=n},setWXAppInfo:function(e){var t=this,a=i().globalData.fkUserInfo||{},s=n.getStorageSync("_FSESSIONID"),r={wxappAid:a.wxappAid,wxappId:a.wxappId,sessionid:s};return Object.assign(r,e),new Promise((function(e,a){o.setWXAppInfo(r).then((function(a){a.success?(e(a),t.toast.showToast({title:a.msg,icon:"success"}),t.setData({showActionSheet:!1}),t.toggleCoverViewComponent(!1)):t.toast.showToast({title:a.msg,icon:"warning"})}))}))},catchTouch:function(){}},ready:function(){this.init(),this.popup=this.selectComponent("#popup"),this.toast=this.selectComponent("#toast")},show:function(){this.init()}})}(__hacked)})),window.define("components/techSupport/techSupport",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api");Component({properties:{text:{type:String,value:"由凡科轻站提供技术支持"},wxappInfo:{type:Object,value:{},observer:function(e,t){void 0!==e.flag&&this.init()}}},data:{},methods:{init:function(){var e=this.data.wxappInfo;e.flag&&!e.flag.cancelSupport&&a.logVisitDog(7000165,1)},showAdvertising:function(e){a.logDog(7000137,0),a.logVisitDog(7000165,4),i().globalData.isVerFree?a.logDog(7000047,1):a.logDog(7000047,4),n.navigateTo({url:"/pages/advertising/advertising?ori=0"})}}})}(__hacked)})),window.define("components/sideBar/sideBar",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api");Component({properties:{packUp:{type:Boolean,value:!1,observer:function(e,t){e!=t&&this.packUpHandler(e)}},wxappInfo:{type:Object,value:{},observer:function(e,t){void 0!==e.flag&&(this.init(),this.initAfterLoadModule())}},isModulePage:Boolean,hasLoadModules:{type:Boolean,value:!1,observer:function(e){this.initAfterLoadModule()}},showPhone:{type:Boolean,value:!1,observer:function(e,t){i().globalData.wxappInfo.flag.cusServiceOpen=e,this.setData({canShowPhone:e})}},showShare:{type:Boolean,value:!0,observer:function(e,t){}},pagePhone:{type:Boolean,value:!0}},data:{globalColor:"",animationData:{},ishasLoadOrNotNeed:!1,canShowPhone:!1,canShowHomeBtn:!1,isShow:!1,isShowNewcomer:!1},methods:{init:function(){var e=i().globalData,t=this.data.wxappInfo.tabBar,o=getCurrentPages(),n=o[o.length-1].route;0!=n.indexOf("/")&&(n="/"+n);var s=t.list.some((function(e){return e.pagePath==n}));e.globalColor&&this.setData({globalColor:e.globalColor}),this.initData(),this.setData({canShowHomeBtn:!s,isShow:!0,canShowPhone:this.data.wxappInfo.flag.cusServiceOpen});var r=this.data.wxappInfo;r.flag&&!r.flag.cancelServiceSupport&&a.logVisitDog(7000165,0)},initData:function(){this.isChanging=!1,this.animation=null},initAfterLoadModule:function(){var e=this.data.ishasLoadOrNotNeed;e=!this.data.isModulePage||this.data.hasLoadModules,this.setData({ishasLoadOrNotNeed:e})},onShare:function(){n.openShare()},makePhoneCall:function(){a.reportVisitorBehavior({type:23});var e=this.data.wxappInfo.cusService.phone;n.makePhoneCall({phoneNumber:e})},backToHome:function(){n.switchTab({url:"/pages/index/index"}),n.navigateTo({url:"/pages/index/index"})},showServiceAdvertising:function(e){a.logDog(7000137,3),a.logVisitDog(7000165,3),i().globalData.isVerFree?a.logDog(7000047,1):a.logDog(7000047,4),n.navigateTo({url:"../../pages/advertising/advertising?ori=1"})},packUpHandler:function(e,t){this.isChanging||(this.isChanging=!0,this.setData({isShow:!e}),this.isChanging=!1)},showNewcomerIcon:function(){this.setData({isShowNewcomer:!0})},showNewcomerPopup:function(e){this.setData({isShowNewcomer:!1}),getCurrentPages()[getCurrentPages().length-1].newcomerPopup.show(),e&&a.logDog(7000203,3)},hideNewcomerIcon:function(){this.setData({isShowNewcomer:!1})},hideHandler:function(e){this.setData({isShow:!e})}}})}(__hacked)})),window.define("components/videoCard/videoCard",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../libs/wxParse/wxParse.js"),e("../../utils/api").logDog;Component({properties:{video:{type:Object,observer:function(e){this.init()}},pattern:Object,isOem:Boolean,isPage:Boolean},data:{isNativeVideo:!0,poster:"",videoUrl:"",txVid:"",descParse:{},hasPlay:!1,defaultPoster:"http://qz.faisys.com/image/wxImage/wxMaterial/default_poster.jpg"},methods:{init:function(){var e=this.data.video;this.data.isOem||1!==e.type||0!==e.vid.length||(e.vid="x30081o1h6y");var t={poster:e.postFilePath?e.postFilePath:this.data.defaultPoster,videoUrl:e.filePath?e.filePath:"",txVid:e.vid?e.vid:"",video:e};1===e.type&&(t.isNativeVideo=!1),this.setData(t)},playHandler:function(e){this.triggerEvent("play",{id:this.data.video.id}),this.data.isPage&&n.setNavigationBarTitle({title:"正在播放"})},pauseHandler:function(e){this.triggerEvent("pause",{id:this.data.video.id}),this.data.isPage&&n.setNavigationBarTitle({title:"暂停播放"})},endedHandler:function(e){this.triggerEvent("ended",{id:this.data.video.id}),this.data.isPage&&n.setNavigationBarTitle({title:"停止播放"})},fullScreenChange:function(e){this.triggerEvent("fullScreen",e.detail)},startPlay:function(){var e=this;if(!this.data.video.offSale){var t=this.videoContext,a="video_"+this.data.video.id;this.data.isPage&&(a="video"),this.setData({hasPlay:!0},(function(){t?t.play():(t=e.videoContext=n.createVideoContext(a,e)).play()}))}},pausePlay:function(){this.videoContext.pause()},goDetail:function(){var e=this.data.video.id;n.navigateTo({url:"/pages/videoDetail/videoDetail?id="+e})}}})}(__hacked)})),window.define("components/tabBar/tabBar",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(),o=e("../../utils/api");Component({properties:{wxappInfo:{type:Object,value:{},observer:function(e){void 0!==this.data.wxappInfo.flag&&(this.init(),this.initAfterLoadModule(),this.initNavList())}},isModulePage:Boolean,hasLoadModules:{type:Boolean,value:!1,observer:function(e){this.initAfterLoadModule()}}},data:{tabList:[],tabLeftList:[],tabRightList:[],isShow:!1,ishasLoadOrNotNeed:!1,tabInfo:[],pattern:0,contentType:0,mainBtn:{},mainBtnIndex:-1,globalColor:"",isHide:!1},methods:{init:function(){var e=i().globalData,t=this.data.wxappInfo,a=!1,o=t.flag.tabBarOpen;e.extConfigData.isModel;if(o){var n=t.tabBar.list,s=getCurrentPages(),r=s[s.length-1].route;0!=r.indexOf("/")&&(r="/"+r),n.forEach((function(t){t.selected=!1,t.pagePath==r&&(t.selected=!0,a||(a=!0,e.isCusTabBarShow=!0)),-1===(t.selected?t.selectedIconPath:t.iconPath).indexOf("tabBar")?t.iconClass="not_default":t.iconClass=""}));var l=Math.ceil((n.length+1)/2)-1,d=t.tabBar,c=e.isManage||!1;this.setData({tabList:n,tabInfo:d,isShow:a,isManage:c,isIphoneX:e.isIphoneX,pattern:d.pattern,contentType:d.contentType,mainBtn:n[l],mainBtnIndex:l,globalColor:e.globalColor})}else this.setData({isShow:!1})},initNavList:function(){var e=this.data.tabList,t=e.length;this.setData({tabLeftList:e.slice(0,this.data.mainBtnIndex),tabRightList:e.slice(this.data.mainBtnIndex+1,t)})},initAfterLoadModule:function(){var e=this.data.ishasLoadOrNotNeed;e=!this.data.isModulePage||this.data.hasLoadModules,this.setData({ishasLoadOrNotNeed:e})},clickOutSide:function(e){},redirectClick:function(e){var t=e.currentTarget.dataset.url,i=e.currentTarget.dataset.info,s=getCurrentPages();if(t!="/"+s[s.length-1].route)if(t)this.navigateToFun(t);else{var r=i.t;if(!a.globalData.wxappInfo.jumpAuth[r-1])return;if(1==r){var l=i.url;this.navigateToFun(l)}else if(2==r){var d=i.pho;o.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:d})}else if(3==r){var c=i.addr;a.globalData.wxAppRequest.getLocationFromBaidu(c)}else if(4==r){var u=i.bookDetailUrl;this.navigateToFun(u)}else if(5==r)n.openShare();else if(6==r){var p=i.newsDetailUrl;this.navigateToFun(p)}else if(11==r){var g=i.cardUrl;this.navigateToFun(g)}else if(12==r||14==r){var f=i.pageUrl;this.navigateToFun(f)}else{if(13==r)return;if(8==r||9==r||10==r||19==r)n.navigateToSmartProgram({appKey:i.bdAppKey,path:i.bdPath,success:function(e){},fail:function(e){console.log(e)}});else if(15==r){var h=i.bookGroupUrl;this.navigateToFun(h)}else if(16==r){var m=i.newsGroupUrl;this.navigateToFun(m)}else if(17==r){var b=i.infoSysDetailUrl;this.navigateToFun(b)}else if(18==r){if(a.globalData.wxappInfo.personalApp)return;var v=i.pageUrl;this.navigateToFun(v)}else{var w=i.jumpUrl;w&&this.navigateToFun(w)}}}},navigateToFun:function(e){10==getCurrentPages().length&&n.reLaunch({url:e}),n.navigateTo({url:e})},hideHandler:function(e){this.setData({isHide:e})}}})}(__hacked)})),window.define("components/loading/loading",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{bgColor:String,type:{type:String,value:"module",observer:function(e){if("page"==e){var t=n.getSystemInfoSync();this.setData({height:t.windowHeight+"px"})}}}},data:{height:""},methods:{}})}(__hacked)})),window.define("components/detailFooter/detailFooter",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api");Component({options:{multipleSlots:!0},properties:{data:{type:Object,value:{},observer:function(){var e=this.data,t=e.data;if(t&&0!=Object.keys(t).length){var a=Object.keys(t),o={};a.forEach((function(a){e[a]&&(o[a]=Object.assign({},e[a],t[a]))})),Object.keys(o).some((function(e){return"button"!=o[e].type&&o[e].show}))&&(o.hasNavItem=!0),o.isEmpty=!1,this.setData(o)}else this.setData({isEmpty:!0})}},globalcolor:{type:String,value:"",observer:function(e,t){e&&e!=t&&this.setData({globalColor:e})}}},data:{globalColor:"",isEmpty:!1,hasNavItem:!1,home:{type:"home",show:!1,text:"首页",order:0,logDog:{id:0,srcId:0}},share:{type:"share",show:!1,text:"分享",order:0,logDog:{id:0,srcId:0}},phone:{type:"phone",show:!1,text:"电话",val:"",order:0,logDog:{id:0,srcId:0}},wechat:{type:"wechat",show:!1,text:"微信",order:0,logDog:{id:0,srcId:0}},address:{type:"address",show:!1,text:"地址",val:"",order:0,logDog:{id:0,srcId:0}},button:{type:"button",show:!1,custom:!1,text:"按钮",logDog:{id:0,srcId:0}}},methods:{gotoHome:function(){var e=this.data.home.logDog;e&&this.logDogHandler(e),this.triggerEvent("homeclick",{});var t={url:"/pages/index/index"};n.switchTab(t),n.navigateTo(t)},makePhoneCall:function(){var e=this.data.phone,t=e.logDog;t&&this.logDogHandler(t),e.val&&(this.triggerEvent("phoneclick",{}),n.makePhoneCall({phoneNumber:e.val+""}),a.reportVisitorBehavior({type:23}))},viewAddress:function(){var e=this.data.address,t=e.logDog;t&&this.logDogHandler(t),e.val&&(this.triggerEvent("addressclick",{}),a.getLocationFromBaidu(e.val))},contactHandler:function(){var e=this.data.wechat.logDog;e&&this.logDogHandler(e),a.reportVisitorBehavior({type:21}),this.triggerEvent("wechatclick",{})},shareHandler:function(){var e=this.data.share.logDog;e&&this.logDogHandler(e),this.triggerEvent("shareclick",{})},btnClick:function(){var e=this.data.button.logDog;e&&this.logDogHandler(e),this.triggerEvent("btnclick",{})},logDogHandler:function(e){var t=Object.prototype.toString,o=[];"[object Object]"==t.call(e)?o.push(e):"[object Array]"==t.call(e)&&(o=e),o.forEach((function(e){a.logDog(e.id,e.srcId)}))}},ready:function(){var e=i().globalData;e.globalColor&&this.setData({globalColor:e.globalColor}),e.isManage&&this.setData({isManage:e.isManage}),this.setData({isIphoneX:e.isIphoneX})}})}(__hacked)})),window.define("components/dialog/dialog",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a,o=e("../../utils/util"),n=(a=o)&&a.__esModule?a:{default:a},i=e("../../utils/eventConstants");Component({properties:{globalColor:String},data:{isShow:!1,title:"标题",content:"",cancelButton:"取 消",showCancelButton:!1,confirmButton:"确 定",callback:null},attached:function(){n.default.getCurrentPageEventEmitter().on(i.SHOW_DIALOG,this.show.bind(this))},detached:function(){n.default.getCurrentPageEventEmitter().removeListener(i.SHOW_DIALOG,this.show.bind(this))},methods:{hide:function(){this.setData({isShow:!this.data.isShow})},_catchTouch:function(){},show:function(e){this.setData({isShow:!this.data.isShow,callback:null});e&&this.setData(e)},comfirm:function(){this.hide(),this.data.callback&&this.data.callback()},changeColor:function(e){this.setData({globalColor:e})}}})}(__hacked)})),window.define("pages/myCoupon/couponItem/couponItem",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../utils/api");Component({properties:{coupon:{type:Object,value:{}},globalcolor:{type:String,value:"",observer:function(e,t){e&&e!=t&&this.setData({globalColor:e})}}},data:{grayColor:"linear-gradient(-43deg,rgba(102,102,102,1) 0%,rgba(165,169,175,1) 100%)"},methods:{showRule:function(e){var t=e.currentTarget.dataset.coupon;getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"规则说明",content:t.rule,confirmButton:"确 认",callback:function(){}})},clickBtn:function(e){var t=e.currentTarget.dataset.coupon;e.currentTarget.dataset.index;a.getCouponEntriesData(t.couponId).then((function(e){if(e.success){var a={allService:e.allService,groupIdList:e.groupIdList,idList:e.idList,jumpto:e.jumpto,couponId:t.couponId};0==e.jumpto?n.navigateTo({url:"../bookDetail/bookDetail?bookId="+e.idList[0]}):n.navigateTo({url:"../book/book?couponParams="+JSON.stringify(a)})}}))}}})}(__hacked)})),window.define("components/modules/messageCompon/messageCompon",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api")),s=e("../../../utils/util");Component({properties:{isPage:{type:Boolean,value:!1},globalColor:{type:String,observer:function(e,t){this.initGlobalColorStyle(e)}},messagePropList:{type:Object,observer:function(e,t){t&&this.setData({messagePropList:e})}}},data:{messagePropList:[],globalColorStyle:"",picList:[],submitData:{}},methods:{initGlobalColorStyle:function(e){var t="";t+="border-color:"+e+";",t+="color:"+e+";",t+="background-color:"+s.getGradientColor(e,.8)+";",this.setData({globalColorStyle:t})},radioChange:function(e){for(var t=e.detail.value,a=(e.currentTarget.dataset,0),o=this.data.messagePropList||[],n=[],i=0;i<o.length;i++)if(2==o[i].type){a=i,n=o[i].gl||[];for(var s=0;s<n.length;s++)n[s].id==t?n[s].selected=!0:n[s].selected=!1;break}var r={};r["messagePropList["+a+"].gl"]=n,this.setData(r)},messageFileUpload:function(e){var t=this;n.chooseImage({count:1,sizeType:["compressed"],success:function(e){var a=e.tempFilePaths,i=a[0].lastIndexOf("."),s=a[0].substring(i+1),r={fileSize:e.tempFiles[0].size,fileType:s,filePath:a[0]};o.messageFileUpload(r).then((function(e){if(e.success){n.showToast({title:"上传成功"});var a=t.data.picList||[];a.push({tmpFileId:e.id,fileName:e.name,fileId:e.fileId,filePath:e.path}),t.setData({picList:a})}else n.showModal({title:"上传失败",showCancel:!1,content:e.msg})}))},fail:function(e){console.error(e)}})},delUploadPic:function(e){for(var t=e.currentTarget.dataset.info||{},a=this.data.picList||[],o=0;o<a.length;o++)if(a[o].tmpFileId==t.tmpFileId){a.splice(o,1);break}this.setData({picList:a})},previewModuleImage:function(e){if(e.currentTarget.dataset.sbp){var t=e.currentTarget.dataset.img;n.previewImage({current:t,urls:[t]})}},submitFormHandler:function(e){this.data.module;var t=e.detail.value||{};this.setData({submitData:t}),i().globalData.userInfo&&this.postForm()},formUserInfoHandler:function(e){if(!i().globalData.userInfo){var t=this,a=e.detail.errMsg,r=s.promisify;if("getUserInfo:ok"==a){if(!e.detail.iv)return void n.showModal({title:"警告",content:"您点击了拒绝授权，将无法提交留言。",showCancel:!1,confirmText:"确定"});var l=e.detail.userInfo;r(n.login)().then((function(e){if(e.code){var t=e.code;return o.getOrAddUserInfo(t,l)}})).then((function(e){t.postForm()})).catch((function(e){console.log("commit form -- login err -- "+e.errMsg)}))}}},postForm:function(){for(var e=this,t=this.data.submitData||{},i=(this.data.picList,this.data.messagePropList),s=void 0,r=void 0,l=new RegExp(/[0-9]|\-/),d=0;d<i.length;d++){if(r=(s=i[d]).key,s.must&&(!t[r]||0==t[r].length))return void n.showModal({title:"",showCancel:!1,content:s.name+"不能为空"});if(4==s.type&&!s.hide&&0!=t[r].length&&!l.test(t[r]))return void n.showModal({title:"",showCancel:!1,content:"手机号错误！",success:function(e){}})}for(var c=this.data.picList||[],u=[],p=0;p<c.length;p++)u.push(c[p].fileId);var g=[1*t.groupIdList];t.groupIdList=g;var f={formData:t,fileIdList:u,fileData:c};o.addMessage(f).then((function(t){if(t.success){n.showToast({title:t.msg,icon:"success",duration:3e3}),e.data.isPage||a((function(){var e="/pages/messageBoard/messageBoard";n.switchTab({url:e}),n.navigateTo({url:e})}),3e3),t.data&&e.data.isPage&&e.triggerEvent("addMessage",t.data);for(var o={},s=0;s<i.length;s++)if(o["messagePropList["+s+"].val"]="",2==i[s].type)for(var r=i[s].gl||[],l=0;l<r.length;l++)o["messagePropList["+s+"].gl["+l+"].selected"]=!1;o["picList"]=[],e.setData(o)}else n.showModal({title:"提交失败",showCancel:!1,content:t.msg})})).catch((function(e){console.log("addMessage final err -- "+e)}))}},ready:function(){var e=(i().globalData.wxappInfo||{}).messagePropList||[];this.setData({messagePropList:e})}})}(__hacked)})),window.define("components/modules/officialAccount/officialAccount",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{},data:{},methods:{}})}(__hacked)})),window.define("components/modules/cardList/cardList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../utils/api");Component({properties:{module:{type:Object,observer:function(){this.init()}},globalColor:String,inModule:Boolean},data:{cardList:[]},methods:{init:function(){var e=this.data.module;e.pattern&&this.setData({cardList:e.content.selectedList})},gotoDetail:function(e){var t=e.currentTarget.dataset.cid;n.navigateTo({url:"../card/card?id="+t})},callPhone:function(e){var t=e.target.dataset.phone;a.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:t})}}})}(__hacked)})),window.define("components/modules/infoSys/infoSys",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api");Component({properties:{module:{type:Object,observer:function(){var e=this;this.setData({"module.pattern.sm":!1}),this.setData({isLoading:!0},(function(){e.initStyle(),e.initData()}))}},inModule:Boolean},data:{imgHeightStyle:"",nameStyle:"",imgMode:"",infoName:"",infoList:[],hasDel:!1},methods:{initData:function(){var e=this.data.module,t=(e.pattern,e.content.title);t=t.substring(0,t.length-2),this.setData({infoList:e.content.selectedList,hasDel:e.content.infoSysDel,infoName:t,isLoading:e.isLoading})},initStyle:function(){var e=this.data.module,t=e.pattern;t&&this.setData({imgHeightStyle:1===t.imgh.t?"height: "+t.imgh.n+"px;":"",nameStyle:2===t.de.t?"color: "+t.de.c:"",numStyle:2===t.ic.t?"color: "+t.ic.c:"",imgMode:2==t.is?"aspectFit":1==e.pattern.is?"aspectFill":""})},gotoDetail:function(e){var t=this.data.module.content.sysId,a=e.currentTarget.dataset.lid;a&&n.navigateTo({url:"/pages/infoSysDetail/infoSysDetail?sysId="+t+"&id="+a})},turntoAddress:function(e){var t=e.currentTarget.dataset.info;t.ds.showAddress&&n.openLocation({latitude:t.ds.lat,longitude:t.ds.lng,name:t.ds.prov+t.ds.addr})}}})}(__hacked)})),window.define("components/modules/baseModule/baseModule",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({options:{multipleSlots:!0},properties:{hType:{type:Number,value:0},moreText:{type:String,value:""},moreUrl:{type:[Object,String],value:{}||""},module:{type:Object,observer:function(e,t){this.init()}},inModule:Boolean,reversalHead:{type:Boolean,value:!1,observer:function(e,t){}},moduleClass:{type:String,value:""},isLoading:{type:Boolean,value:!1}},data:{moreTextCnt:""},methods:{moreHandler:function(){var e=this.data.moreUrl;if(e&&0!==Object.keys(e).length){var t,a=Object.prototype.toString,o=void 0,s=void 0,r="";if("[object String]"==a.call(e))o=s=e;else if("[object Object]"==a.call(e)){if(!e.dir||!e.file)return;o=e.dir,s=e.file,r=e.query}t="/pages/"+o+"/"+s+r;var l=i().globalData.tabbar;l&&l.list&&l.list.find((function(e){return e.pagePath===t}))?n.switchTab({url:t}):n.navigateTo({url:t})}},init:function(){i().globalData.wxappInfo;var e=this.data.module.skinStyle||{};this.setData({skinStyle:e});var t=this.data.moreText;t&&this.setData({moreTextCnt:t})}}})}(__hacked)})),window.define("components/modules/video/video",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("../../../libs/wxParse/wxParse.js"),n=e("../../../utils/api").logDog;Component({properties:{module:{type:Object,observer:function(){this.init()}},isOem:Boolean,inModule:Boolean},data:{isNativeVideo:!0,isShowDesc:!1,poster:"",videoUrl:"",txVid:"",descParse:{},isLoading:!0},methods:{init:function(){i().globalData.wxappInfo;var e=this.data.module,t=e.content,n=t.desc,s=1!=e.pattern.de.t&&n&&""!=n&&"object"!=(void 0===n?"undefined":a(n));s&&(o.wxParse("descc","html",n,this,5),t.desc=this.data.descc);var r=!0;(0!==t.type||t.filePath)&&(1!==t.type||t.vid)||(r=!1);var l={poster:t.postFilePath?t.postFilePath:"",videoUrl:t.filePath?t.filePath:"",txVid:t.vid?t.vid:"",descParse:t.desc?t.desc:{},isShowDesc:s,emptyVideo:r,isLoading:!1};0!=t.type&&(l.isNativeVideo=!1),this.setData(l)},playHandler:function(e){n(7000100,0),this.triggerEvent("play",{})},pauseHandler:function(e){this.triggerEvent("pause",{})},endedHandler:function(e){this.triggerEvent("ended",{})},fullScreenChange:function(e){this.triggerEvent("fullScreen",e.detail)}}})}(__hacked)})),window.define("components/modules/fileDownload/fileItem/fileItem",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({externalClasses:["wrapper-class"],properties:{file:{type:Object,observer:function(e){e&&this.init()}},globalColor:String},data:{fileIconUrl:"",fileType:"",fileSize:""},methods:{init:function(){this.initFileType(),this.initFileIcon(),this.initFileSize()},initFileIcon:function(){var e=this.data.fileType,t="";["pdf"].some((function(t){return t==e}))?t="http://qz.faisys.com/image/wxImage/pdf_icon.png":["doc","docx"].some((function(t){return t==e}))?t="http://qz.faisys.com/image/wxImage/doc_icon.png":["ppt","pptx"].some((function(t){return t==e}))?t="http://qz.faisys.com/image/wxImage/ppt_icon.png":["xls","xlsx"].some((function(t){return t==e}))&&(t="http://qz.faisys.com/image/wxImage/xls_icon.png"),this.setData({fileIconUrl:t})},initFileType:function(){var e=this.data.file.path,t=e.lastIndexOf(".");if(-1===t)return"";this.setData({fileType:e.substring(t+1)})},initFileSize:function(){var e=this.data.file.size||0,t="";t=Math.floor(e/1e3)<1e3?(e/1e3).toFixed(1)+"KB":(e/1e3/1e3).toFixed(1)+"MB",this.setData({fileSize:t})},gotoViewDoc:function(){var e=this.data.fileType,t=this.data.file.path;n.showLoading({title:"加载中..."}),n.downloadFile({url:t,success:function(t){200===t.statusCode?n.openDocument({filePath:t.tempFilePath,fileType:e,success:function(){n.hideLoading()},fail:function(e){console.log(e),n.hideLoading(),n.showModal({title:"打开失败",content:"该文件类型不支持预览",showCancel:!1,confirmText:"确定"})}}):n.showToast({title:"网络异常，请稍候再试",icon:"none",duration:1500,mask:!0})}}),this.triggerEvent("viewdoc")},downloadFile:function(){n.setClipboardData({data:this.data.file.path,success:function(){n.showToast({title:"链接已复制，请粘贴至浏览器打开下载",icon:"none",duration:2e3,mask:!0})}}),this.triggerEvent("download")}}})}(__hacked)})),window.define("components/multiplePicker/multiplePicker",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{value:{type:Object,value:{}},isOpen:{type:Boolean,value:!1},color:{type:String,value:""}},data:{selectedItems:[]},methods:{tabClick:function(e){var t=e.target.dataset.pageIndex;this.triggerEvent("tab-change",t)},selectItemClick:function(e){var t=this,a=e.target.dataset,o=a.pageIndex,n=a.itemIndex,i=this.data.value.pageData[o];if(!i.disabled){var s,r,l,d=i.data[n];this.triggerEvent("select",{item:d,itemIndex:n,page:i,pageIndex:o}),this.setData((l=d,(r="selectedItems["+o+"]")in(s={})?Object.defineProperty(s,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[r]=l,s),(function(){o==t.data.value.pageData.length-1&&t.close()}))}},getItemSequence:function(){var e=this.data.value.pageData.reduce((function(e,t){return-1!=t.active&&e.push(t.data[t.active]),e}),[]);return this.data.selectedItems.forEach((function(t,a){e[a]||(e[a]=t)})),e},close:function(){this.triggerEvent("item-sequence-change",this.getItemSequence()),this.triggerEvent("close")},_catchTouch:function(){},_catchTap:function(){}}})}(__hacked)})),window.define("components/areaPicker/areaPicker",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(e("../../utils/api")),o=i(e("../../utils/util")),n=e("../../utils/eventConstants");function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Component({properties:{globalColor:{type:String,value:""}},data:{isOpen:!1,selectModel:{curTab:0,pageData:[{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"省"},data:[]},{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"市"},data:[]},{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"区/县"},data:[]}]}},attached:function(){var e=this,t=getCurrentPages(),a=t[t.length-1];o.default.getCurrentPageEventEmitter().on(n.OPEN_AREAPICKER,(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a.hideTabBarAndSideBar(),o.default.getCurrentPageEventEmitter().emit(n.SHOW_SHADOWVIEW),e.setData({selectModel:{curTab:0,pageData:[{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"省"},data:[]},{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"市"},data:[]},{active:-1,notShow:!1,disabled:!1,title:{value:"",default:"区/县"},data:[]}]},color:r});for(var l=i,d=[e.getProvince,e.getCities,e.getCounty],c=[],u=0,p=[],g=function(t){if(!d[t])return"break";var a=d[t].bind(e)(l[t-1]&&l[t-1].id||null).then((function(){if(l[t].id){var a=e.data.selectModel.pageData[t];a.data.some((function(a,o){var n;return a.id==l[t].id&&(c[t]=a,e.setData((s(n={},"selectModel.pageData["+t+"].active",o),s(n,"selectModel.pageData["+t+"].title.value",a.name),s(n,"selectModel.pageData["+t+"].disabled",!0),s(n,"selectModel.pageData["+t+"].notShow",l[t].notShow||!1),n)),!0)})),(a.notShow||a.disabled)&&u++}}));return p.push(a),l[t].id?void 0:"break"},f=0;f<3;f++){var h=g(f);if("break"===h)break}Promise.all(p).then((function(){e.setData({"selectModel.curTab":Math.min(u,e.data.selectModel.pageData.length-1)}),c.length&&e.triggerEvent("item-sequence-change",c)})),e.setData({isOpen:!0})}))},methods:{tabChange:function(e){var t=e.detail;this.setData({"selectModel.curTab":t})},itemSequenceChange:function(e){this.triggerEvent("item-sequence-change",e)},valueChange:function(e){var t=e.detail,a=getCurrentPages(),i=a[a.length-1];o.default.getCurrentPageEventEmitter().emit(n.AREAPICKER_CHANGE,t),i.showTabBarAndSideBar(),o.default.getCurrentPageEventEmitter().emit(n.HIDE_SHADOWVIEW)},itemSelect:function(e){var t,a=this,o=e.detail,n=o.item,i=o.itemIndex,r=(o.page,o.pageIndex),l=n.name;this.setData((s(t={},"selectModel.pageData["+r+"].active",i),s(t,"selectModel.pageData["+r+"].title.value",l),t)),0==r?this.getCities(n.id).then((function(){a.setData({"selectModel.curTab":r+1,"selectModel.pageData[1].title.value":"","selectModel.pageData[2].title.value":"","selectModel.pageData[2].data":[]})})):1==r?this.getCounty(n.id).then((function(){a.setData({"selectModel.curTab":r+1,"selectModel.pageData[2].title.value":""})})):2==r&&this.handleClose()},getProvince:function(){var e=this;return a.default.getProvince().then((function(t){var a=t.provinceInfoList;if(!a)throw Error("provinceInfoList not found");return new Promise((function(t){e.setData({"selectModel.pageData[0].data":a},(function(){return t()}))}))}))},getCities:function(e){var t=this;return a.default.getCities({code:e}).then((function(e){var a=e.childList;if(!a)throw Error("childList not found");return new Promise((function(e){t.setData({"selectModel.pageData[1].data":a},(function(){return e()}))}))}))},getCounty:function(e){var t=this;return a.default.getCounty({code:e}).then((function(e){var a=e.childList;if(!a)throw Error("childList not found");return new Promise((function(e){t.setData({"selectModel.pageData[2].data":a},(function(){return e()}))}))}))},handleClose:function(){this.setData({isOpen:!1})}}})}(__hacked)})),window.define("components/calendar/calendar",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(e("../../libs/calendar/index.js")),o=e("../../libs/timepicker/index.js"),n=i(o);function i(e){return e&&e.__esModule?e:{default:e}}var s=e("../../utils/util");Component({properties:{globalColor:String},data:{calendar:{},timepicker:{}},methods:{open:function(e){var t=e.setting;if(this.callback=e.callback,t){var a=this.initDateSetting(e);if(t.a){var n=this.getCalendarConfig(a);this.initCalendarFn(n)}else{var i=this.getTimepickerConfig(a);this.initTimepickerFn(i),(0,o.disableTimepickerDays)(i.disableDays)}}},afterSelectTime:function(e){var t={};if(e){var a="";e.year&&(a+=e.year+"-"),e.month&&(e.month=e.month<10?"0"+e.month:e.month,a+=e.month+"-"),e.day&&(e.day=e.day<10?"0"+e.day:e.day,a+=e.day+"-"),a.lastIndexOf("-")===a.length-1&&(a=a.substring(0,a.length-1)),e.time&&(a+=" "+e.time),t.date=a}this.triggerEvent("close",t)},initDateSetting:function(e){var t=e.setting,a=e.defaultDate,o=t.a,n=t.ot.ut,i=t.ot.t,s=t.ot.ti||0;1==s&&(n=t.ot.ut30),2==s&&(n=t.ot.ut15),0==i&&(n=[0,1,2,3,4,5,6,23],s=0);var r=[],l=[],d=t.od.t,c=t.od.ud,u=t.od.od,p=t.ba,g=t.bh,f=void 0===t.bpd||t.bpd,h=t.isBookDetail?t.ul:null;if(0==d)f=!0,t.isBookDetail||(g=!0),p=!1;else{for(var m=0;m<c.length;m++){var b=this.timestampToTime(c[m]);r.push(b)}for(var v=0;v<u.length;v++){var w=this.timestampToTime(u[v]);l.push(w)}}var I={};void 0!==t.odl&&(I.openWeek=t.odl),t.og&&(void 0!==t.og.t&&(I.openGrade=t.og.t),void 0!==t.og.gd&&(I.gradeDay=t.og.gd)),void 0!==t.isDisableBeforeCurrentHour&&(I.isDisableBeforeCurrentHour=t.isDisableBeforeCurrentHour),void 0!==t.isDisableWeekendInPastDay&&(I.isDisableWeekendInPastDay=t.isDisableWeekendInPastDay);var D={defaultDay:a,disableAll:p,disablePastDay:f,disableWeekend:g,disableDays:r,disableTime:n,disableTimePoint:h,enableDays:l,tiemOrDate:o,selectTimeInterval:s};return Object.assign({},D,I)},initTimepickerFn:function(e){var t={context:this,disableWeekend:!1,disableAll:!1,defaultDay:"",comfirmTime:function(t,a){e.comfirmCallback&&e.comfirmCallback(t)},initCalendarDay:function(t,a){e.initCalendarDayCallback&&e.initCalendarDayCallback(t)}};s.extend(!0,t,e),(0,n.default)(t)},initCalendarFn:function(e){var t={context:this,disableAll:!1,disablePastDay:!1,disableWeekend:!1,defaultDay:"",disableDays:[],enableDays:[],comfirmDay:function(t,a){e.callback&&e.callback(t)}};s.extend(!0,t,e),(0,a.default)(t)},timestampToTime:function(e){e=e.toString().length>10?e:1e3*e;var t=new Date(e);t.getFullYear(),t.getMonth(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds();return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},getTimepickerConfig:function(e){var t=this,a={comfirmCallback:function(e){t.afterSelectTime(e)},initCalendarDayCallback:function(a){var o=a.year+"-"+a.month+"-"+a.day;e.defaultDay=o;var n=t.getCalendarConfig(e);t.initCalendarFn(n)},closeTimepicker:function(e){t.afterSelectTime()}};return Object.assign({},a,e)},getCalendarConfig:function(e){var t=this,a={callback:function(a){var o=a.year+"-"+a.month+"-"+a.day;if(e.defaultDay=o,e.tiemOrDate)t.afterSelectTime(a);else{var n=t.getTimepickerConfig(e);t.initTimepickerFn(n)}},closeCalendar:function(e){t.close(),t.afterSelectTime()}};return Object.assign({},a,e)},setDateCallback:function(e){this.triggerEvent("comfirm",{date:e}),this.callback&&this.callback(e)},close:function(){this.triggerEvent("close",{})}}})}(__hacked)})),window.define("components/modules/form/areaPickerButton/areaPickerButton",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(e("../../../../utils/util")),o=i(e("../../../../utils/api")),n=e("../../../../utils/eventConstants");function i(e){return e&&e.__esModule?e:{default:e}}Component({behaviors:["swan://form-field"],properties:{areaPlaceholder:{type:String,value:""},addrPlaceholder:{type:String,value:""},addrHidden:{type:Boolean,value:!1},areaPickerDisabled:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},schema:{type:Array,value:[],observer:function(e,t){JSON.stringify(e)!=JSON.stringify(t)&&this.init()}},color:{type:String,value:""}},data:{value:"",areaValue:"",addrValue:""},detached:function(){a.default.getCurrentPageEventEmitter().removeListener(n.AREAPICKER_CHANGE,this.areapickerChangeCallback)},methods:{handleTap:function(e){var t=this;if(!this.data.disabled&&!this.data.areaPickerDisabled){this.triggerEvent("open");var o=function(e){var a=e.map((function(e){return e.name}));t.setData({areaValue:a.join("/")},(function(){return t.computeValue()})),t.triggerEvent("close")};this.areapickerChangeCallback=o,a.default.getCurrentPageEventEmitter().once(n.AREAPICKER_CHANGE,o),a.default.getCurrentPageEventEmitter().emit(n.OPEN_AREAPICKER,this,this.data.schema,this.data.color)}},getProvince:function(){return o.default.getProvince().then((function(e){var t=e.provinceInfoList;if(!t)throw Error("provinceInfoList not found");return Promise.resolve(t)}))},getCities:function(e){return o.default.getCities({code:e}).then((function(e){var t=e.childList;if(!t)throw Error("childList not found");return Promise.resolve(t)}))},getCounty:function(e){return o.default.getCounty({code:e}).then((function(e){var t=e.childList;if(!t)throw Error("childList not found");return Promise.resolve(t)}))},input:function(e){var t=e.detail.value;this.setData({addrValue:t}),this.computeValue()},computeValue:function(){this.data.areaValue?this.data.addrHidden||this.data.addrValue?this.setData({value:[this.data.areaValue,this.data.addrValue]}):this.setData({value:[this.data.areaValue,""]}):this.setData({value:""})},init:function(){for(var e=this,t=[this.getProvince,this.getCities,this.getCounty],a=this.data.schema||[],o=[],n=[],i=function(i){if(!t[i]||!a[i])return"break";o.push(t[i].bind(e)(a[i-1]&&a[i-1].id||null).then((function(e){e.some((function(e){return e.id==a[i].id&&(n[i]=e,!0)}))})))},s=0;s<3;s++){if("break"===i(s))break}Promise.all(o).then((function(){e.setData({areaValue:n.map((function(e){return e.name})).join("/"),addrValue:""},(function(){e.computeValue()}))}))}}})}(__hacked)})),window.define("components/modules/form/formMap/formMap",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],o=!0,n=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(o=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=s(e("../../../../utils/api")),n=s(e("../../../../utils/util")),i=e("../../../../utils/eventConstants");function s(e){return e&&e.__esModule?e:{default:e}}Component({behaviors:["swan://form-field"],properties:{placeholder:{type:String,value:""},manual:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},color:{type:String,value:"",observer:function(e){var t=void 0;if(/^#.*/.test(e))t=n.default.hexToRgba(e,.1);else{var o=e.split(/[(|,|)]/),i=a(o,5);i[0];t="rgba("+i[1]+","+i[2]+","+i[3]+","+.1*(i[4]||1)+")"}this.setData({backgroundColor:t})}},must:{type:Boolean,value:!1}},data:{value:"",location:{},showShadowTextArea:!1,istextAreaFocus:!1},attached:function(){var e=this;this.showShadowviewCallback=function(){e.setData({showShadowTextArea:!0})},this.hideShadowviewCallback=function(){e.setData({showShadowTextArea:!1})},n.default.getCurrentPageEventEmitter().on(i.SHOW_SHADOWVIEW,this.showShadowviewCallback),n.default.getCurrentPageEventEmitter().on(i.HIDE_SHADOWVIEW,this.hideShadowviewCallback)},detached:function(){this.lastPromise=null,n.default.getCurrentPageEventEmitter().removeListener(i.SHOW_SHADOWVIEW,this.showShadowviewCallback),n.default.getCurrentPageEventEmitter().removeListener(i.HIDE_SHADOWVIEW,this.hideShadowviewCallback)},methods:{getCurrentAddr:function(){var e=this,t=void 0;this.getCurrentLocation().then((function(e){return t=e,o.default.getAddrByLocation(t)})).then((function(a){var o={value:a.address,location:t};e.setData(o)})).catch((function(e){console.error(e)}))},getCurrentLocation:function(){return o.default.getLocation().then((function(e){return{latitude:e.latitude,longitude:e.longitude}}))},clearAddr:function(){this.setData({value:"",location:{},initLocation:{}})},buttonTap:function(){this.triggerEvent("open"),this.getCurrentAddr()},clearTap:function(){return this.triggerEvent("close"),this.clearAddr()},textareaInput:function(e){var t=e.detail.value;this.setData({value:t})},textAreaFocus:function(){this.setData({istextAreaFocus:!0})},textAreaBlur:function(){this.setData({istextAreaFocus:!1})},init:function(){this.clearAddr()}}})}(__hacked)})),window.define("components/modules/form/form",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=t.setInterval,s=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/validator")),r=e("../../../utils/eventConstants");function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=e("../../../utils/api"),c=e("../../../utils/util"),u=i();Component({externalClasses:["ext-radio-class","ext-checkbox-class"],properties:{module:{type:Object,value:{},observer:function(e){this.preprocessFormData()}},disabled:{type:Boolean,value:!1},extData:{type:Object,value:{globalColor:"",sourceType:0,fromColId:0}},isPanel:Boolean,inModule:Boolean},data:{isHideHighLevelView:!1,uploadFileList:[],submitData:{},inputTimer:0,verifyText:"获取验证码",formExtraInfo:[]},attached:function(){var e=this;this.showShadowCallback=function(){e.hideHighLevelView(!0)},this.hideShadowCallback=function(){e.hideHighLevelView(!1)},c.getCurrentPageEventEmitter().on(r.SHOW_SHADOWVIEW,this.showShadowCallback),c.getCurrentPageEventEmitter().on(r.HIDE_SHADOWVIEW,this.hideShadowCallback)},detached:function(){c.getCurrentPageEventEmitter().removeListener(r.SHOW_SHADOWVIEW,this.showShadowCallback),c.getCurrentPageEventEmitter().removeListener(r.HIDE_SHADOWVIEW,this.hideShadowCallback)},methods:{preprocessFormData:function(){var e=this,t=this.data.module,a=t&&t.content&&t.content.formData||[];a.forEach((function(t,a){if(7==t.type)e.setData(l({},"formExtraInfo["+a+"].range",function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].name);return t}(t.input)));else if(8==t.type){var o;e.setData((l(o={},"formExtraInfo["+a+"].schema",(n=t.addrSetting,i=[{},{},{}],n.p&&(i[0].id=n.p),n.ph&&(i[0].notShow=!0),n.c&&(i[1].id=n.c),n.ch&&(i[1].notShow=!0),n.d&&(i[2].id=n.d),n.dh&&(i[2].notShow=!0),i)),l(o,"formExtraInfo["+a+"].areaPickerDisabled",function(e){return e.ph&&e.ch&&e.dh}(t.addrSetting)),o))}var n,i}))},hideHighLevelView:function(e){this.setData({isHideHighLevelView:e})},checkedHandler:function(e){if(!this.data.disabled){var t=e.currentTarget.dataset,a=t.itemidx,o=t.index,n=this.data.module.content.formData[a].input[o],i={};i["module.content.formData["+a+"].input["+o+"].selected"]=!n.selected,this.setData(i)}},bindTextAreaBlur:function(e){var t=this.data.module,a=e.currentTarget.dataset.itemidx,o=t.content.formData[a],n=e.detail.value,i=(o.hidden,{});i["module.content.formData["+a+"].input"]=n,this.setData(i)},previewImage:function(e){var t=e.currentTarget.dataset.sbp,a=e.currentTarget.dataset.ft;if(t&&!this.data.disabled&&1!=a){var o=e.currentTarget.dataset.img;n.previewImage({current:o,urls:[o]})}},uploadHandler:function(e){var t=this,a=e.currentTarget.dataset,o=a.itemid,n=a.itemidx,i=this.data.module,s=i.content.formData[n],r=(i.content.detailId,i.content.formId),l=this.data.extData.fromColId,c=s.fileSetting.ft,u=s.fileSetting.fs;(1==c?this.uploadVideo():this.uploadImage()).then((function(e){if(!e)throw Error("取消选择，上传失败");if(e.fileSize>1024*u*1024)throw t.showModalAdapter({title:"上传失败",showCancel:!1,content:"上传失败：文件大小超过"+u+"M"}),Error("上传失败：文件大小超过"+u+"M");var a=Object.assign({},{fromColId:l,formId:r,itemId:o},e);return d.uploadFile2(a)})).then((function(e){var a={},o="module.content.formData["+n+"].input";a[o]=e.fileId,a[o="module.content.formData["+n+"].path"]=e.filePath,t.data.uploadFileList.push({tmpFileId:e.id,fileId:e.fileId,tmpFileName:e.fileName}),t.setData(a)})).catch((function(e){console.log(e)}))},uploadImage:function(){return c.promisify(n.chooseImage)({count:1}).then((function(e){var t=e.tempFiles[0],a=t.path,o=a.substring(a.lastIndexOf(".")+1);return{filePath:a,fileSize:t.size,fileType:o}})).catch((function(e){console.log(e)}))},uploadVideo:function(){return c.promisify(n.chooseVideo)({sourceType:["album","camera"],maxDuration:60,camera:"back"}).then((function(e){var t=e.tempFilePath,a=t.substring(t.lastIndexOf(".")+1);return{filePath:t,fileSize:e.size,fileType:a}})).catch((function(e){console.log(e)}))},phoneHandle:function(e){var t=this;clearTimeout(this.data.inputTimer);var o=this.data.module.content.formData,n=e.currentTarget.dataset.itemid,i=o.findIndex((function(e){return e.id==n})),s={};this.data.inputTimer=a((function(){s["module.content.formData["+i+"].input"]=e.detail.value,t.setData(s)}),200)},codeHandle:function(e){var t=this;clearTimeout(this.data.inputTimer);var o=this.data.module.content.formData,n=e.currentTarget.dataset.itemid,i=o.findIndex((function(e){return e.id==n})),s={};this.data.inputTimer=a((function(){s["module.content.formData["+i+"].phoneSetting.code"]=e.detail.value,t.setData(s)}),200)},getPhoneNumber:function(e){var t=this,a=this.data.module,o=a.content.formId,i=e.currentTarget.dataset.itemid,s=n.getStorageSync("_SESSION_KEY"),r={encryptedData:e.detail.encryptedData,iv:e.detail.iv,sessionKey:s,moduleid:a.id,formId:o,itemId:i};d.issueRequest({url:{path:"appAjax/secureUtil.jsp",cmd:"decryptPhone"},data:r,method:"POST"}).then((function(e){if(!e.success)throw Error(e.msg);for(var o={},n=a.content.formData,s=0;s<n.length;s++)if(n[s].id==i){o["module.content.formData["+s+"].input"]=e.phone,o["module.content.formData["+s+"].hasAuth"]=!0;break}t.setData(o)})).catch((function(e){t.showModalAdapter({title:"获取失败",showCancel:!1,content:e.message})}))},getVerifyNum:function(e){for(var t=this,a=this.data.module,n=a.id,i=a.content.formId,s=e.currentTarget.dataset.itemid,r=a.content.formData,l=void 0,c=void 0,u=void 0,p=0;p<r.length;p++)if((l=r[p]).id==s){u=l.input,c=p;break}u?d.issueRequest({url:{path:"appAjax/wxAppConnectionForm.jsp",cmd:"sendValidateCode"},data:{moduleId:n,formId:i,itemId:s,phone:u},method:"POST"}).then((function(e){if(!e.success)throw Error(e.msg);var a={},n=l.phoneSetting,i=60;n.codeSign=e.codeSign,n.sendStatus=1,a["module.content.formData["+c+"].phoneSetting"]=n,a.verifyText="已发送("+i+")",t.setData(a);var r="verifyNumTimer"+s;t[r]=o((function(){a={},"",1==i?(clearInterval(t[r]),a["module.content.formData["+c+"].phoneSetting.sendStatus"]=2,a.verifyText="重新获取",t.setData(a)):(i--,1!=n.sendStatus&&(a["module.content.formData["+c+"].phoneSetting.sendStatus"]=1),a.verifyText="已发送("+i+")",t.setData(a))}),1e3)})).catch((function(e){t.showModalAdapter({title:"获取失败",showCancel:!1,content:e.message})})):this.showModalAdapter({showCancel:!1,content:"请输入正确的电话号码"})},showCalendar:function(e){if(!this.data.disabled){var t=e.currentTarget.dataset.itemidx;this.openCalendarItemIndex=t;var a=this.data.module,o=a.content.formData[t];this.triggerEvent("opencalandar",{id:o.id,moduleId:a.id,defaultDate:o.input||"",setting:o.dateSetting}),this.hideHighLevelView(!0)}},updateCalendar:function(e){if(this.hideHighLevelView(!1),e){var t={};t["module.content.formData["+this.openCalendarItemIndex+"].input"]=e,this.setData(t)}},bindSinglePickerChange:function(e){var t=e.target.dataset.itemIndex,a=e.detail.value,o=this.data.module.content.formData[t];this.setData(l({},"formExtraInfo["+t+"].value",o.input[a].name))},submitFormHandler:function(e){var t,a=this.data.module,o=a.id,n=a.content.formData,i=a.content.formId,s=this.data.submitData;s.formId=i,s.moduleId=o,s.data=t=e.detail.value,s.verificationList=[],Object.keys(t).forEach((function(e){var t=n.find((function(t){return e==t.id}));6===t.type&&t.phoneSetting.ov&&t.input&&s.verificationList.push({phone:t.input,code:t.phoneSetting.code,codeSign:t.phoneSetting.codeSign})})),s.fromColId=this.data.extData.fromColId,s.sourceType=this.data.extData.sourceType,u.globalData.userInfo&&this.postForm()},formUserInfoHandler:function(e){var t=this;if(d.logDog(7000110,2),!u.globalData.userInfo){var a=e.detail.errMsg,o=c.promisify;if("getUserInfo:fail auth deny"!=a){if("getUserInfo:ok"==a){var i=e.detail.rawData;o(n.login)().then((function(e){if("login:ok"==e.errMsg){var t=e.code;return d.getOrAddUserInfo(t,i)}})).then((function(e){t.postForm()})).catch((function(e){console.log("commit form -- login err -- "+e.errMsg)}))}}else this.showModalAdapter({title:"警告",content:"您点击了拒绝授权，将无法提交表单。",showCancel:!1,confirmText:"确定"})}},verifyCode:function(e){var t=e.input;return!(e.phoneSetting.ov&&t&&(!e.phoneSetting.code||0==e.phoneSetting.code.length))},verifyFormBeforePost:function(){var e=this.data.submitData,t=this.data.module.content.formData,a=e.data;if(void 0===e.formId)return!1;for(var o=0;o<t.length;o++){var n=t[o],i=n.id,r=a[i],l=!0,d="";if((n.must||a[i]&&0!=a[i].length)&&(!n.must||a[i]&&0!=a[i].length?6!==n.type||(0,s.verifyPhoneNumber)(n.input)?6!==n.type||this.verifyCode(n)?8!=n.type||n.addrSetting.ah||a[i][1]?10!=n.type||(0,s.verifyEmail)(r)?11!=n.type||(0,s.verifyIdentity)(r)||(d="请输入正确的身份证号",l=!1):(d="请输入正确的邮箱地址",l=!1):(d="详细地址不能为空",l=!1):(d="请输入验证码",l=!1):(d="请输入正确的"+n.name,l=!1):(d=n.name+"不能为空",l=!1),!l))return this.showModalAdapter({title:"提示",content:d,showCancel:!1,confirmText:"确 定"}),!1}return!0},clearFormData:function(){var e=this,t=this.data.module;if(t.content){var a=t.content.formData,o=Object.prototype.toString,n={};a.forEach((function(t,a){var i=t.input;if("[object String]"==o.call(i)?i="":"[object Array]"==o.call(i)&&i.forEach((function(e){return e.selected=!1})),n["module.content.formData["+a+"].input"]=i,6===t.type&&t.phoneSetting.ov){clearInterval(e["verifyNumTimer"+t.id]);var s=t.phoneSetting;s.code="",s.codeSign="",s.sendStatus=0,n["module.content.formData["+a+"].phoneSetting"]=s,n["module.content.formData["+a+"].hasAuth"]=!1}})),this.setData({formExtraInfo:[]},(function(){e.preprocessFormData(),[e.selectComponent(".item-address"),e.selectComponent(".item-location"),e.selectComponent(".rate")].forEach((function(e){e&&e.init&&e.init()}))})),this.setData(n),this.setData({uploadFileList:[],submitData:{}})}},postForm:function(){var e=this,t=this.data.submitData,o=this.data.uploadFileList;if(void 0!==t.formId){var i=this.data.module,s=i.content.formData;t.data;this.verifyFormBeforePost()&&(n.showLoading({title:"提交中",mask:!0}),d.commitFormV2(o,t).then((function(t){if(n.hideLoading(),t){for(var o=0;o<s.length;o++){var r=s[o];if(6===r.type){r.phoneSetting.ov?d.logDog(7000110,1):d.logDog(7000110,0);break}}e.clearFormData();var l={};i.content.jInfo&&(l.jInfo=i.content.jInfo),n.showToast({title:"提交成功",icon:"success",duration:2e3}),a((function(){e.triggerEvent("complete",l)}),1500)}})).catch((function(e){console.log("commit form final err -- "+e)})))}},showModalAdapter:function(e){var t=e.title,a=void 0===t?"提示":t,o=e.content,n=void 0===o?"":o,i=e.showCancel,s=void 0!==i&&i,l=e.confirmText,d=void 0===l?"确 定":l;c.getCurrentPageEventEmitter().emit(r.SHOW_DIALOG,{title:a,content:n,showCancelButton:s,confirmButton:d})}}})}(__hacked)})),window.define("pages/myOrder/orderItem/orderItem",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api"));e("../../../utils/wxpay");Component({properties:{order:{type:Object,value:{}},index:Number,tabIndex:Number,globalcolor:{type:String,value:"",observer:function(e,t){e&&e!=t&&this.setData({globalColor:e})}}},data:{bookBtnText:"",globalColor:"",bookSetting:{pu:""}},methods:{cancelOrder:function(e){var t=this.data.order,a=t.id,n=2;1==t.payType&&4==t.status&&(n=5),o.reportVisitorBehavior({type:16,relationId:a}),this.setOrderStatusRequest("cancel",a,n)},finishOrder:function(e){var t=this.data.order.id;this.setOrderStatusRequest("finish",t,1)},waitPayCancel:function(){var e=this.data.order.id;this.setOrderStatusRequest("cancel",e,2)},payOrder:function(){var e=this;a((function(){e.triggerEvent("toast",{data:{title:"百度上暂不支持微信支付",icon:"none",duration:2e3}},{bubbles:!0})}),0)},setOrderStatusRequest:function(e,t,a){var i=this,s="";"cancel"==e?s="取消":"finish"==e&&(s="完成"),n.showModal({title:"",content:"您确认要"+s+this.data.bookBtnText+"吗？",success:function(s){s.confirm&&(n.showLoading({title:"提交中...",mask:!0}),o.setOrderStatus(t,a).then((function(t){n.hideLoading(),t&&i.triggerEvent("refresh",{type:e},{bubbles:!0})})).catch((function(e){n.hideLoading(),console.error(e)})))}})},toOrderDetail:function(){n.navigateTo({url:"/pages/myOrderDetail/myOrderDetail?detail="+JSON.stringify(this.data.order)+"&globalColor="+this.data.globalColor})}},ready:function(){var e=i().globalData.wxappInfo,t="立即预约"==e.bookSetting.bt?"预约":"订单";1==e.formType&&(t="咨询"),this.setData({bookBtnText:t,globalColor:this.data.globalcolor,bookSetting:e.bookSetting})}})}(__hacked)})),window.define("components/badge/badge",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{num:{type:Number,value:0},bgColor:{type:String,value:"red"},color:{type:String,value:"white"}}})}(__hacked)})),window.define("components/inputNumber/inputNumber",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{count:{type:Number,value:0,observer:function(e){e<=this.data.min?this.setData({isDisabledMinus:!0,isDisabledPlus:!1,value:this.data.min}):e>=this.data.max?this.setData({isDisabledPlus:!0,isDisabledMinus:!1,value:this.data.max}):this.setData({value:e})}},max:{type:Number,value:999999,observer:function(e){e==this.data.min&&this.setData({isDisabledMinus:!0,isDisabledPlus:!0})}},min:{type:Number,value:0},warn:{type:Boolean,value:!1}},data:{value:0,isDisabledMinus:!0,isDisabledPlus:!1},methods:{handlerMinus:function(){if(this.data.warn)this.triggerEvent("warnHandler");else if(!this.data.isDisabledMinus){var e=this.data.min,t=parseInt(this.data.value);this.setData({isDisabledMinus:t-1<=e,isDisabledPlus:!1,value:t-1}),this.triggerEvent("getCount",this.data.value)}},handlerPlus:function(){if(this.data.warn)this.triggerEvent("warnHandler");else if(!this.data.isDisabledPlus){var e=this.data.max,t=parseInt(this.data.value);this.setData({isDisabledPlus:t+1>=e,isDisabledMinus:!1,value:t+1}),this.triggerEvent("getCount",this.data.value)}},handlerBlur:function(e){var t=parseInt(e.detail.value),a=this.data.min,o=this.data.max;t<a?this.setData({isDisabledMinus:!0,isDisabledPlus:!1,value:a}):t>o?this.setData({isDisabledMinus:!1,isDisabledPlus:!0,value:o}):this.setData({isDisabledMinus:!1,isDisabledPlus:!1,value:t}),this.triggerEvent("getCount",this.data.value)}}})}(__hacked)})),window.define("components/couponPanel/couponPanel",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){var a;t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=e("../../utils/api.js"),r=i();Component({properties:(a={globalColor:String,list:Array,mode:Number},o(a,"list",{type:Array,value:{},observer:function(e,t){}}),o(a,"isIphoneX",{type:Boolean,value:r.globalData.isIphoneX}),a),data:{show:!1,scrollTarget:""},methods:{showRule:function(e){var t=e.currentTarget.dataset.coupon;getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"规则说明",content:t.rule,confirmButton:"确 认",callback:function(){}})},setShowStatus:function(e){this.setData({show:e});var t=this.data.list;for(var a in t)t[a].checked&&this.setData({scrollTarget:"coupon"+t[a].id})},closeCoupon:function(){this.setShowStatus(!1),this.triggerEvent("close",this.data.list)},catchTouch:function(){},clickCoupon:function(e){var t=e.currentTarget.dataset.coupon,a=e.currentTarget.dataset.index,o=(this.selectComponent("#toast"),this);if(0==t.status){var i=getCurrentPages(),l=(i[i.length-1],r.globalData.userInfo);l&&l.nickName?this.addCoupon(t,a):n.getUserInfo({success:function(e){var n=e.userInfo;s.getUserInfoByAuth(n).then((function(e){e.success&&o.addCoupon(t,a)}))},fail:function(e){r.globalData._hasCancelAuthPopup=!0}})}else 3==t.status&&t.available&&s.getCouponEntriesData(t.id).then((function(e){if(e.success){var a={allService:e.allService,groupIdList:e.groupIdList,idList:e.idList,jumpto:e.jumpto,couponId:t.id};0==e.jumpto?n.navigateTo({url:"../bookDetail/bookDetail?bookId="+e.idList[0]}):n.navigateTo({url:"../book/book?couponParams="+JSON.stringify(a)})}}))},addCoupon:function(e,t){var a=this;s.receiveCoupon({couponId:e.id}).then((function(t){t.success?(s.logDog(7000275,2),a.toast.showToast({title:"领取成功",icon:"success",duration:1e3,callback:function(){e.status=3,e.startTime=t.coupon.startTime,e.endTime=t.coupon.endTime,e.available=t.coupon.available,a.triggerEvent("change",{coupon:e})}})):a.toast.showToast({title:t.msg,icon:"none",duration:1e3})}))},selectItem:function(e){for(var t=e.currentTarget.dataset.id,a=e.currentTarget.dataset.coupon.checked,o=this.data.list,n=0;n<o.length;n++)o[n].id==t&&(o[n].checked=!o[n].checked),a||o[n].id===t||(o[n].checked=!1);this.setData({list:o}),this.triggerEvent("select",this.data.list)}},ready:function(){this.toast=this.selectComponent("#toast")}})}(__hacked)})),window.define("pages/bookDetail/serviceStandardPanel/serviceStandardPanel",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../utils/api");Component({properties:{bookInfo:Object,globalColor:String,bookSetting:Object},data:{show:!1,selectList:[],info:{},checkList:[],btnStatus:0,contentHeight:""},methods:{toggleStatus:function(){this.setData({show:!this.data.show}),this.data.show&&2==this.data.bookInfo.setting.ss.sp.tl.length&&-1!==this.data.bookInfo.setting.ss.sp.tl.indexOf(1)&&-1!==this.data.bookInfo.setting.ss.sp.tl.indexOf(2)&&this.selectFreeStandard(),this.data.show&&this.filterAllOffSelfList()},getContentHeight:function(){var e=this,t=wx.createSelectorQuery().in(this);t.select(".standard-content-wrap").boundingClientRect(),t.exec((function(t){var a=t[0].height<350?"":"700rpx";e.setData({contentHeight:a})}))},selectFreeStandard:function(){var e=[];this.data.bookInfo.setting.ss.m.forEach((function(t){1==t.content.ps.t&&e.push(t)}));for(var t=e[0].content.rl,a=this.data.bookInfo.setting.ss.sl,o=0;o<e.length;o++){for(var n=0,i=[],s=0;s<a.length&&n!=t.length;s++)for(var r=a[s].optionList,l=0;l<r.length;l++)r[l].checked=!1,n<t.length&&t[n].sid==a[s].id&&t[n].oid==r[l].id&&(a[s].optionList[l].checked=!0,i.push({sid:t[n].sid,oid:t[n].oid,sn:a[s].name,on:r[l].n}),n++);if(n==t.length){var d=e[o],c=1;1==d.content.cs.t&&0==d.content.cs.s&&(c=2),this.setData({btnStatus:c,checkList:i,info:d}),this.triggerEvent("change",{sl:a});break}}},catchTouch:function(){},closeStandard:function(){this.toggleStatus()},clickItem:function(e){var t=e.currentTarget.dataset,a=t.oid,o=t.sid,n=t.item,i=this.data.bookInfo.setting.ss.sl,s=this.getCheckList(i);if(!n.hideShow&&n.s&&!n.checked){for(var r=0;r<i.length;r++)if(i[r].id==o){for(var l=i[r].optionList,d=0;d<l.length;d++)l[d].checked=!1,l[d].id==a&&(l[d].checked=!0);break}s.length<i.length-1?this.filterOffSelfList():this.filterAllMapList(),this.changePrice(i),this.triggerEvent("change",{sl:i})}},getCheckList:function(e){for(var t=[],a=(this.data.bookInfo.setting.ss.m,0);a<e.length;a++)for(var o=e[a].optionList,n=0;n<o.length;n++)o[n].checked&&t.push({sid:e[a].id,oid:o[n].id,sn:e[a].name,on:o[n].n});return t},changePrice:function(e){for(var t=[],a=this.data.bookInfo.setting.ss.m,o=0;o<e.length;o++)for(var n=e[o].optionList,i=0;i<n.length;i++)n[i].checked&&t.push({sid:e[o].id,oid:n[i].id,sn:e[o].name,on:n[i].n});if(t.length<e.length&&this.setData({btnStatus:0}),t.length==e.length){for(var s={},r=0;r<a.length;r++){for(var l=a[r].content.rl,d=0,c=0;c<l.length&&(l[c].sid==t[d].sid&&l[c].oid==t[d].oid);c++){if(d==t.length-1){s=a[r];break}d++}if(s.id)break}if(s.id){var u=1;1==s.status&&(u=3),1==s.content.cs.t&&0==s.content.cs.s&&(u=2),this.setData({info:s,checkList:t,btnStatus:u})}}},toOrder:function(e){1===this.data.btnStatus&&(0!=this.data.checkList.length?this.data.info.id?(a.logDog(7000372,1),this.triggerEvent("order",{info:this.data.info,checkList:this.data.checkList})):console.log("没有规格对应的数据"):console.log("请先选择一个规格"))},filterOffSelfList:function(){var e=this.data.bookInfo.setting.ss.sl,t=this.data.bookInfo.setting.ss.m,a=this.getCheckList(e);this.resetList(e);for(var o=function(o){for(var n=!1,i=t[o].content.rl,s=0;s<i.length;s++){for(var r=0;r<a.length;r++)if(a[r].sid==i[s].sid&&a[r].oid==i[s].oid){n=!0;break}if(n)break}if(n)for(var l=function(a){e[a].optionList.forEach((function(n,s){e[a].id==i[a].sid&&n.id==i[a].oid&&(0==t[o].status&&n.count++,n.flag=!0)}))},d=0;d<e.length;d++)l(d)},n=0;n<t.length;n++)o(n);e.forEach((function(e){e.optionList.forEach((function(e){e.flag&&0==e.count&&(e.s=!1)}))})),this.triggerEvent("change",{sl:e})},filterAllOffSelfList:function(){var e=this.data.bookInfo.setting.ss.sl;this.resetList(e,!0);for(var t=this.data.bookInfo.setting.ss.m,a=function(a){for(var o=t[a].content.rl,n=function(n){e[n].optionList.forEach((function(i,s){e[n].id==o[n].sid&&i.id==o[n].oid&&(0==t[a].status&&i.count++,i.flag=!0)}))},i=0;i<e.length;i++)n(i)},o=0;o<t.length;o++)a(o);e.forEach((function(e){e.optionList.forEach((function(e){e.flag&&0==e.count&&(e.hideShow=!0),e.flag=!1,e.count=0}))})),this.triggerEvent("change",{sl:e})},filterAllMapList:function(){var e=this.data.bookInfo.setting.ss.sl,t=this.data.bookInfo.setting.ss.m;this.getCheckList(e);this.resetList(e);for(var a=function(a){for(var o=t[a].content.rl,n=0,i=function(i){for(var s=function(t){e[t].optionList.forEach((function(a){e[t].id==o[i].sid&&a.id==o[i].oid&&a.checked&&n++}))},r=0;r<e.length;r++)s(r);if(n>=e.length-1&&1==t[a].status)for(var l=function(t){for(var a=function(a){e[a].optionList.forEach((function(n){e[a].id!=o[t].sid||n.id!=o[t].oid||n.checked||(n.s=!1)}))},n=0;n<e.length;n++)a(n)},d=0;d<o.length;d++)l(d)},s=0;s<o.length;s++)i(s)},o=0;o<t.length;o++)a(o);this.triggerEvent("change",{sl:e})},resetList:function(e,t){e.forEach((function(e){e.optionList.forEach((function(e){e.count=0,e.flag=!1,e.s=!0,t&&(e.hideShow=!1)}))}))}},ready:function(){var e=i().globalData;this.setData({isIphoneX:e.isIphoneX})}})}(__hacked)})),window.define("pages/card/modalPopup/modalPopup",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../libs/scripts/login"),o=i();Component({properties:{},data:{title:"",content:"",showCancel:!0,cancelText:"取消",cancelColor:"",confirmText:"确定",confirmColor:"",isLogin:!1,success:null},methods:{show:function(e){var t=this;if(e){var a={};e.title&&(a.title=e.title),e.content&&(a.content=e.content),void 0!==e.showCancel&&(a.showCancel=e.showCancel),e.cancelText&&(a.cancelText=e.cancelText),e.cancelColor&&(a.cancelColor=e.cancelColor),e.confirmText&&(a.confirmText=e.confirmText),e.confirmColor&&(a.confirmColor=e.confirmColor),void 0!==e.success&&(a.success=e.success),e.isLogin&&!o.globalData.userInfo&&(a.isLogin=!0),this.setData(a,(function(){t.popup.showPopup()}))}},hide:function(){this.popup.hidePopup()},confirm:function(){this.setCallback({confirm:!0,cancel:!1}),this.hide()},cancel:function(){this.setCallback({confirm:!1,cancel:!0}),this.hide()},setCallback:function(e){this.data.success&&(this.data.success(e),this.data.success=null)},getUserInfo:function(e){var t=this,o=e.detail.errMsg;if("getUserInfo:fail auth deny"==o)this.setCallback({confirm:!0,cancel:!1,data:{success:!1}}),this.hide();else if("getUserInfo:ok"==o){var n=e.detail.rawData;a.dealUserInfo(n,(function(){t.setCallback({confirm:!0,cancel:!1,data:{success:!0}}),t.hide()}))}}},ready:function(){a.initUserInfo(),this.popup=this.selectComponent("#popup")}})}(__hacked)})),window.define("components/modules/live/live",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{module:{type:Object,observer:function(e){}},inModule:{type:Boolean,value:!1}},data:{},attached:function(){},detached:function(){},methods:{}})}(__hacked)})),window.define("components/modules/counter/counter",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../libs/scripts/utils.js"),o=e("../../../utils/api"),s=e("../../../libs/scripts/login.js"),r=!1;Component({properties:{module:{type:Object,observer:function(){this.init()}},globalColor:String,inModule:{type:Boolean,value:!1},isOpen:{type:Boolean,observer:function(e){e&&this.init()}}},data:{isLoading:!0,selectedData:null,formExtraInfo:[],quotationResult:null},methods:{init:function(){var e=this;if(this.data.isOpen){var t=this.data.module;i().globalData;if(t.id){var o=t.content.id,n=null;a.requestOnce({url:{path:"appAjax/quotation.jsp",cmd:"getCalculatorList"},openId:!1,key:"calculatorList",resKey:"calculatorList"}).then((function(t){if(t){for(var a=0;a<t.length;a++)if(o==t[a].id){n=t[a];break}e.setData({calculatorList:t,selectedData:n})}})).catch((function(e){return console.error(e)})).finally((function(){e.setData({isLoading:!1})}))}}else this.setData({isLoading:!1})},bindSinglePickerChange:function(e){var t,a,o,n=e.detail.value,i=e.target.dataset.itemIndex,s=e.target.dataset.list[n];this.setData((t={},a="formExtraInfo["+i+"].value",o=s.t,a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t))},submitHandler:function(e){var t=e.detail.value,a=this,o=i().globalData.openId;o?a.getQuotationResult(t):s.initUserInfo(!1,(function(){(o=i().globalData.openId)&&a.getQuotationResult(t)}))},getQuotationResult:function(e){var t=this;if(!r){var i=[],s=this.data.selectedData.parameter||[];for(var l in e){if(!e[l])return void n.showModal({title:"",showCancel:!1,content:"请填写完整计算报价"});for(var d=-1,c=[],u=0;u<s.length;u++)if(s[u].id==1*l){c=s[u].c||[];for(var p=0;p<c.length;p++)c[p].t==e[l]&&(d=c[p].id)}i.push({id:1*l,v:e[l],cid:d})}var g={};return g.calculatorId=this.data.selectedData.id||0,g.contentList=i,r=!0,a.request({url:{path:"appAjax/quotation.jsp",cmd:"getQuotationResult"},data:g,openId:!0}).then((function(e){if(e&&e.success){var a={};return a.quotationResult=e.quotationResult,e.todayQuotation||(a["selectedData.todayQuotationCount"]=1*t.data.selectedData.todayQuotationCount+1),t.setData(a,(function(){t.showPopup()})),o.reportVisitorBehavior({type:42,relationId:e.resultId}),!0}getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:e.msg,confirmButton:"确 认"})})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading(),r=!1}))}},clearFormData:function(){this.setData({formExtraInfo:[]});for(var e=this.data.selectedData.parameter||[],t={},a=0;a<e.length;a++)if(0==e[a].t){var o=e[a].c||[];o.forEach((function(e){return e.selected=!1})),t["selectedData.parameter["+a+"].c"]=o}else 2==e[a].t&&(t["selectedData.parameter["+a+"].v"]="");this.setData(t)},showPopup:function(){this.popup.showPopup(),this.clearFormData()},closePopup:function(){this.popup.hidePopup()},jumpCtrl:function(e){var t=e.currentTarget.dataset.jinfo;t&&this.triggerEvent("jump",t)}},ready:function(){this.popup=this.selectComponent("#counterPopup"+this.data.module.id)}})}(__hacked)})),window.define("components/modules/fileDownload/fileDownload",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../libs/scripts/utils.js");Component({properties:{module:{type:Object,observer:function(){this.init()}},globalColor:String,inModule:Boolean},data:{fileList:[]},methods:{init:function(){var e=this,t=this.data.module;if(t.id){var o=t.content.fileIdList;0!==o.length?(this.setData({isLoading:!0}),a.request({url:{path:"appAjax/media.jsp",cmd:"getFileList"},data:{fileIdList:JSON.stringify(o)},key:"fileDownload"}).then((function(t){if(t&&t.success){var a=[],n=t.fileList;o.forEach((function(e){var t=n.find((function(t){return t.id==e}));t&&a.push(t)})),e.setData({fileList:a})}})).catch((function(e){console.error(e)})).finally((function(){e.setData({isLoading:!1})}))):this.setData({fileList:[]})}}}})}(__hacked)})),window.define("components/modules/videoList/videoList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../libs/wxParse/wxParse.js"),e("../../../utils/api").logDog;var a=e("../../../libs/scripts/common.js").onlyRequestForModule;Component({properties:{module:{type:Object,observer:function(){this.init()}},isOem:Boolean,inModule:{type:Boolean,value:!1}},data:{hasPlay:!1,isLoading:!1,defaultPoster:"http://qz.faisys.com/image/wxImage/wxMaterial/default_poster.jpg"},methods:{init:function(){var e=this,t=(i().globalData.wxappInfo,this.data.module.content),o=t.idList,n=t.groupIdList,s=t.type;this.setData({isLoading:!0}),a({url:{path:"appAjax/media.jsp",cmd:"getVideoList"},data:{type:0},resKey:"videoList",callback:function(t){if(t){e.setData({isLoading:!1});var a=[];if(0===s)o.forEach((function(e){var o=t.find((function(t){return t.id==e}));o&&a.push(o)}));else if(1===s){var i=n.some((function(e){return 0===e})),r=e.data.module.content.showLimit,l=function(e){var o=t[e];return a.length>=r?"break":o.groupIdList&&0!==o.groupIdList.length||!i?void o.groupIdList.forEach((function(e){n.some((function(t){return t==e}))&&a.push(o)})):(a.push(o),"continue")};e:for(var d=0;d<t.length;d++){switch(l(d)){case"break":break e;case"continue":continue}}}var c={videoList:a};e.setData(c)}}})},gotoDetail:function(e){var t=e.currentTarget.dataset.id;n.navigateTo({url:"/pages/videoDetail/videoDetail?id="+t})}}})}(__hacked)})),window.define("components/modules/coupon/coupon",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout;var a=t.setInterval,o=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i()),s=e("../../../utils/api"),r=e("../../../libs/scripts/login.js");Component({properties:{module:{type:Object,observer:function(){o.globalData.wxappInfo.trialSwitch&&this.init()}},inModule:{type:Boolean,value:!1},allCoupon:{type:Object,observer:function(e,t){if(e&&t){var a=e,n=o.globalData.couponOpen,i=this.data.couponList;this.data.module.content.cloneList,this.data.module.content.couponIdList;if(n)for(var s=0;s<i.length;s++)for(var r=0;r<a.length;r++)if(a[r].id==i[s].id){var l={};l["couponList["+s+"]"]=a[r],this.setData(l);break}}}},isLoading:{type:Boolean,value:!0}},data:{couponList:[]},methods:{init:function(){var e=this.data.module,t=e.pattern,n=o.globalData.couponOpen;e.content.id;if(t)if(n||this.setData({isLoading:!1}),!n&&e.content.cloneList)e.content.cloneList;else{var i=this,s=getCurrentPages()[getCurrentPages().length-1].data.allCoupon;"[object Null]"==Object.prototype.toString.call(s)&&(getCurrentPages()[getCurrentPages().length-1].setData({allCoupon:-1}),i.setData({isLoading:!0}),i.getAllCouponList());var r=0;clearInterval(r),-1==s?r=a((function(){(s=getCurrentPages()[getCurrentPages().length-1].data.allCoupon)instanceof Array?(i.update(),clearInterval(r)):-2===s&&clearInterval(r)}),500):s&&s.length>=0&&i.update()}},clickBtn:function(e){var t=e.currentTarget.dataset.coupon,a=e.currentTarget.dataset.index,o=this;if(i().globalData.extConfigData.isModel)this.toast.showToast({title:"模板预览状态，不支持领取",icon:"none",duration:1e3});else if(t.ban)this.toast.showToast({title:"示例优惠券不支持领取",icon:"none",duration:1e3});else{var n=i().globalData.openId;n?o.beforeAddCoupon(t,a):r.initUserInfo(!1,(function(){(n=i().globalData.openId)&&o.beforeAddCoupon(t,a)}))}},beforeAddCoupon:function(e,t){var a=this;if(0==e.status){var i=getCurrentPages(),r=(i[i.length-1],o.globalData.userInfo);r&&r.nickName?this.addCoupon(e,t):n.getUserInfo({success:function(o){var n=o.userInfo;s.getUserInfoByAuth(n).then((function(o){o.success&&a.addCoupon(e,t)}))},fail:function(e){o.globalData._hasCancelAuthPopup=!0}})}else 3==e.status&&e.available&&s.getCouponEntriesData(e.id).then((function(t){if(t.success){var a={allService:t.allService,groupIdList:t.groupIdList,idList:t.idList,jumpto:t.jumpto,couponId:e.id};0==t.jumpto?n.navigateTo({url:"../bookDetail/bookDetail?bookId="+t.idList[0]}):n.navigateTo({url:"../book/book?couponParams="+JSON.stringify(a)})}}))},getAllCouponList:function(){var e=this,t=this;s.getCouponList().then((function(a){a&&(getCurrentPages()[getCurrentPages().length-1].setData({allCoupon:a}),e.setData({isLoading:!1}),t.update())})).catch((function(e){console.error(e)}))},update:function(){for(var e=getCurrentPages()[getCurrentPages().length-1].data.allCoupon,t=this.data.module.content.couponIdList,a=[],o=0;o<t.length;o++)for(var n=0;n<e.length;n++)if(e[n].id==t[o]){a.push(e[n]);break}this.setData({couponList:a,isLoading:!1})},showRule:function(e){var t=e.currentTarget.dataset.coupon,a=e.currentTarget.dataset.module.pattern.bbc,n=o.globalData.globalColor;getCurrentPages()[getCurrentPages().length-1].dialog.changeColor(a),getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"规则说明",content:t.rule,confirmButton:"确 认",callback:function(){getCurrentPages()[getCurrentPages().length-1].dialog.changeColor(n)}})},addCoupon:function(e,t){var a=this;e.id;s.receiveCoupon({couponId:e.id}).then((function(o){if(o.success)s.logDog(7000275,1),getCurrentPages()[getCurrentPages().length-1].toast.showToast({title:"领取成功",icon:"success",duration:1e3,callback:function(){e.status=3,e.startTime=o.coupon.startTime,e.endTime=o.coupon.endTime,e.available=o.coupon.available;var n={};n["couponList["+t+"]"]=e,a.setData(n),a.changeAllCoupon(e)}});else{if(-1001==o.rt){var n={};e.status=o.coupon.status,n["couponList["+t+"]"]=e,a.setData(n),a.changeAllCoupon(e)}if(-1e3==o.rt){n={};e.status=o.coupon.status,n["couponList["+t+"]"]=e,a.setData(n),a.changeAllCoupon(e)}if(-1002==o.rt){n={};e.status=o.coupon.status,e.startTime=o.coupon.startTime,e.endTime=o.coupon.endTime,e.available=o.coupon.available,n["couponList["+t+"]"]=e,a.setData(n),a.changeAllCoupon(e)}getCurrentPages()[getCurrentPages().length-1].toast.showToast({title:o.msg,icon:"none",duration:1e3})}}))},changeAllCoupon:function(e){for(var t=getCurrentPages()[getCurrentPages().length-1].data.allCoupon,a=0;a<t.length;a++){if(t[a].id==e.id){var o={};o["allCoupon["+a+"]"]=e,getCurrentPages()[getCurrentPages().length-1].setData(o)}}}},ready:function(){this.toast=this.selectComponent("#couponToast")}})}(__hacked)})),window.define("components/modules/text/text",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api"));Component({properties:{info:Object},data:{showCopy:!1},methods:{jumpCtrl:function(e){var t=e.currentTarget.dataset.jinfo;t&&this.triggerEvent("jumpctrl",t)},copy:function(e){for(var t=this,i=e.target.dataset.content.text.nodes,s="",r=0;r<i.length;r++)s+=i[r].nodes[0].text;this.setData({showCopy:!0},(function(){n.setClipboardData({data:s,success:function(e){n.getClipboardData({success:function(e){n.showToast({title:"复制成功"}),o.logDog(7000259,0)}})}})})),a((function(){t.setData({showCopy:!1})}),1500)}}})}(__hacked)})),window.define("components/modules/bdAdComponent/bdAdComponent",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{module:{type:Object,observer:function(e,t){this.setData({apid:e.content.aId,appId:e.content.appId})}}},attached:function(){},data:{appId:"",apid:""},methods:{}})}(__hacked)})),window.define("components/modules/query/query",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e("../../../utils/api");Component({properties:{module:{type:Object,observer:function(){this.init()}},globalColor:String,inModule:{type:Boolean,value:!1}},data:{info:null,emptyText:"暂无查询项目"},methods:{init:function(){var e=this.data.module.content,t=e.info;t&&t.id?(t.queryCondition.forEach((function(e){e.value=""})),this.setData({info:t})):e.id&&-1!==e.id&&this.setData({emptyText:"查询项目已被删除"})},pickerChange:function(e){var t,a,o,n=e.target.dataset.index,i=+e.detail.value,s=this.data.info.queryCondition[n].sl[i];this.setData((o=s,(a="info.queryCondition["+n+"].value")in(t={})?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t))},showDialog:function(e){var t=getCurrentPages(),a=t[t.length-1];if(a.dialog){a.dialog.show(Object.assign({},{title:"提示",content:"",confirmButton:"确 定"},e))}},verify:function(e){for(var t=this,o=this.data.info.queryCondition,n=Object.keys(e),i=function(a){var i=n[a];if(!e[i]){var s=o.find((function(e){return e.k===i}));return t.showDialog({content:s.n+"查询项不能为空"}),{v:!1}}},s=0;s<n.length;s++){var r=i(s);if("object"===(void 0===r?"undefined":a(r)))return r.v}return!0},handlerConfirm:function(e){var t=this,a=this.data.info,o=(a.queryCondition,e.detail.value);if(1!==a.status){if(this.verify(o)){var i=this.data.info.id,s=[];Object.keys(o).forEach((function(e){s.push({key:e,value:o[e]})}));var r={itemId:i,contentList:s},l="/pages/queryResult/queryResult?query="+JSON.stringify(r);n.navigateTo({url:l,success:function(){t.clearForm()}})}}else this.showDialog({content:"抱歉，已停止查询"})},clearForm:function(){var e=this.data.info.queryCondition;e.forEach((function(e){e.value=""})),this.setData({"info.queryCondition":e})}}})}(__hacked)})),window.define("components/modules/audioList/audioList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../libs/scripts/common.js").onlyRequestForModule;Component({properties:{module:{type:Object,observer:function(){this.init()}},globalColor:String,inModule:{type:Boolean,value:!1}},data:{audioList:[]},methods:{init:function(){var e=this,t=this.data.module.content,o=t.idList,n=t.groupIdList,i=t.type;a({url:{path:"appAjax/media.jsp",cmd:"getAudioList"},resKey:"audioList",key:"audioList",callback:function(a){if(a){var s=[];if(0===i)o.forEach((function(e){var t=a.find((function(t){return t.id==e}));t&&s.push(t)}));else if(1===i){var r=n.some((function(e){return 0===e})),l=t.showLimit,d=function(e){var t=a[e];return s.length>=l?"break":t.groupIdList&&0!==t.groupIdList.length||!r?void t.groupIdList.forEach((function(e){n.some((function(t){return t==e}))&&s.push(t)})):(s.push(t),"continue")};e:for(var c=0;c<a.length;c++){switch(d(c)){case"break":break e;case"continue":continue}}}e.setData({audioList:s})}}})},gotoDetail:function(e){var t=e.currentTarget.dataset.id,a=this.data.audioList.map((function(e){return e.id})),o="?id="+t+"&idList="+JSON.stringify(a);n.navigateTo({url:"/pages/audioDetail/audioDetail"+o})}}})}(__hacked)})),window.define("components/modules/articleClass/articleClass",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{module:{type:Object,observer:function(){}},isOem:Boolean,inModule:{type:Boolean,value:!1},globalColor:String},data:{currentIndex:0,startX:0,endX:0,direction:0,moveFlag:!1,colorArray:["#2d384a","#33333b","#3b3333","#27373c","#383b33"]},methods:{touchStart:function(e){this.data.startX=e.touches[0].pageX},touchMove:function(e){this.data.endX=e.touches[0].pageX,this.data.endX-this.data.startX>100&&this.setData({direction:0,moveFlag:!0}),this.data.startX-this.data.endX>100&&this.setData({direction:1,moveFlag:!0})},touchEnd:function(e){if(this.data.moveFlag){var t=this.data.direction,a=this.data.currentIndex,o=this.data.module.content.newsGroupList;0==a&&0==t||a==o.length-1&&1==t||(0==t?a--:a++,this.setData({currentIndex:a,moveFlag:!1}))}},toggleItem:function(e){var t=e.currentTarget.dataset.index;this.setData({currentIndex:t})},toNewsDetail:function(e){var t=e.currentTarget.dataset.newsid;n.navigateTo({url:"/pages/newsDetail/newsDetail?id="+t})},toNewsPage:function(e){var t=e.currentTarget.dataset.groupid;if(void 0!==e.currentTarget.dataset.index){var a={};a["module.content.newsGroupList["+e.currentTarget.dataset.index+"].visited"]=!0,this.setData(a)}n.navigateTo({url:"/pages/news/news?id="+t})}}})}(__hacked)})),window.define("components/modules/onlineVoting/onlineVoting",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout;var a=t.setInterval,o=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api")),s=e("../../../libs/scripts/login.js");Component({properties:{module:{type:Object,observer:function(){this.init()}},inModule:{type:Boolean,value:!1},globalColor:String,votesList:{type:Object,observer:function(e,t){if(e&&t){var a=e,o=this.data.voteInfo;if(o)for(var n=0;n<a.length;n++){var i=a[n];if(i.id==o.id){this.setData({voteInfo:i});break}}}}}},data:{urlConfig:{dir:"voteResult",file:"voteResult",query:""},voteInfo:null,votesList:[],lastEndtime:{day:"00",hour:"00",minute:"00",second:"00"},promotionTimer:null,state:0,isLoading:!0},methods:{init:function(){var e=this,t=getCurrentPages()[getCurrentPages().length-1].data.votesList;if("[object Null]"==Object.prototype.toString.call(t))return getCurrentPages()[getCurrentPages().length-1].setData({votesList:-1,isLoading:!0}),void e.getVotesList();var o=0;clearInterval(o),-1==t?o=a((function(){(t=getCurrentPages()[getCurrentPages().length-1].data.votesList)instanceof Array?(e.update(),clearInterval(o)):-2===t&&clearInterval(o)}),500):t&&t.length>=0&&e.update()},getVotesList:function(){var e=this;o.getVoteList().then((function(t){t&&(getCurrentPages()[getCurrentPages().length-1].setData({votesList:t,isLoading:!1}),e.update())})).catch((function(e){console.error(e)}))},update:function(){var e=this,t=getCurrentPages()[getCurrentPages().length-1].data.votesList,a=this.data.module.content.voteId||0,o=this.data.urlConfig||{};o.query="?id="+a,this.setData({urlConfig:o,isLoading:!1});for(var n=0;n<t.length;n++)if(t[n].id==a){e.setData({voteInfo:t[n]},(function(){if(e.data.voteInfo.itemList.length){var t=e.data.voteInfo.startTime,a=e.data.voteInfo.endTime;e.promoteRunTimer(t,a)}}));break}},promoteRunTimer:function(e,t){var o=this;e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/"),clearInterval(o.data.promotionTimer);var n=o.data.lastEndtime||{},i=a((function(){var a=new Date(t.toString())-new Date,i=new Date(e.toString())-new Date;if(i>=0)return o.setData({state:0}),void clearInterval(o.data.promotionTimer);if(i<=0&&a>=0)o.setData({state:1});else if(a<=0)return o.setData({state:2}),void clearInterval(o.data.promotionTimer);var s=parseInt(a/1e3/60/60/24,10),r=parseInt(a/1e3/60/60%24,10),l=parseInt(a/1e3/60%60,10),d=parseInt(a/1e3%60,10);(s>=0||r>=0||l>=0||d>=0)&&(n.day=o.checkTime(s),n.hour=o.checkTime(r),n.minute=o.checkTime(l),n.second=o.checkTime(d),o.setData({lastEndtime:n})),s<=0&&r<=0&&l<=0&&d<=0&&(o.setData({state:2}),clearInterval(o.data.promotionTimer))}),1e3);this.setData({promotionTimer:i})},checkTime:function(e){return e<0?"00":e<10?"0"+e:e},toVoteDetail:function(e){var t=e.currentTarget.dataset.id;n.navigateTo({url:"/pages/voteDetail/voteDetail?id="+t})},beforeVote:function(e,t){var a=this,n=e.id,i={voteId:n,itemId:t};e.openVaildationCode?o.checkVote(i).then((function(e){if(e)return o.validateSign()})).then((function(e){if(e){var o=e.code||"",i=e.sign||"",s=parseInt(1e3*Math.random()),r=e.wxappDomainUrl+"validateCode.jsp?"+s+"&code="+encodeURIComponent(o);a.setData({showModal:!0,wxappDomainUrl:e.wxappDomainUrl,picCodeUrl:r,code:o,sign:i,voteId:n,itemId:t})}})):a.vote(i)},voteHandler:function(e){var t=this,a=e.currentTarget.dataset.vote||{},o=e.currentTarget.dataset.itemid,n=i().globalData.openId;n?t.beforeVote(a,o):s.initUserInfo(!1,(function(){(n=i().globalData.openId)&&t.beforeVote(a,o)}))},vote:function(e){var t=e.voteId||0,a=e.itemId||0;return new Promise((function(n,i){o.vote(e).then((function(e){if(e){o.logDog(7000180,1),getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"提示",content:e,confirmButton:"确 定"});for(var i=getCurrentPages()[getCurrentPages().length-1].data.votesList,s=0;s<i.length;s++){var r=i[s];if(r.id==t){for(var l=0;l<r.itemList.length;l++)if(r.itemList[l].id==a){var d={},c="votesList["+s+"].itemList["+l+"].count";d[c]=r.itemList[l].count+1,d[c="votesList["+s+"].itemList["+l+"].voted"]=!0,getCurrentPages()[getCurrentPages().length-1].setData(d);break}break}}n(e)}}))}))},preventTouchMove:function(){},hideModal:function(){this.setData({showModal:!1,picCodeErr:!1})},onConfirm:function(){var e=this,t=this.data.picCodeVal;if(t)if(4==t.length){var a={validateCode:t,validateSign:e.data.sign,voteId:e.data.voteId,itemId:e.data.itemId};e.vote(a).then((function(t){t&&e.setData({showModal:!1,picCodeErr:!1})}))}else e.setData({picCodeErr:!0,picCodeErrText:"图片验证码输入错误，请重新输入"});else e.setData({picCodeErr:!0,picCodeErrText:"请填图片验证码！"})},picCodeIput:function(e){this.setData({picCodeVal:e.detail.value})},changePicCode:function(e){var t=this;o.validateSign().then((function(e){if(e){var a=e.code||"",o=e.sign||"",n=parseInt(1e3*Math.random()),i=e.wxappDomainUrl+"validateCode.jsp?"+n+"&code="+encodeURIComponent(a);t.setData({picCodeUrl:i,code:a,sign:o})}}))}}})}(__hacked)})),window.define("components/modules/messageBoard/messageBoard",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api"),e("../../../utils/util");Component({properties:{module:{type:Object,observer:function(){}},globalColor:{type:String,observer:function(e,t){}},messagePropList:{type:Object,observer:function(e,t){}},inModule:Boolean},data:{},methods:{}})}(__hacked)})),window.define("components/modules/map/map",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../utils/api"),o=e("../../../utils/util");Component({properties:{module:{type:Object,observer:function(){this.initData()}},inModule:Boolean},data:{latitude:23.099994,longitude:113.32452,userLat:0,userLng:0,markers:[],address:"",mapHeightStyle:""},methods:{initData:function(){var e=this.data.module,t=e.content,a=e.pattern,o={};a&&(o.address=t.city+t.addr,o.mapHeightStyle=1===a.ht.t?"height: "+2*a.ht.n+"rpx;":"",this.setData(o),o.address&&this.initAddress(),t.sd&&t.gup&&this.getUserLocation(),this.initMarkers())},initAddress:function(){var e=this,t=this.data.module,o=t.content,n=(t.pattern,o.city+o.addr);a.getLocationByAddr((function(t){t&&(e.setData({latitude:t.lat,longitude:t.lng}),e.initMarkers())}),n)},initMarkers:function(){var e=this.data.module,t=e.content,a={color:"#333333",bgColor:"#ffffff",borderRadius:4,padding:10,display:"ALWAYS"},o=[{id:e.id,content:"",latitude:this.data.latitude,longitude:this.data.longitude}];t.mark&&(a.content=t.mark,o[0].callout=a),this.setData({markers:o})},getUserLocation:function(){var e=this;o.promisify(n.getLocation)({type:"gcj02"}).then((function(t){var a=e.data.latitude,o=e.data.longitude,n=t.latitude,i=t.longitude,s=e.getDistance(a,o,n,i),r="";r=s<1?((s*=1e3)<100?100:s)+"m":(s>100?100:s)+"km",e.setData({userLat:t.latitude,userLng:t.longitude,distanceStr:r})})).catch((function(e){console.log(e),console.log("get location Erro -- "+e)}))},getDistance:function(e,t,a,o){var n=e*Math.PI/180,i=a*Math.PI/180,s=n-i,r=t*Math.PI/180-o*Math.PI/180,l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(n)*Math.cos(i)*Math.pow(Math.sin(r/2),2)));return l*=6378.137,l=(l=Math.round(1e4*l)/1e4).toFixed(1)},turntoAddress:function(){a.reportVisitorBehavior({type:22}),n.openLocation({latitude:this.data.latitude,longitude:this.data.longitude,name:this.data.address})},makePhoneCall:function(){a.reportVisitorBehavior({type:23});var e=this.data.module.content.p;e&&n.makePhoneCall({phoneNumber:e})},markertap:function(e){console.log(e)},callouttap:function(e){console.log(e),this.turntoAddress()}}})}(__hacked)})),window.define("components/modules/marquee/marquee",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;Component({properties:{module:{type:Object,observer:function(e){}}},data:{marquee_margin:24,size:12,animationData:{}},methods:{jumpCtrl:function(e){var t=e.currentTarget.dataset.jinfo;t&&this.triggerEvent("jumpctrl",t)},marqueeAnimation:function(){var e=this.data.length||0,t=20*e,a=n.createAnimation({duration:t,timingFunction:"linear"});this.animation=a,a.translateX(-e).step(),this.setData({animationData:a.export()})},transitionend:function(e){var t=this,a=t.data.windowWidth||0,o=n.createAnimation({duration:0,timingFunction:"linear"});t.animation=o,o.translateX(a).step(),t.setData({animationData:o.export()},(function(){t.marqueeAnimation()}))}},ready:function(){for(var e=this.data.module.content.bl||[],t=0,a=0;a<e.length;a++)t+=e[a].c.length;if(0!=t){var o=n.getSystemInfoSync().windowWidth,i=t*this.data.size+e.length*this.data.marquee_margin;this.setData({length:i,windowWidth:o}),this.marqueeAnimation()}}})}(__hacked)})),window.define("components/newcomerPopup/newcomerPopup",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../libs/scripts/common");var a=e("../../utils/api.js"),o=i();Component({properties:{userInfo:{type:Object,value:{},observer:function(e,t){this.init()}},personalApp:Boolean,activity:{type:Object,value:{},observer:function(e,t){this.init()}}},data:{namePlaceholder:"请输入您的姓名",userName:"",inputNmae:"",phonePlaceholder:"凭手机号码领取优惠券",userPhone:"",inputPhone:"",inputNameFocus:!1,inputPhoneFocus:!1,activity:{}},methods:{_catchTouch:function(){},show:function(){this.setData({phonePlaceholder:2==this.data.activity.type?"凭手机号码领取礼品":"凭手机号码领取优惠券"}),this.setData({isShow:!0,inputPhoneFocus:!1}),a.logDog(7000203,0)},closePopup:function(e){this.setData({isShow:!1}),getCurrentPages()[getCurrentPages().length-1].sideBar.showNewcomerIcon(),e&&a.logDog(7000203,2)},receiveHandler:function(){if(i().globalData.extConfigData.isModel)n.showModal({title:"",showCancel:!1,content:"模板预览状态，不支持领取",success:function(e){}});else{var e,t=this,s=this.data.userName,r=this.data.userPhone;if(this.data.userName==this.data.namePlaceholder&&(s=""),this.data.userPhone==this.data.phonePlaceholder&&(r=""),""==s)return e="姓名",void n.showModal({title:"",showCancel:!1,content:e+"不能为空",success:function(e){}});if(""==r)return e="手机号码",void n.showModal({title:"",showCancel:!1,content:e+"不能为空",success:function(e){}});if(11==r.length&&/^[0-9]*$/.test(r)){var l={name:s,phone:r,giftId:o.globalData.wxappInfo.gift?o.globalData.wxappInfo.gift.id:null};a.addGiftRecord(l).then((function(e){e.success&&(getCurrentPages()[getCurrentPages().length-1].dialog.changeColor("#EC3846"),getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"领取成功",content:"我们将尽快与您取得联系",confirmButton:"确 认",callback:function(){t.setData({isShow:!1});var e=getCurrentPages()[getCurrentPages().length-1];e.sideBar.hideNewcomerIcon(),e.dialog.changeColor(cacheColor),a.logDog(7000203,1)}}))}))}else n.showModal({title:"",showCancel:!1,content:"手机号码格式错误",success:function(e){}})}},showRule:function(){var e=i().globalData.globalColor;getCurrentPages()[getCurrentPages().length-1].dialog.changeColor("#EC3846"),getCurrentPages()[getCurrentPages().length-1].dialog.show({title:"活动说明",content:this.data.activity.rule,confirmButton:"确 认",callback:function(){getCurrentPages()[getCurrentPages().length-1].dialog.changeColor(e)}}),a.logDog(7000203,4)},tapNameInput:function(){this.setData({inputNameFocus:!0,inputName:this.data.userName==this.data.namePlaceholder?"":this.data.userName})},blurNameInput:function(e){this.setData({userName:e.detail.value,inputNameFocus:!1})},tapPhoneInput:function(){this.setData({inputPhoneFocus:!0,inputPhone:this.data.userPhone==this.data.phonePlaceholder?"":this.data.userPhone})},blurPhoneInput:function(e){this.setData({inputPhoneFocus:!1,userPhone:e.detail.value})},hideAll:function(){this.setData({isShow:!1});var e=getCurrentPages()[getCurrentPages().length-1];e.sideBar&&e.sideBar.hideNewcomerIcon()},init:function(){var e=this,t=this.data.activity||{};this.data.userInfo.openId&&null!=this.data.personalApp&&t.id&&a.checkUserPhoneExisted().then((function(t){t&&t.success&&!t.phoneExisted?(e.setData({activity:e.data.activity}),o.globalData._hasNewcomerPopup?e.closePopup():(o.globalData._hasNewcomerPopup=!0,e.show())):e.hideAll()}))},inputNameHandler:function(e){var t=e.detail.value;this.setData({userName:t})},inputPhoneHandler:function(e){var t=e.detail.value;this.setData({userPhone:t})},setActivity:function(e){e&&this.setData({activity:e})}}})}(__hacked)})),window.define("pages/index/toolTip/toolTip",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../../utils/api"),o=i();Component({properties:{isFree:{type:Boolean,value:!1,observer:function(){this.exposure()}},isOem:Boolean},data:{isHide:!1,isModel:!0},ready:function(){o.globalData._hasCancelAd?this.setData({isHide:!0}):(this.setData({isModel:!!o.globalData.extConfigData.isModel}),this.exposure())},methods:{viewHandler:function(){a.logVisitDog(7000165,5),n.navigateTo({url:"../../pages/advertising/advertising?ori=1"})},cancelHandler:function(){this.setData({isHide:!0}),o.globalData._hasCancelAd=!0},exposure:function(){!this.data.isFree||this.data.isOem||this.data.isModel||this.data.isHide||a.logVisitDog(7000165,2)}}})}(__hacked)})),window.define("pages/index/cardEntrance/cardEntrance",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../../utils/api"));Component({properties:{isShow:{type:Boolean,value:!1,observer:function(e,t){var a=this;o.logDog("7000083",0),this.data.cardEntranceInfo&&e&&this.setData({canShow:!0},(function(){a.show()}))}}},data:{canShow:!1,animationData:{},cardEntranceType:0,cardEntranceInfo:null,hasCloseCard:!1},methods:{backCardPage:function(){o.logDog("7000083",1);var e="/pages/card/card?id="+this.data.cardEntranceInfo.id;e=e+"&type="+this.data.cardEntranceType,n.navigateTo({url:e})},closeCardEntrance:function(){o.logDog("7000083",2),this.setData({hasCloseCard:!0})},show:function(){var e=this,t=n.createAnimation({duration:1e3,timingFunction:"ease"});t.opacity(1).translateY(25).step(),n.nextTick?n.nextTick((function(){e.setData({animationData:t.export()})})):a((function(){e.setData({animationData:t.export()})}),0)}},ready:function(){var e=this,t=this,a=i().globalData,n=a._cardEntranceData;if(void 0!==n){var s={cardEntranceType:0,cardEntranceInfo:{id:n.id,avatorUrl:n.avator}};this.setData(s,(function(){e.data.isShow&&e.show()})),delete a._cardEntranceData}else{a.userInfo&&o.getVisitedSimpleInfo((function(e){if(void 0!==e.id){var a={cardEntranceType:1,cardEntranceInfo:{id:e.id,name:e.name,avatorUrl:e.avatorUrl}};t.setData(a,(function(){t.data.isShow&&t.show()}))}}))}}})}(__hacked)})),window.define("pages/index/index",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i()),s=(e("../../utils/api"),e("../../libs/scripts/col")),r=e("../../libs/scripts/common");Page(Object.assign({},r,s,{props:{isIndexCol:!0}},{data:{pageScrollTop:0,showCardEntrance:!1,cardEntranceTimer:0,btnText:"创建小程序",pathUrl:""},onPageScroll:function(e){var t=this;clearTimeout(this.data.cardEntranceTimer),this.data.cardEntranceTimer=a((function(){t.canShowCardEntrance()&&(t.data.pageScrollTop>e.scrollTop+50&&t.setData({showCardEntrance:!0}),t.data.pageScrollTop=e.scrollTop)}),100)},onReachBottom:function(){this.canShowCardEntrance()&&this.setData({showCardEntrance:!0})},canShowCardEntrance:function(){var e=!1;return o.globalData.wxappInfo&&o.globalData.wxappInfo.cardShowSetting&&(e=!!o.globalData.wxappInfo.cardShowSetting.hc),!e&&!this.data.showCardEntrance},jumpTemplate:function(){n.reLaunch({url:"/pages/templateCenter/templateCenter?isManage=true"})}}))}(__hacked)})),window.define("pages/cusCol/cusCol",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/col"),o=e("../../libs/scripts/common");Page(Object.assign({},o,a,{props:{isCusCol:!0}}))}(__hacked)})),window.define("pages/cusCol1/cusCol1",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/col"),o=e("../../libs/scripts/common");Page(Object.assign({},o,a,{props:{isTabBarCol:!0,tabBarColIndex:0}}))}(__hacked)})),window.define("pages/cusCol2/cusCol2",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/col"),o=e("../../libs/scripts/common");Page(Object.assign({},o,a,{props:{isTabBarCol:!0,tabBarColIndex:1}}))}(__hacked)})),window.define("pages/cusCol3/cusCol3",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/col"),o=e("../../libs/scripts/common");Page(Object.assign({},o,a,{props:{isTabBarCol:!0,tabBarColIndex:2}}))}(__hacked)})),window.define("pages/cusCol4/cusCol4",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/col"),o=e("../../libs/scripts/common");Page(Object.assign({},o,a,{props:{isTabBarCol:!0,tabBarColIndex:3}}))}(__hacked)})),window.define("pages/card/card",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api")),s=(e("../../libs/scripts/login"),e("../../libs/scripts/common")),r=e("../../libs/wxParse/wxParse.js"),l=e("../../utils/util.js").promisify,d=i();Page(Object.assign({},s,{data:{globalColor:"",activeIndex:0,aboutInfo:"",showCardCanvas:!1,footerData:{},visitorTipFlag:!0,fadeShowFlag:!1,visitedList:[]},bindHandler:function(e,t){var a=this,i=d.globalData,s=(i.extConfigData,this.data.cardInfo.name);o.issueRequest({url:{path:"wxAppConnectionCard.jsp",cmd:"checkQRCodeValidity"},data:{cardId:e,createTime:t}}).then((function(t){t.success?a.modalPopup.show({content:"将您的微信与“"+s+"”的名片进行绑定",showCancel:!0,isLogin:!0,success:function(t){t.confirm&&(t.data&&!t.data.success?n.showModal({title:"警告",content:"您点击了拒绝授权，将无法进行名片绑定。",showCancel:!1,confirmText:"确定"}):o.issueRequest({url:{path:"wxAppConnectionCard.jsp",cmd:"bindWechatInfo"},data:{cardId:e,openId:i.openId},method:"POST"}).then((function(e){var t=void 0,i=void 0;if(e.success){o.logDog(7000115,4),t="绑定成功",i="success";var s={"footerData.share.show":!1,"footerData.button.custom":!0};a.setData(s)}else t="绑定失败",i="none";n.showToast({title:t,icon:i,duration:2e3,mask:!0})})))}}):function(e){var t="";switch(e){case-1:t="找不到该名片";break;case-2:t="该名片已经被绑定，请联系管理员。";break;case-3:t="该绑定码已经失效，请联系管理员获取新绑定码。"}n.showModal({title:"",confirmText:"我知道了",content:t,showCancel:!1})}(t.errCode)}))},initPureData:function(){var e=this;this.screenWidth=0,this.modalPopup=null,this.isCardManager=!1,this.canvasAvatorUrl="",this.canvasQrCodeUrl="",n.getSystemInfo({success:function(t){e.screenWidth=t.screenWidth}})},init:function(e,t){var a,s,l=this,d=i().globalData,c=this;return n.showLoading({title:"加载中",mask:!0}),a=o.issueRequest({url:{cmd:"getCardConfig"}}),s=o.getCardInfo(e,t),Promise.all([a,s]).then((function(e){var t=e[0].cardConfig,a=e[1].data,o={globalColor:d.globalColor},i="我的公司";if(t&&(n.setNavigationBarTitle({title:t.cn}),o.corpName=t.cn,i=2===t.bt?t.cbt:0==t.bt?"我的公司":"我的门店"),a){var s=a.cardInfo,u=a.cardList;void 0!==u&&(o.visitedList=u),s.avatorUrl||(s.avatorUrl="http://qz.faisys.com/image/wxImage/head.png"),s.about&&r.wxParse("aboutInfo","html",s.about,c,5),s.phone||s.email||s.addr||s.wechatId||l.setData({activeIndex:1}),o.cardInfo=s,a.isCardManager&&(l.isCardManager=!0)}var p=void 0;p=l.isCardManager?{home:{show:!0,text:i,order:0,logDog:{id:"7000059",srcId:14}},button:{show:!0,custom:!0}}:{share:{show:!0,order:0,logDog:{id:"7000059",srcId:15}},home:{show:!0,text:i,order:1,logDog:{id:"7000059",srcId:14}},button:{show:!0,text:"保存到通讯录"}},o.footerData=p,l.setData(o,(function(){n.hideLoading(),l.showVisitorTip()})),n.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:o.globalColor})}))},switchNav:function(e){var t=e.target.dataset.index;0==t?o.logDog(7000059,12):o.logDog(7000059,13),this.data.activeIndex!=t&&this.setData({activeIndex:t})},saveToContact:function(){o.logDog(7000059,8);var e=this.data.cardInfo;n.addPhoneContact({firstName:e.name,mobilePhoneNumber:e.phone,weChatNumber:e.wechatId,organization:this.data.corpName,title:e.job,success:function(t){n.showToast({title:"保存成功",icon:"success",duration:1e3}),o.reportVisitorBehavior({type:19,relationId:e.id})}})},gotoHome:function(){var e=this.data.cardInfo;d.globalData._cardEntranceData={id:e.id,avator:e.avatorUrl}},makePhoneCall:function(){o.logDog(7000059,6),o.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:this.data.cardInfo.phone,success:function(){o.logDog(7000059,7)}})},copyInfo:function(e){var t=e.target.dataset.type;if(void 0!==t){var a="",i="",s=this.data.cardInfo;0==t?(o.logDog(7000059,9),a="复制邮件地址",i=s.email):1==t&&(o.logDog(7000059,11),a="复制微信号",i=s.wechatId,o.reportVisitorBehavior({type:20,relationId:s.id})),n.showActionSheet({itemList:[a],success:function(e){n.setClipboardData({data:i,success:function(e){n.showToast({title:"复制成功",icon:"success",duration:1e3})}})}})}},openMap:function(){o.logDog(7000059,10),o.getLocationFromBaidu(this.data.cardInfo.addr)},hideShareMyCard:function(){this.setData({showCardCanvas:!1})},shareMyCard:function(){o.logDog(7000081,5),o.logDog(7000059,4),this.initCanvas()},initCanvas:function(){var e=this;n.showLoading({title:"加载中",mask:!0});var t=this.data,a=this.screenWidth,o=d.globalData.extConfigData,i=a/375,s=t.cardInfo,r=o.wxappDomainUrl,c=this.canvasAvatorUrl,u=this.canvasQrCodeUrl;if(this.canvasAvatorUrl&&this.canvasQrCodeUrl)g.call(this);else{var p=l(n.downloadFile);p({url:r+"/wxAppImgTransfer.jsp?imgUrl="+s.avatorUrl}).then((function(t){if(200!=t.statusCode)throw new Error("download avator url fail in init canvas");return e.canvasAvatorUrl=c=t.tempFilePath,p({url:r+"/bdAppQRCode.jsp?wxappAid="+o.wxappAid+"&wxappId="+o.wxappId+"&type=cardQrCode&cardId="+s.id})})).then((function(t){if(200!=t.statusCode)throw new Error("download qr code fail in init canvas");e.canvasQrCodeUrl=u=t.tempFilePath,g.call(e)})).catch((function(e){console.error(e),n.hideLoading()}))}function g(){this.setData({showCardCanvas:!0},(function(){!function(e){var a=n.createCanvasContext("myCanvas"),o=345*i,r=460*i,l=0,d=15*i;(function(e,t,a,o,n,i){var s=Math.min(o,n);i>s/2&&(i=s/2);e.beginPath(),e.moveTo(t+i,a),e.lineTo(t+o-i,a),e.arc(t+o-i,a+i,i,1.5*Math.PI,0*Math.PI),e.lineTo(t+o,a+n-i),e.arc(t+o-i,a+n-i,i,0*Math.PI,.5*Math.PI),e.lineTo(t+i,a+n),e.arc(t+i,a+n-i,i,.5*Math.PI,1*Math.PI),e.lineTo(t,a+i),e.arc(t+i,a+i,i,1*Math.PI,1.5*Math.PI),e.closePath()})(a,0,0,o,r,6*i),a.setFillStyle("#ffffff"),a.fill(),a.setFontSize(16*i),a.setFillStyle("#999999"),l=f(t.corpName,d,38*i,20*i,250*i,a),l+=45*i,a.setFontSize(22*i),a.setFillStyle("#333333"),l=function(e,t,a,o,n,i){var s=Math.floor(n/o);e.length>s&&(e=e.substr(0,s-1)+"...");return i.fillText(e,t,a),a}(s.name,d,l,22*i,265*i,a),s.job.length>0&&(l+=26*i,a.setFontSize(12*i),a.setFillStyle("#999999"),a.fillText(s.job,d,l));a.drawImage(c,284*i,20*i,46*i,46*i),s.phone.length>0&&(l+=35*i,a.setFontSize(13*i),a.setFillStyle("#999999"),a.fillText(s.phone,d,l));s.email.length>0&&(l+=20*i,a.setFontSize(13*i),a.setFillStyle("#999999"),a.fillText(s.email,d,l));s.addr.length>0&&(l+=20*i,a.setFontSize(13*i),a.setFillStyle("#999999"),l=f(s.addr,d,l,18*i,320*i,a));l<.4*r&&(l=.4*r);l+=15*i,a.setLineWidth(1),a.setLineDash([2,5]),a.setStrokeStyle("#eeeeee"),a.beginPath(),a.moveTo(12*i,l),a.lineTo(330*i,l),a.closePath(),a.stroke(),a.beginPath(),a.arc(0,l,8*i,0,2*Math.PI),a.closePath(),a.setFillStyle("#808080"),a.fill(),a.beginPath(),a.arc(o,l,8*i,0,2*Math.PI),a.closePath(),a.setFillStyle("#808080"),a.fill(),l+=18*i,a.setFillStyle("#000000"),a.drawImage(u,(o-160*i)/2,l,160*i,160*i),l+=185*i,a.setFontSize(13*i),a.setFillStyle("#656565"),a.fillText("长按识别小程序码，马上认识我",(o-13*i*14)/2,l),a.draw(),e()}((function(){n.hideLoading()}))}))}function f(e,t,a,o,n,i){if(0!==e.length){var s=i.measureText(e).width,r=void 0,l=void 0;if(s>n?(r=Math.ceil(s/n),l=(n/s).toFixed(2)):r=1,1==r)return i.fillText(e,t,a),a;if(r>=2){var d=e.substr(0,e.length*l);if(i.fillText(d,t,a),2==r)i.fillText(e.substr(d.length),t,a+o);else{var c=e.substr(d.length,e.length*l-1);c+="...",i.fillText(c,t,a+o)}return a+o}}}},savePic:function(){o.logDog(7000059,5);var e=this;n.canvasToTempFilePath({width:500,height:1e3,canvasId:"myCanvas",success:function(t){n.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){n.showToast({title:"保存成功"}),e.setData({showCardCanvas:!1})}})}})},viewMyAvator:function(){o.logDog(7000059,2);var e=this.data.cardInfo.avatorUrl;e&&n.previewImage({current:e,urls:[e]})},showVisitorTip:function(){var e=this;a((function(){e.setData({fadeShowFlag:!0}),a((function(){e.setData({visitorTipFlag:!1})}),2e3)}),2e3)},visitHandler:function(e){var t=e.target.dataset.cid;n.navigateTo({url:"/pages/card/card?id="+t})},onLoad:function(e){this.options=e,this.initPureData(),this.getWXAppInfo(this),o.reportVisitorBehavior({relationId:e.id})},afterGetWXAppInfo:function(e){var t=this,a=e.options,o=e.cardId=a.id,i=a.type,s=i&&"cardBindQrCode"==i;e.init(o,i).then((function(){s&&e.isCardManager?n.showModal({content:"您已绑定该名片",confirmText:"我知道了",showCancel:!1}):s&&t.bindHandler(o,a.createTime)}))},onShow:function(){var e=this;o.logDog(7000059,0),o.logDog(7000090,2);d.globalData.visitorId;this.visitTimer=a((function(){o.reportVisitorBehavior({type:9,relationId:e.data.cardId})}),6e4)},onHide:function(){this.visitTimer&&clearTimeout(this.visitTimer)},onUnload:function(){this.visitTimer&&clearTimeout(this.visitTimer)},onReady:function(){this.modalPopup=this.selectComponent("#modal-popup")},onPullDownRefresh:function(){var e=this;e.data.showCardCanvas?n.stopPullDownRefresh():o.getWXAppInfo().then((function(){e.initWXAppInfo(e),n.stopPullDownRefresh()}))},onShareAppMessage:function(){o.logDog(7000081,0),o.logDog(7000081,9),o.reportVisitorBehavior({type:27,relationId:this.cardId});var e=this.beforeShareAppMessage({params:"id="+this.cardId}),t={title:this.data.corpName};return Object.assign(t,e)}}))}(__hacked)})),window.define("pages/book/book",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=e("../../libs/scripts/common");Page(Object.assign({},o,{data:{bookGroupInfoMap:{},currentGroupId:0,showAllCateFlag:!1,scrollTarget:null,animationData:{},smallMode:!1,customImageStyle:"",imageScaleMode:"scaleToFill",isLoading:!0,couponParams:{}},initPureData:function(){this.colTitle=""},initBookColInfo:function(e){var t=e.name||"预约";n.setNavigationBarTitle({title:t}),this.colTitle=t},toBookDetail:function(e){var t=e.currentTarget.dataset.bid;n.navigateTo({url:"/pages/bookDetail/bookDetail?bookId="+t})},switchNav:function(e){var t=this,o=e.target.dataset.gid;void 0!==o&&o!=this.data.currentGroupId&&(this.setData({currentGroupId:o}),this.data.showAllCateFlag&&(this.closeCateDrawer(),this.setData({scrollTarget:"nav"+o})),0!=o&&(0!==this.data.bookGroupInfoMap[o].length||this.data.couponParams.couponId?a.getBookListByGroupId(o,0,this.data.couponParams).then((function(e){if(!e||e.rtbookInfoList&&0===e.rtbookInfoList.length)t.setData({isLoading:!1});else{e.rtbookInfoList;var a={};a["bookGroupInfoMap."+o]=e.rtbookInfoList,a.isLoading=!1,t.setData(a)}})):(this.setData({isLoading:!0}),a.getBookListByGroupId(o).then((function(e){if(!e||e.rtbookInfoList&&0===e.rtbookInfoList.length)t.setData({isLoading:!1});else{e.rtbookInfoList;var a={};a["bookGroupInfoMap."+o]=e.rtbookInfoList,a.isLoading=!1,t.setData(a)}})))))},showAllCate:function(){this.setData({showAllCateFlag:!0})},closeCateDrawer:function(){this.setData({showAllCateFlag:!1})},onLoad:function(e){var t=this,o=(i().globalData.wxappInfo,this);if(this.initPureData(),o.getWXAppInfo(o),a.getWXAppColModuleInfo(3).then((function(e){o.initBookColInfo(e)})),e.couponParams){var n=JSON.parse(e.couponParams);if(this.setData({couponParams:n,isLoading:!1}),1==n.jumpto)a.getBookInfoList(0,n).then((function(a){if(a){var n=a.rtbookInfoList,i=a.bookGroupList;i&&i.length>0&&i.unshift({id:0,name:"全部"});var s=t.data.bookGroupInfoMap;s[0]=n;for(var r=1;r<i.length;r++)s[i[r].id]=[];if(t.setData({groupList:i,bookGroupInfoMap:s,isLoading:!1}),e.id){var l={target:{dataset:{gid:""}}};l.target.dataset.gid=e.id,o.switchNav(l)}}}));else{var s=n.groupIdList[0];a.getBookListByGroupId(s,0,n).then((function(e){if(e&&(!e.rtbookInfoList||0!==e.rtbookInfoList.length)){var a=e.rtbookInfoList,o=[],n=t.data.bookGroupInfoMap;n[0]=a;for(var i=1;i<o.length;i++)n[o[i].id]=[];t.setData({groupList:o,bookGroupInfoMap:n,isLoading:!1})}}))}}else a.getBookInfoList(0).then((function(a){if(a){var n=a.rtbookInfoList,i=a.bookGroupList;i&&i.length>0&&i.unshift({id:0,name:"全部"});var s=t.data.bookGroupInfoMap;s[0]=n;for(var r=1;r<i.length;r++)s[i[r].id]=[];if(t.setData({groupList:i,bookGroupInfoMap:s,isLoading:!1}),e.id){var l={target:{dataset:{gid:""}}};l.target.dataset.gid=e.id,o.switchNav(l)}}}));a.reportVisitorBehavior()},onShow:function(){a.logDog(7000090,4)},onShareAppMessage:function(){a.logDog(7000081,0),a.logDog(7000081,11);i().globalData.wxappInfo;var e=this.colTitle;return a.reportVisitorBehavior({type:24,relationId:3}),{title:e}},onPullDownRefresh:function(){var e=this,t=this.data.currentGroupId,o=this;n.showLoading({title:"加载中",mask:!0}),i().globalData.isManage&&this.setData({showActionSheet:!1});var s=void 0;s=0===t?this.data.couponParams.couponId?a.getBookInfoList(0,this.data.couponParams):a.getBookInfoList(0):this.data.couponParams.couponId?a.getBookListByGroupId(t,0,this.data.couponParams):a.getBookListByGroupId(t),a.getWXAppInfo().then((function(){o.initWXAppInfo(o)})),s.then((function(a){if(!a||a.rtbookInfoList&&0===a.rtbookInfoList.length)return n.hideLoading(),void n.stopPullDownRefresh();var i={};if(a.bookGroupList&&!e.data.couponParams.couponId){var s=a.bookGroupList;s.unshift({id:0,name:"全部"}),i["groupList"]=s}i["bookGroupInfoMap."+t]=a.rtbookInfoList,o.setData(i,(function(){n.hideLoading(),n.stopPullDownRefresh()}))}))},afterGetWXAppInfo:function(e){var t=i().globalData.wxappInfo.bookSetting,a=0==t.bsp.is?"scaleToFill":1==t.bsp.is?"aspectFill":"aspectFit";e.setData({bookSetting:t,smallMode:!(1!=t.bsp.s),customImageStyle:1==t.bsp.ht.t?2*t.bsp.ht.n:0,random:Math.random(),imageScaleMode:a})},onReachBottom:function(e){var t=this,o=this.data.currentGroupId,n=this.data.bookGroupInfoMap[o],i=n.length;if(0!=i){(0===o?this.data.couponParams.couponId?a.getBookInfoList(i,this.data.couponParams):a.getBookInfoList(i):this.data.couponParams.couponId?a.getBookListByGroupId(o,i,this.data.couponParams):a.getBookListByGroupId(o,i)).then((function(e){if(e&&(!e.rtbookInfoList||0!==e.rtbookInfoList.length)){var a={};a["bookGroupInfoMap."+o]=n.concat(e.rtbookInfoList),t.setData(a)}}))}}}))}(__hacked)})),window.define("pages/bookDetail/bookDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../libs/wxParse/wxParse.js")),s=e("../../utils/api"),r=(e("../../utils/util"),e("../../libs/scripts/common")),l=i();Page(Object.assign({},r,{data:{bookInfo:{},bookInfoContent:"",showSharePanel:!1,showPhone:!1,showShare:!1,isPackUp:!1,panelCouponList:[],currentMode:0,setting:{pl:{t:0,k:0,ti:""},pu:{t:0,v:""}}},onReady:function(){this.toast=this.selectComponent("#toast"),this.couponPanel=this.selectComponent("#couponPanel"),this.dialog=this.selectComponent("#dialog")},onLoad:function(e){var t=this,a=e.bookId;t.setData({bookId:a}),t.getWXAppInfo(t),l.globalData.formItem&&l.globalData.shareWXMoment?t.setBookExtInfo():s.getBookExtInfo().then((function(){t.setBookExtInfo()})),s.reportVisitorBehavior({relationId:a})},onShow:function(){var e=this;s.logDog(7000090,1);l.globalData.visitorId;this.visitTimer=a((function(){s.reportVisitorBehavior({type:10,relationId:e.data.bookId})}),6e4)},onHide:function(){this.visitTimer&&clearTimeout(this.visitTimer)},onUnload:function(){this.visitTimer&&clearTimeout(this.visitTimer)},afterGetWXAppInfo:function(e){e.initBookDetailInfo(e)},initBookDetailInfo:function(e){var t=e.data.bookId,a=l.globalData.wxappInfo.bookSetting;s.getBookInfo({bookId:t}).then((function(t){if(t){var n=t;l.globalData.bookInfoDetail=n;var i=n.content,s=!0;i?(o.wxParse("bookInfoContent","html",i,e,5,!0),s=!1):1==n.setting.fdl.s&&n.setting.fdl.fileList.length>0&&(s=!1);var r,d,c=l.globalData.wxappInfo,u=e.data.flag?e.data.flag:c.flag,p=1==n.status||0==n.surplus&&n.isLimit?"#d4d4d4":"",g=n.setting,f={wechat:{show:u.bookNavWXCusShow,order:0},phone:{show:g.cs.po,val:g.cs.p,order:1},address:{show:g.cs.ao,val:g.cs.prov+g.cs.addr,order:2},button:{show:!0,text:1==n.status?"已下架":a.bt,bgc:p}},h=n.couponList,m=h.filter((function(e){return 0==e.status}));if(m.length>0)d=m,r="您有"+m.length+"张优惠券可领取";else{var b=h.filter((function(e){return 3==e.status}));d=b,r="您已领取"+b.length+"张优惠券"}e.setData({bookSetting:a,footerData:f,bookInfo:n,bookInfoEmpty:s,setting:n.setting,panelCouponList:d,couponText:r})}})).catch((function(e){console.log(e)}))},setBookExtInfo:function(){var e=l.globalData.formItem,t=l.globalData.shareWXMoment;this.setData({formItem:e,shareWXMoment:t})},toOrder:function(e){var t=this,o=this,i=this.data.bookId;if(this.data.bookInfo.specificationOpen){if(1==this.data.bookInfo.status||0==this.data.bookInfo.surplus&&this.data.bookInfo.isLimit)return;s.logDog(7000372,0),(this.data.serviceStandardPanel?this.data.serviceStandardPanel:this.selectComponent("#servicepanel")).toggleStatus()}else s.getBookInfo({bookId:i}).then((function(e){if(e&&(o.setData({bookInfo:e}),1!=e.status))if(0==e.surplus&&e.isLimit)a((function(){o.toast.showToast({title:"抱歉，该服务已告罄！",icon:"none",duration:2e3})}),0);else if(0!=e.limitNum){l.globalData.bookInfoDetail&&(l.globalData.bookInfoDetail.couponList=e.couponList);e.openBookTime;n.navigateTo({url:"/pages/orderDetail/orderDetail?bookId="+i})}else t.dialog.show({title:"提示",content:e.setting.pl.ti,confirmButton:"确 定"})})).catch((function(e){console.log(e)}))},showShareChoosePanel:function(){var e=n.createAnimation({duration:200,timingFunction:"linear",delay:0});this.animation=e,this.setData({animationData:e.export(),showModalStatus:!0}),this.setData({animationData:e.export()})},hideShareChoosePanel:function(){var e=n.createAnimation({duration:200,timingFunction:"linear",delay:0});this.animation=e,this.setData({animationData:e.export()}),a(function(){this.setData({animationData:e.export(),showModalStatus:!1})}.bind(this),200)},hideSharePanel:function(){this.setData({showSharePanel:!1})},showSharePanel:function(){s.logDog(7000081,4),n.showLoading({});var e;e=n.getSystemInfoSync().screenWidth;var t=this,a=t.data.bookInfo,o=l.globalData.extConfigData,i=o.wxappDomain,r=o.wxappAid,d=o.wxappId,c=e/375,u=l.globalData.globalColor,p=t.data.setting,g=l.globalData.wxappInfo.bookSetting;i=i.substring(0,i.lastIndexOf("/")),n.downloadFile({url:i+"/wxAppImgTransfer.jsp?imgUrl="+a.pic.url,success:function(e){var o=e.tempFilePath;n.downloadFile({url:i+"/wxAppQRCode.jsp?wxappAid="+r+"&wxappId="+d+"&type=bookDetailQrCode&bookId="+a.id,success:function(e){var i=e.tempFilePath;t.hideShareChoosePanel(),t.setData({showSharePanel:!0});var s=n.createCanvasContext("myCanvas"),r=a.name&&a.name.length>20?a.name.substring(0,20):a.name,l=a.summary&&a.summary.length>24?a.summary.substring(0,24):a.summary,d=a.price,f=a.promotionPrice,h=a.orderCount,m=a.surplus;if(t.drawSquare(s,400,c),s.setFontSize(15*c),s.setFillStyle("#353535"),s.fillText(r,12*c,207*c),l&&(s.setFontSize(12*c),s.setFillStyle("#888888"),s.fillText(l,12*c,227*c)),s.setFontSize(16*c),s.setFillStyle(u),0==a.type)if(f&&0!=f){s.fillText("￥"+f,12*c,257*c);var b=f.length-1;if(p.pu.t&&p.pu.v||g.pu){var v=p.pu.v||g.pu;s.setFontSize(12*c),s.setFillStyle(u),s.fillText("/"+v,(16*b+8)*c,257*c);var w=v.length+1;s.setFontSize(12*c),s.setFillStyle("#999999"),s.fillText("￥"+d,(16*b+16*w)*c,257*c),s.setLineWidth(1),s.setStrokeStyle("#999999"),s.moveTo((16*b+16*w)*c,253*c),s.lineTo((12*(d.length-1)+16*b+16*w)*c,253*c),s.stroke(),s.setFillStyle(u),s.fillRect((12*(d.length-1)+16*b+16*w+6)*c,242*c,30*c,18*c),s.setFontSize(12*c),s.setFillStyle("white"),s.fillText("促销",(12*(d.length-1)+16*b+16*w+8)*c,255*c)}else s.setFontSize(12*c),s.setFillStyle("#999999"),s.fillText("￥"+d,(16*b+8)*c,257*c),s.setLineWidth(1),s.setStrokeStyle("#999999"),s.moveTo((16*b+8)*c,253*c),s.lineTo((12*(d.length-1)+16*b+8)*c,253*c),s.stroke(),s.setFillStyle(u),s.fillRect((12*(d.length-1)+16*b+8+6)*c,242*c,30*c,18*c),s.setFontSize(12*c),s.setFillStyle("white"),s.fillText("促销",(12*(d.length-1)+16*b+8+8)*c,255*c)}else{var I=d.length-1;s.fillText("￥"+d,12*c,257*c),(p.pu.t&&p.pu.v||g.pu)&&(s.setFontSize(12*c),s.setFillStyle(u),s.fillText("/"+(p.pu.v||g.pu),(16*I+14)*c,257*c))}else 1==a.type?s.fillText("免费",12*c,257*c):2==a.type&&s.fillText("价格面议",12*c,257*c);var D=0;if(g.soc){s.setFontSize(10*c),s.setFillStyle("#888888");var y=g.t1+"："+h;s.fillText(y,12*c,280*c),D=12*(y.length-1)+8}g.ss&&a.isLimit&&(s.setFontSize(10*c),s.setFillStyle("#888888"),s.fillText(g.t2+"："+m,(D+12)*c,280*c)),s.setFontSize(12*c),s.setFillStyle("#888888"),s.fillText("我正在看这个，觉得不错！",18*c,332*c),s.fillText("长按识别小程序，一起看吧~",18*c,352*c),t.drawDashLine(s,12*c,290*c,310*c,290*c,3*c),s.drawImage(o,9*c,9*c,300*c,166*c),s.drawImage(i,202*c,292*c,85*c,85*c),s.draw(),n.hideLoading()},fail:function(){n.hideLoading()}})},fail:function(){n.hideLoading()}})},drawSquare:function(e,t,a){e.rect(0,0,320*a,t*a),e.setFillStyle("#ffffff"),e.fill()},drawFont:function(e,t,a){e.setFontSize(16),e.setFillStyle("#484a3d"),e.fillText(t,50,a)},drawLine:function(e,t){e.beginPath(),e.moveTo(5,t),e.lineTo(490,t),e.closePath()},drawDashLine:function(e,t,a,o,n,i){e.beginPath();for(var s=void 0===i?3:i,r=o-t,l=n-a,d=Math.floor(Math.sqrt(r*r+l*l)/s),c=0;c<d;c++)c%2==0?e.moveTo(t+r/d*c,a+l/d*c):e.lineTo(t+r/d*c,a+l/d*c);e.setStrokeStyle("#eeeeee"),e.stroke(),e.closePath()},savePic:function(){var e=this;n.canvasToTempFilePath({width:500,height:1e3,canvasId:"myCanvas",success:function(t){n.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){n.showToast({title:"保存成功"}),e.setData({showSharePanel:!1})},fail:function(e){}})}})},previewImage:function(e){var t=e.currentTarget.dataset.img,a=e.currentTarget.dataset.imglist,o=[];for(var i in a)o.push(a[i].url);n.previewImage({current:t,urls:o})},onShareAppMessage:function(e){"menu"==e.from?s.logDog(7000081,0):"button"==e.from&&s.logDog(7000081,3),s.logDog(7000081,8);var t=this.data.bookInfo&&this.data.bookInfo.name||"服务详情";s.reportVisitorBehavior({type:25,relationId:this.data.bookId});var a=this.beforeShareAppMessage({params:"bookId="+this.data.bookId}),o={title:t};return Object.assign(o,a)},onPullDownRefresh:function(){n.stopPullDownRefresh();var e=this,t="/pages/bookDetail/bookDetail?bookId="+e.data.bookId;s.getWXAppInfo().then((function(){e.initWXAppInfo(e),n.redirectTo({url:t})}))},jumpToOrder:function(e){var t=this.data.bookId;n.navigateTo({url:"/pages/orderDetail/orderDetail?bookId="+t+"&time="+e})},showCalendar:function(e){var t=this,a=this.data.bookInfo.dateSetting;a.isBookDetail=!0,a.isDisableBeforeCurrentHour=!0,a.isDisableWeekendInPastDay=!0;var o={setting:this.data.bookInfo.dateSetting,callback:function(e){t.setData({isPackUp:!1}),e&&t.jumpToOrder(e)}};this.setData({isPackUp:!0}),this.openCalandar(o)},showCouponPanel:function(){(this.data.couponPanel?this.data.couponPanel:this.selectComponent("#couponPanel")).setShowStatus(!0)},changeListHandler:function(e){var t,a=e.detail.coupon,o=this.data.bookInfo.couponList;if(a.status>0)for(var n=0;n<o.length;n++)o[n].id==a.id&&(o[n]=a);var i,s=o.filter((function(e){return 0==e.status}));if(s.length>0)i=s,t="您有"+s.length+"张优惠券可领取";else{var r=o.filter((function(e){return 3==e.status}));i=r,t="您已领取"+r.length+"张优惠券"}this.setData({panelCouponList:i,couponText:t})},changeStandardHandler:function(e){var t=e.detail.sl,a={};a["bookInfo.setting.ss.sl"]=t,this.setData(a)},secondToOrderHandler:function(e){var t=this,o=e.detail.info,i=e.detail.checkList,r=this.data.bookId;this.data.bookInfo.specificationInfo=o,this.data.bookInfo.specificationList=i,l.globalData.bookInfoDetail&&(l.globalData.bookInfoDetail=this.data.bookInfo);var d=o.id,c=i;s.getBookInfo({bookId:r,mappingId:d,specificationList:c}).then((function(e){if(e&&1!=e.status)if(0==e.surplus&&e.isLimit)a((function(){t.toast||(t.toast=t.selectComponent("#toast")),t.toast.showToast({title:"抱歉，该服务已告罄！",icon:"none",duration:2e3})}),0);else{if(0==e.limitNum)return t.dialog||(t.dialog=t.selectComponent("#dialog")),void t.dialog.show({title:"提示",content:e.setting.pl.ti,confirmButton:"确 定"});var o=e;l.globalData.bookInfoDetail=o,l.globalData.bookInfoDetail&&(l.globalData.bookInfoDetail.couponList=e.couponList),n.navigateTo({url:"/pages/orderDetail/orderDetail?bookId="+r})}})).catch((function(e){console.log(e)})).finally((function(){}))}}))}(__hacked)})),window.define("pages/orderDetail/orderDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,s(e("../../libs/calendar/index")));s(e("../../libs/timepicker/index"));function s(e){return e&&e.__esModule?e:{default:e}}var r=i(),l=e("../../utils/api"),d=e("../../libs/scripts/login"),c=e("../../utils/util"),u=e("../../libs/scripts/common"),p=void 0,g=["0:00","0:30","1:00","1:30","2:00","2:30","3:00","3:30","4:00","4:30","5:00","5:30","6:00","6:30","7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],f=["0:00","0:15","0:30","0:45","1:00","1:15","1:30","1:45","2:00","2:15","2:30","2:45","3:00","3:15","3:30","3:45","4:00","4:15","4:30","4:45","5:00","5:15","5:30","5:45","6:00","6:15","6:30","6:45","7:00","7:15","7:30","7:45","8:00","8:15","8:30","8:45","9:00","9:15","9:30","9:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"];Page(Object.assign({},u,d,{props:{title:"订单结算",isOrderLogin:!0},data:{formData:{},hasUserInfo:!1,payModes:[],payIndex:0,showDrawer:!1,bookTime:"",uploadFileList:[],pagePhone:!1,processList:[],selectlist:[],currentMode:1,finalPrice:"",selectCoupon:null,panelShow:!1,bookNum:1,limitKind:0},onReady:function(){this.toast=this.selectComponent("#toast"),this.couponPanel=this.selectComponent("#couponPanel"),this.dialog=this.selectComponent("#dialog")},onLoad:function(e){var t=this;this.getUserInfo(),this.getWXAppInfo(this),r.globalData.formItem?this.setBookExtInfo():l.getBookExtInfo().then((function(){t.setBookExtInfo()}));var a=e.bookId,o=e.time||"",n=r.globalData.bookInfoDetail?r.globalData.bookInfoDetail:{},i=n.id;this.data.bookId=a;var s=this;if(i==a){var d=n.couponList.filter((function(e){return 3==e.status&&e.available}));this.setData({bookInfo:n,bookTime:o,openBookTime:n.openBookTime,processList:d,limitKind:n.setting.pl.k})}else l.getBookInfo({bookId:a}).then((function(e){if(e){var t=e;r.globalData.bookInfoDetail=t;var a=!0;t.content&&(a=!1);var o=t.couponList.filter((function(e){return 3==e.status&&e.available}));s.setData({bookInfo:t,bookInfoEmpty:a,openBookTime:t.openBookTime,processList:o,limitKind:t.setting.pl.k})}})).catch((function(e){console.log(e)}));r.globalData.userInfo&&this.setData({hasUserInfo:!0})},setBookExtInfo:function(){var e=this,t=r.globalData.formItem,a="订单结算";1==t.t&&(a="咨询表单详情"),n.setNavigationBarTitle({title:a});for(var o=t.fsl,i=r.globalData.isManage||!1,s=0;s<o.length;s++){var c=o[s],u="[object String]"===Object.prototype.toString.call(c.input);if(1==c.formType&&c.input&&u&&(c.input=c.input.split("\n")),2==c.formType&&c.input&&u){for(var p=[],g=c.input.split("\n"),f=0;f<g.length;f++)p.push({name:g[f],selected:!1});c.input=p}4==c.formType&&c.val&&(c.val=c.path="")}if(this.setData({formList:o,isManage:i}),r.globalData.globalColor){var h=r.globalData.globalColor;this.setData({globalColor:h})}else l.getWXAppInfo().then((function(){e.initWXAppInfo(e),e.setData({globalColor:r.globalData.globalColor})}));var m=r.globalData.wxappInfo.bookSetting,b=r.globalData.payModes,v=[];b.hideGoPay||v.push({type:0,name:"到店支付"}),b.openHomePay&&v.push({type:2,name:"上门支付"}),this.setData({payModes:v,bookSetting:m}),d.initUserInfo(!1,(function(t){t&&l.getUserLatestOrder().then((function(t){e.fillInOrderItems(t)}))}))},toastShow:function(e){var t=this;t.setData({toastShow:!0,toastTxt:e}),a((function(){t.setData({toastShow:!1})}),2e3)},formDataInput:function(e){var t=e.target.id,a=e.detail.value;"phone"==t&&(/^[0-9]*$/.test(a)||this.toastShow("请输入数字！")),this.data.formData[t]=a},commitOrder:function(e){var t=this;if(!p){p=a((function(){clearTimeout(p),p=null}),1500);var o=this.data.bookId,i=this,s={bookId:o};this.data.bookInfo.specificationOpen&&(s.mappingId=this.data.bookInfo.specificationInfo.mappingId,s.specificationList=this.data.bookInfo.specificationInfo.specificationList),l.getBookInfo(s).then((function(o){if(o){var s=o,l=s.dateSetting;if(i.setData({bookInfo:s,openBookTime:s.openBookTime}),0==s.surplus&&s.isLimit)a((function(){i.toast.showToast({title:"抱歉，该服务已告罄！",icon:"none",duration:2e3})}),0);else if(s.isLimit&&s.surplus<i.data.bookNum)a((function(){i.toast.showToast({title:"抱歉，当前剩余量不足！",icon:"none",duration:2e3})}),0);else if(s.setting.pl&&s.setting.pl.t&&s.limitNum<i.data.bookNum)a((function(){i.toast.showToast({title:"下单失败，请重新下单！",icon:"none",duration:2e3})}),0);else if(i.data.openBookTime&&""==i.data.bookTime)a((function(){i.toast.showToast({title:"请选择预约时间！",icon:"none",duration:2e3})}),0);else{if(1==l.a&&null!=l.ul.d)for(var d=new Date(i.data.bookTime),c=0;c<l.ul.d.length;c++){var u=new Date(l.ul.d[c]);if(d.getFullYear()==u.getFullYear()&&d.getMonth()==u.getMonth()&&d.getDate()==u.getDate())return void a((function(){i.toast.showToast({title:"抱歉，当前日期预约已满！",icon:"none",duration:2e3})}),0)}if(0==l.a&&null!=l.ul.t)for(var p=i.data.bookTime.split(" "),h=new Date(p[0]),m=0;m<l.ul.t.length;m++){var b=new Date(l.ul.t[m].d);if(h.getFullYear()==b.getFullYear()&&h.getMonth()==b.getMonth()&&h.getDate()==b.getDate())for(var v=l.ul.t[m].i,w=0;w<v.length;w++)if(0==l.ot.ti){for(var I=[],D=0;D<24;D++)I.push(D+":00");if(I[v[w]]==p[1])return void a((function(){i.toast.showToast({title:"抱歉，当前时间点预约已满！",icon:"none",duration:2e3})}),0)}else if(1==l.ot.ti){if(g[v[w]]==p[1])return void a((function(){i.toast.showToast({title:"抱歉，当前时间点预约已满！",icon:"none",duration:2e3})}),0)}else if(2==l.ot.ti&&f[v[w]]==p[1])return void a((function(){i.toast.showToast({title:"抱歉，当前时间点预约已满！",icon:"none",duration:2e3})}),0)}for(var y=e.currentTarget.dataset.formList,_=e.detail.value,x=/^[0-9]*$/,C=0;C<y.length;C++){var S=y[C];if(S.m&&S.s){var T=S.k,k=!0;if("[object String]"===Object.prototype.toString.call(_[T]))k=_[T].replace(/(^\s*)|(\s*$)/g,"");if(!_[T]||0==_[T].length||!k)return void n.showModal({title:"",showCancel:!1,content:S.fn+"不能为空",success:function(e){}});if("phone"==T&&(11!=_[T].length||!x.test(_[T])))return void n.showModal({title:"",showCancel:!1,content:"手机号错误！",success:function(e){}})}if(2==S.formType)_[T=S.k]&&(_[T]=_[T].join("\n"))}if(i.data.formData=_,r.globalData.userInfo)return 0==t.data.payModes.length?(t.toast=t.toast?t.toast:t.selectComponent("#toast"),void t.toast.showToast({title:"当前没有可选支付方式",icon:"none",duration:2e3})):void r.globalData.wxAppRequest.commitOrder(i)}}}))}},previewModuleImage:function(e){if(e.currentTarget.dataset.sbp){var t=e.currentTarget.dataset.img;n.previewImage({current:t,urls:[t]})}},uploadHandler:function(e){this.data.formList;var t=e.currentTarget.dataset.itemid,a=this;c.promisify(n.chooseImage)({count:1}).then((function(e){var o=e.tempFilePaths,i=o[0].lastIndexOf("."),s=o[0].substring(i+1),r=e.tempFiles[0].size,d=a.data.formList[t],c=a.data.formList[t].k;if(r>1024*d.fileSetting.fs*1024)throw n.showModal({title:"上传失败",showCancel:!1,content:"上传失败：图片大小超过"+d.fileSetting.fs+"M"}),Error("上传失败：图片大小超过"+d.fileSetting.fs+"M");var u={fieldKey:c,filePath:o[0],fileSize:r,fileType:s};return l.uploadFile3(u)})).then((function(e){a.data.formList;var o=a.data.formList[t];o.val=e.fileId,o.path=e.filePath;a.formData;var n=o.k,i={},s="formList["+t+"].val";i[s]=e.fileId,i[s="formList["+t+"].path"]=e.filePath,i[s="formData."+n]=e.fileId;var r=a.data.uploadFileList;r.push({tmpFileId:e.id,fileId:e.fileId,tmpFileName:e.fileName}),i.uploadFileList=r,a.setData(i)})).catch((function(e){console.log("choose img err -- "+e.errMsg)}))},checkedOption:function(e){var t=e.currentTarget.dataset.key,a=e.currentTarget.dataset.index,o=e.currentTarget.dataset.option.selected;o=!o;for(var n=this.data.formList,i=0;i<n.length;i++)if(t==n[i].k){var s={};s["formList["+i+"].input["+a+"].selected"]=o,this.setData(s);break}},switchPayMode:function(){1!==this.data.payModes.length&&this.setData({showDrawer:!0})},closeDrawer:function(){this.setData({showDrawer:!1})},payModeChange:function(e){this.setData({payIndex:parseInt(e.detail.value)})},fillInOrderItems:function(e){for(var t,a=this.data.formList,o=0;o<a.length;o++)(t=a[o]).fillValue=void 0===e[t.k]?"":e[t.k];this.setData({formList:a})},onPullDownRefresh:function(){n.stopPullDownRefresh()},showCalendar:function(e){var t=this,a=this.data.bookInfo.dateSetting;a.isBookDetail=!0,a.isDisableBeforeCurrentHour=!0,a.isDisableWeekendInPastDay=!0;var o={setting:this.data.bookInfo.dateSetting,callback:function(e){e&&(t.setData({bookTime:e}),t.handlerLimitCount())}};this.openCalandar(o)},handlerLimitCount:function(){var e=this.data.bookInfo.dateSetting,t=e.lc;if(t.l){var a=t.c,o=this.data.bookTime.split(" "),n=a;if(0==e.a&&null!=e.ul.t){var i=e.bc.t;if(i[o[0]])if(0==e.ot.ti){for(var s=[],r=0;r<24;r++){var l=r<10?"0"+r:r;s.push(l+":00")}s.forEach((function(e,t){if(e==o[1]){var s=i[o[0]][t];s&&(n=a-s)}}))}else 1==e.ot.ti?g.forEach((function(e,t){if(e==o[1]){var s=i[o[0]][t];s&&(n=a-s)}})):f.forEach((function(e,t){if(e==o[1]){var s=i[o[0]][t];s&&(n=a-s)}}))}else{var d=e.bc.d;d[o[0]]&&(n=a-d[o[0]])}if(n>0){var c=this.data.bookInfo;c.isLimit?c.surplus=c.surplus>n?n:c.surplus:(c.isLimit=!0,c.surplus=n),this.setData({bookInfo:c})}}},enterCouponPanel:function(){this.setData({panelShow:!0}),(this.couponPanel?this.couponPanel:this.selectComponent("#couponPanel")).setShowStatus(!0)},couponClose:function(e){this.setData({panelShow:!1}),this.couponSelect(e)},couponSelect:function(e){for(var t,a,o=e.detail||[],n=0,i=0,s=this.data.bookInfo,r=0;r<o.length;r++)if(o[r].checked){t=(a=o[r]).type,n=s.promotionPrice>0?s.promotionPrice:s.price,i=0==t?n-a.discountPrice:n-n*(1-.1*a.discount);break}i=i<=0?0:i.toFixed(2),this.setData({selectCoupon:a||null,finalPrice:i})},initCalendarFn:function(e){var t={disableAll:!1,disablePastDay:!1,disableWeekend:!1,defaultDay:"",disableDays:[],enableDays:[],comfirmDay:function(t,a){e.callback&&e.callback(t)}};c.extend(!0,t,e),(0,o.default)(t)},getCount:function(e){var t=this,a=e.detail;if(this.setData({bookNum:a}),this.data.processList.length>0){var o=this.data.bookId,n=this,i={bookId:o,bookCount:a};this.data.bookInfo.specificationOpen&&(i.mappingId=this.data.bookInfo.specificationInfo.mappingId,i.specificationList=this.data.bookInfo.specificationInfo.specificationList),l.getBookInfo(i).then((function(e){if(e){var a=e,o=t.data.selectCoupon,i=a.couponList.filter((function(e){return o&&e.id==o.id&&(o.remainPrice=e.remainPrice,o.subPrice=e.subPrice),3==e.status&&e.available}));n.setData({processList:i,selectCoupon:o})}})).catch((function(e){console.error(e)}))}},warnHandler:function(){var e=this;a((function(){e.toast.showToast({title:"请先选择预约时间！",icon:"none",duration:2e3})}),0)}}))}(__hacked)})),window.define("pages/bookSuc/bookSuc",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=e("../../libs/scripts/common"),s=i();Page(Object.assign({},o,{data:{pagePhone:!1},onLoad:function(e){var t=s.globalData.formItem,a="立即预约"==s.globalData.wxappInfo.bookText?"预约成功":"提交成功",o="查看订单";1==t.t&&(a="咨询提交成功",o="查看我的咨询"),this.getWXAppInfo(this),n.setNavigationBarTitle({title:a}),this.setData({btnContent:o,title:a})},viewMyOrder:function(){n.navigateTo({url:"/pages/myOrder/myOrder?currentTab=0&fromBookSuc=true"})},backToIndex:function(){n.navigateTo({url:"/pages/index/index"}),n.switchTab({url:"/pages/index/index"})},onShareAppMessage:function(){return a.logDog(7000081,0),{title:this.data.title}}}))}(__hacked)})),window.define("pages/user/user",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(),o=e("../../libs/scripts/login"),s=e("../../utils/api"),r=e("../../libs/scripts/common"),l=e("../../utils/util");e("../../libs/scripts/utils"),e("../../libs/scripts/login.js");Page(Object.assign({},r,o,{props:{isUserCol:!0},data:{avatarUrl:"",nickName:"",globalColor:"",showMore:!1,hasUserInfo:!1,latitude:23.099994,longitude:113.32452,distanceStr:"",showPhone:!1,couponOpen:!1},onLoad:function(){var e=this,t=this;a.globalData.wxappInfo;t.getWXAppInfo(t),s.getWXAppColModuleInfo(4).then((function(e){t.initUserColInfo(e)})),t.getUserInfo(!1,(function(){e.getFormSubmitStatus(),e.getLatestInfoStatus(),e.getMyQuotationStatus(),e.getMyCouponStatus()})),a.globalData.couponOpen&&this.setData({couponOpen:a.globalData.couponOpen})},onShow:function(){this.resetStatus(),i().globalData.userInfo&&(this.getFormSubmitStatus(),this.getLatestInfoStatus(),this.getMyQuotationStatus(),this.getMyCouponStatus()),s.logDog(7000090,4)},afterGetWXAppInfo:function(e){var t=a.globalData.wxappInfo,o=t.formType,n=t.myPage;e.setData({myPage:n,formType:o}),n.gup&&n.adr&&this.getAddressDistance()},initUserColInfo:function(e){if(e){""==this.data.avatarUrl&&this.setData({avatarUrl:e.avatarUrl});var t=e.name||"我的";n.setNavigationBarTitle({title:t}),this.setData({title:t})}},myPageAddr:function(){a.globalData.wxAppRequest.getLocationFromBaidu(this.data.myPage.adr)},toMyOrderWaitPay:function(){n.navigateTo({url:"/pages/myOrder/myOrder?currentTab=1"})},toMyOrderProccess:function(){n.navigateTo({url:"/pages/myOrder/myOrder?currentTab=2"})},toMyOrderAppraise:function(){n.navigateTo({url:"/pages/myOrder/myOrder?currentTab=3"})},tpMyOrderCancel:function(){n.navigateTo({url:"/pages/myOrder/myOrder?currentTab=4"})},toMyOrderAll:function(){n.navigateTo({url:"/pages/myOrder/myOrder"})},toLatestInformation:function(){n.navigateTo({url:"/pages/latestInformation/latestInformation"})},toMyForm:function(){n.navigateTo({url:"/pages/myForm/myForm?page=1&formTitle="+this.data.formTitle})},toMyQuotation:function(){n.navigateTo({url:"/pages/myQuotation/myQuotation?page=1"})},viewMoreOrNot:function(){var e=this.data.showMore;this.setData({showMore:!e})},makePhoneCall:function(){var e=this.data.cusService.phone;s.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:e})},onPullDownRefresh:function(){var e=this;n.stopPullDownRefresh();var t=this;s.getWXAppInfo().then((function(){t.initWXAppInfo(t),l.isLogin()&&(e.getFormSubmitStatus(),e.getLatestInfoStatus(),e.getMyQuotationStatus())})),i().globalData.isManage&&this.setData({showActionSheet:!1})},onShareAppMessage:function(){s.logDog(7000081,0),s.reportVisitorBehavior({type:24,relationId:4});var e=this.data.title||"",t=this.beforeShareAppMessage(),a={title:e};return Object.assign(a,t)},getAddressDistance:function(){var e=this,t=this.data.myPage.adr;s.getLocationByAddr((function(t){t&&(t.lat,t.lng,e.setData({latitude:t.lat,longitude:t.lng}),e.getUserLocation())}),t)},getUserLocation:function(){var e=this;l.promisify(n.getLocation)({type:"gcj02"}).then((function(t){var a=e.data.latitude,o=e.data.longitude,n=t.latitude,i=t.longitude,s=e.getDistance(a,o,n,i),r="";r=s<1?((s*=1e3)<100?100:s)+"m":(s>100?100:s)+"km",e.setData({userLat:t.latitude,userLng:t.longitude,distanceStr:r})})).catch((function(e){console.log(e),console.log("get location Erro -- "+e)}))},getDistance:function(e,t,a,o){var n=e*Math.PI/180,i=a*Math.PI/180,s=n-i,r=t*Math.PI/180-o*Math.PI/180,l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(n)*Math.cos(i)*Math.pow(Math.sin(r/2),2)));return l*=6378.137,l=(l=Math.round(1e4*l)/1e4).toFixed(1)},getFormSubmitStatus:function(){for(var e="",t=this.data.myPage.ml,a=0;a<t.length;a++)-3==t[a].mt&&(e=t[a].n);this.setData({formTitle:e})},getLatestInfoStatus:function(){var e=this;return s.getLatestInfoStatus().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.hasLatestInfo,o=t.unreadLatestInfoCount;e.setData({hasLatestInfo:a||!1,unreadLatestInfoCount:o||0})}))},getMyQuotationStatus:function(){this.setData({hasOpenQuotation:a.globalData.wxappInfo.trialSwitch.quotationOpen})},getMyCouponStatus:function(){this.setData({hasOpenCoupon:a.globalData.wxappInfo.trialSwitch.couponOpen})},resetStatus:function(){this.setData({unreadLatestInfoCount:0})},toMyCoupon:function(){var e=i().globalData.userInfo;e&&e.nickName?(s.logDog(7000275,3),n.navigateTo({url:"/pages/myCoupon/myCoupon"})):n.getUserInfo({success:function(e){var t=e.userInfo;s.getUserInfoByAuth(t).then((function(e){e.success&&(s.logDog(7000275,3),n.navigateTo({url:"/pages/myCoupon/myCoupon"}))}))},fail:function(e){a.globalData._hasCancelAuthPopup=!0}})}}))}(__hacked)})),window.define("pages/myOrder/myOrder",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api")),s=o.getOrderList,r=o.logDog,l=e("../../libs/scripts/common");Page(Object.assign({},l,{data:{tabDef:[{id:0,name:"全部",list:[]},{id:1,name:"待支付",list:[]},{id:2,name:"进行中",list:[]},{id:3,name:"已完成",list:[]},{id:4,name:"已取消",list:[]}],curTabIndex:0,globalColor:"",pagePhone:!1},init:function(e){var t=this,a=e.orderList,o=this.data.tabDef,i=o[1].list=[],s=o[2].list=[],r=o[3].list=[],l=o[4].list=[];o[0].list=a,a.forEach((function(e){var a=t.getCurrentStatus(e.payType,e.service.type,e.status),o=a.index;switch(e.statusStr=a.str,o){case 1:i.push(e);break;case 2:s.push(e);break;case 3:r.push(e);break;case 4:l.push(e)}})),this.setData({tabDef:o},(function(){n.hideLoading()})),this.formType=e.formType,this.openWXPay=e.openWXPay},getCurrentStatus:function(e,t,a){var o="",n=0,i="";return i=0===e?"(到店支付)":1===e?"(微信支付)":"(上门支付)",3==a?(o="待支付",n=1):0==a||4==a||5==a?(o=0==t?5==a?"退款中"+i:4==a?"已支付"+i:"进行中"+i:"进行中",n=2):1==a?(o=0==t?"已完成"+i:"已完成",n=3):2==a&&(o=0==t?"已取消"+i:"已取消",n=4),{index:n,str:o}},switchTab:function(e){var t=e.target.dataset.index;void 0!==t&&this.data.curTabIndex!=t&&(n.pageScrollTo({scrollTop:0,duration:200}),this.setData({curTabIndex:t}))},showToast:function(e){var t=e.detail.data,a={icon:"none",duration:1500};"[object String]"==Object.prototype.toString.call(t)&&(a.title=t),"[object Object]"==Object.prototype.toString.call(t)&&(a=Object.assign({},t)),this.toast.showToast(a)},refreshData:function(){var e=this,t=s();return t.then((function(t){return e.init(t),!0})).catch((function(e){console.error(e)})),t},refreshCallback:function(e){var t=this,o=e.detail.type;this.refreshData().then((function(e){if(e&&o){var n="";switch(o){case"cancel":n="取消成功";break;case"finish":n="完成预约成功";break;case"pay":n="支付成功"}a((function(){t.toast.showToast({title:n,duration:2e3})}),0)}}))},onLoad:function(e){n.showLoading({title:"稍等一下喔~",mask:!0});var t=this;t.getWXAppInfo(t);var a=i().globalData;a.isManage&&this.setData({isManage:a.isManage});var o=e.currentTab||0;t.data.curTabIndex!=o&&t.setData({curTabIndex:o}),t.refreshData().then((function(e){e&&n.setNavigationBarTitle({title:1==t.formType?"我的咨询":"我的订单"})}))},onReady:function(){this.toast=this.selectComponent("#toast")},onShow:function(){r(7000090,4)},onPullDownRefresh:function(){n.showLoading({title:"稍等一下喔~",mask:!0}),this.refreshData().then((function(){n.stopPullDownRefresh()}))}}))}(__hacked)})),window.define("pages/news/news",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api")),s=i(),r=e("../../libs/scripts/common");Page(Object.assign({},r,{data:{newsGroupMap:{},tabsDef:[],newsList:[],showMoreBtn:!1,showAllCateFlag:!1,currentTab:0,scrollLeft:0,isLoaded:!1,imageScaleMode:"scaleToFill"},onLoad:function(e){var t=this;e.id&&(t.setData({currentTab:e.id}),a((function(){t.scrollToTab(e.id)}),500)),t.getWXAppInfo(t),o.getWXAppColModuleInfo(5).then((function(e){t.initNewsColInfo(e)})),t.getNewsGroupList(),0==t.data.currentTab?t.getNewsList():(o.getNewsListByGroupId(t,t.data.currentTab),t.setData({isLoaded:!0})),o.reportVisitorBehavior()},onShow:function(){o.logDog(7000090,4)},afterGetWXAppInfo:function(e){var t=i().globalData.wxappInfo.newsSysPage,a=0==t.is?"scaleToFill":1==t.is?"aspectFill":"aspectFit";e.setData({imageScaleMode:a})},initNewsColInfo:function(e){if(e){var t=e.name||"新闻资讯";n.setNavigationBarTitle({title:t}),this.setData({title:t})}},getNewsList:function(){var e=this;o.getNewsList(e).then((function(t){var a=e.data.newsGroupMap[0]?e.data.newsGroupMap[0]:[];a=a.concat(t.newsList),e.data.newsGroupMap[0]=a,e.setData({newsList:a,isLoaded:!0}),n.stopPullDownRefresh()}))},setWXAppInfoData:function(){var e=s.globalData.wxappInfo;if(0!=Object.keys(e).length){var t=e.globalColor;this.setData({globalColor:t})}},handleClick:function(e){var t=e.currentTarget.dataset.tabid;this.getNewsListByClick(t,this)},getNewsListByClick:function(e,t){t.setData({currentTab:e});var a=t.data.newsGroupMap[e];a&&0!==a.length?t.setData({newsList:a}):0==e?t.getNewsList():o.getNewsListByGroupId(t,e)},getNewsGroupList:function(){var e=this;o.getNewsGroupList().then((function(t){t.unshift({id:0,name:"全部"}),e.setData({tabsDef:t});var a=e.data.tabsDef.length>4;e.setData({showMoreBtn:a})}))},toNewsDetail:function(e){var t=e.currentTarget.dataset.newsid;n.navigateTo({url:"/pages/newsDetail/newsDetail?id="+t})},showAllCate:function(e){this.setData({showAllCateFlag:!0})},closeCateDrawer:function(){this.setData({showAllCateFlag:!1})},jumpToTab:function(e){var t=e.currentTarget.dataset.tabid;this.getNewsListByClick(t,this),this.closeCateDrawer(),this.scrollToTab(t)},scrollToTab:function(e){var t=this;e=e||0;var a=n.createSelectorQuery();a.select("#cate"+e).boundingClientRect(),a.exec((function(e){e[0]&&t.setData({scrollLeft:e[0].left-15})}))},onReachBottom:function(e){var t=this.data.currentTab;0===t?this.getNewsList():o.getNewsListByGroupId(this,t)},onShareAppMessage:function(){o.logDog(7000081,0),o.logDog(7000081,11),o.reportVisitorBehavior({type:24,relationId:5});var e=this.data.title,t=this.beforeShareAppMessage(),a={title:e};return Object.assign(a,t)},onPullDownRefresh:function(){var e=this;this.setData({newsGroupMap:{}});var t=this;o.getNewsGroupList().then((function(a){a.unshift({id:0,name:"全部"}),t.setData({tabsDef:a});var i=!1;if(0!=t.data.currentTab)for(var s=0;s<a.length;s++)if(a[s].id==t.data.currentTab){i=!0;break}i?t.getNewsListByClick(t.data.currentTab,t):(t.setData({currentTab:0}),t.scrollToTab(0),t.getNewsList(),n.stopPullDownRefresh()),n.stopPullDownRefresh();var r=t.data.tabsDef.length>4;t.setData({showMoreBtn:r}),o.getWXAppInfo(e.setWXAppInfoData)}))}}))}(__hacked)})),window.define("pages/newsDetail/newsDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=t.setInterval,s=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api")),r=e("../../libs/wxParse/wxParse.js"),l=i(),d=e("../../libs/scripts/login"),c=e("../../libs/scripts/common");Page(Object.assign({},c,{data:{newsInfo:{},newsInfoContent:"",newsId:0,comment:"",replyMaxLen:200,curReplyLen:0,pixelRatio:0,cacheScrollTop:0,scrollTimer:0,commentSectionTop:0,isPackUp:!1,showShare:!1},onReady:function(){var e=0,t=this;e=o((function(){n.createSelectorQuery().select("#comments-section").boundingClientRect((function(a){a&&(t.setData({commentSectionTop:a.top}),clearInterval(e))})).exec()}),1e3),n.getSystemInfo({success:function(e){t.data.pixelRatio=e.pixelRatio}})},onLoad:function(e){n.setNavigationBarTitle({title:"文章详情"});var t=e.id;this.getWXAppInfo(this),this.setData({newsId:t});var a=i().globalData;a.isManage&&this.setData({isManage:a.isManage}),this.getNewsInfoFn(t,this),s.reportVisitorBehavior({relationId:t})},onShow:function(){s.logDog(7000090,0)},getNewsInfoFn:function(e,t){n.showLoading({title:"加载中",mask:!0});var a={newsId:e},o=i().globalData;function l(e){t.setData({title:e.title,publicTime:e.publicTime,views:e.views,commentList:e.commentList,isLike:e.isLike,likeCount:e.likeCount,newsComment:e.newsComment,setting:e.setting,newsLike:e.newsLike,showType:e.showType});var a=e.content;a&&r.wxParse("newsInfoContent","html",a,t,5),n.hideLoading()}o.openId?(a.openId=o.openId,s.getNewsInfo(a).then((function(e){l(e)}))):d.initUserInfo(!0,(function(e){e.userInfo&&(a.openId=e.userInfo.openId),s.getNewsInfo(a).then((function(e){l(e)}))})),this.animateCusService()},onShareAppMessage:function(e){"menu"==e.from?s.logDog(7000081,0):"button"==e.from&&s.logDog(7000081,1),s.logDog(7000081,7);var t=this.data.title||"",a=this.beforeShareAppMessage({params:"id="+this.data.newsId}),o={title:t};return Object.assign(o,a)},onPullDownRefresh:function(e){n.stopPullDownRefresh();var t="/pages/newsDetail/newsDetail?id="+this.data.newsId;s.getWXAppInfo((function(){n.redirectTo({url:t})}))},closeComment:function(){this.setData({showComment:!1})},catchTouch:function(){},checkComment:function(e){var t=e.detail.value,a=t.length;this.setData({comment:t,curReplyLen:a})},addComment:function(){var e=this,t=this.data.newsId,a=this.data.comment;if(a.replace(/(^\s*)|(\s*$)/g,"")){var o=i().globalData,r={newsId:t,comment:a,creator:{headImgUrl:o.userInfo.avatarUrl,nickname:o.userInfo.nickName,baiduOpenId:o.userInfo.openId}};s.addNewsComment(r,e).then((function(t){!function(t){var a=t.success?"success":"none";if(n.showToast({title:t.msg,icon:a}),t.success&&t.showType){for(var o=0;o<e.data.commentList.length;o++){if(!e.data.commentList[o].top){e.data.commentList.splice(o,0,t.data);break}}0==e.data.commentList.length&&e.data.commentList.push(t.data),e.setData({commentList:e.data.commentList}),e.jumptoComments()}e.setData({showComment:!1,comment:""})}(t)}))}else n.showModal({content:"请输入内容",showCancel:!1})},onPageScroll:function(e){var t=this;if(this.data.newsComment){clearTimeout(this.data.scrollTimer);var o=this.data.commentSectionTop,n=this.data.pixelRatio;this.data.scrollTimer=a((function(){var a=!1;0==e.scrollTop?a=!1:e.scrollTop+700/n>o&&(a=!0),t.data.cacheScrollTop=e.scrollTop,t.setData({isPackUp:a})}),100)}},jumptoComments:function(){var e=this.data.commentSectionTop,t=this.data.cacheScrollTop;n.pageScrollTo({scrollTop:e+t})},userInfoHandler:function(e){var t=this;if(l.globalData.userInfo)t.setData({showComment:!0});else if("getUserInfo:ok"==e.detail.errMsg){if(!e.detail.iv)return void n.showModal({title:"警告",content:"您点击了拒绝授权，将无法提交评论。",showCancel:!1,confirmText:"确定",success:function(e){}});var a=e.detail.userInfo;l.globalData.userInfo||n.login({success:function(e){e.code;var o=e.code;s.getOrAddUserInfo(o,a).then((function(){t.setData({showComment:!0})}))},fail:function(e){n.showModal({title:"",showCancel:!1,content:"登录失败",success:function(e){}})}})}},beforeNewsLike:function(){var e=this;d.initUserInfo(!0,(function(t){t.userInfo&&e.newsLike()}))},newsLike:function(){var e=this,t=this.data.newsId,a=!this.data.isLike,o=i().globalData,r={newsId:t,isLike:a,openId:o.openId};s.newsLike(r,e).then((function(t){!function(t){if(t.success){var o=t.likeCount;e.setData({isLike:a,likeCount:o})}else n.showToast({title:t.msg,icon:"none",duration:1e3})}(t)}))},likeComment:function(e){var t=this,a=e.currentTarget.dataset.comments,o=!a.isCommentLike,n=i().globalData,r={newsId:a.newsId,openId:n.openId,commentId:a.id,type:0,isLike:o};s.newsCommentLike(r,t).then((function(e){!function(e){if(e.success)for(var n=t.data.commentList,i=0,s=n.length;i<s;i++){var r=n[i];if(r.id==a.id){r.isCommentLike=o,r.likeCount=e.commentLikeCount;var l={};l["commentList["+i+"]"]=r,t.setData(l);break}}}(e)}))},likeReply:function(e){var t=this,a=e.currentTarget.dataset.comments,o=!a.isCommentReplyLike,n=i().globalData,r={newsId:a.newsId,openId:n.openId,commentId:a.id,type:1,isLike:o};s.newsCommentLike(r,t).then((function(e){!function(e){for(var n=t.data.commentList,i=0,s=n.length;i<s;i++){var r=n[i];if(r.id==a.id){r.isCommentReplyLike=o,r.replyLikeCount=e.commentReplyLikeCount;var l={};l["commentList["+i+"]"]=r,t.setData(l);break}}}(e)}))},animateCusService:function(){var e=this,t=n.createSelectorQuery();t.select(".cus-service").boundingClientRect();t.exec((function(t){t[0]&&e.setData({cusServiceTop:t[0].top})}))}}))}(__hacked)})),window.define("pages/err/err",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api.js");i();Page({data:{errText:"",errHint:"",errCode:"",errTitle:"",errStatus:0,redirectFrom:""},onLoad:function(e){var t=e.requestFail,o=void 0!==t&&t,i=e.errText,s=void 0===i?"":i,r=(e.errMsg,e.errCode),l=void 0===r?"":r,d=e.errHint,c=void 0===d?"":d,u=e.errTitle,p=void 0===u?"":u,g=e.redirectFrom,f=void 0===g?"/pages/index/index":g;f=decodeURIComponent(f);var h=0;o&&"false"!==o?(c=c||"可能原因：网速不佳，",s=s||"抱歉，当前页面加载失败~",h=1,a.logDog(7000235,2)):l&&(6==l?(c=c||"原因：小程序涉及违规已封禁，管理员请到管理后台申诉",s=s||"抱歉，当前页面暂时无法访问~",h=2,a.logDog(7000235,0)):l>=500?(c=c||"原因：服务器发生错误，正在维修中…",s=s||"抱歉，当前页面加载失败~",h=5,a.logDog(7000235,3)):l>=405&&(c=c||"可能原因：页面数据数量过大、格式转换异常等",s=s||"抱歉，您访问的页面飞走咯~",h=4,a.logDog(7000235,1))),n.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"}),n.setNavigationBarTitle({title:p||"出错啦！"}),this.setData({errHint:c,errText:s||"抱歉，您访问的页面飞走咯~",errStatus:h,redirectFrom:f}),a.issueRequest({url:{path:"appAjax/initInfo.jsp",cmd:"errorPageLogAlarm"}})},reload:function(){n.redirectTo({url:this.data.redirectFrom})}})}(__hacked)})),window.define("pages/cardList/cardList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i();var a=e("../../utils/api"),o=e("../../libs/scripts/common");Page(Object.assign({},o,{data:{globalColor:"",cardList:[]},onLoad:function(e){var t=this;t.getWXAppInfo(t);a.getWXAppColModuleInfo(6).then((function(e){t.initCardListColInfo(e)})),a.getCardList().then((function(e){t.setCardList(e)})),a.reportVisitorBehavior()},onShow:function(){a.logDog(7000090,4)},initCardListColInfo:function(e){if(e){var t=e.name||"名片列表";n.setNavigationBarTitle({title:t}),this.setData({title:t})}},setCardList:function(e){e instanceof Array&&(e.forEach((function(e){e.avatorUrl||(e.avatorUrl="http://qz.faisys.com/image/wxImage/head.png")})),this.setData({cardList:e}))},gotoDetail:function(e){var t=e.currentTarget.dataset.id;n.navigateTo({url:"/pages/card/card?id="+t})},callPhone:function(e){var t=e.target.dataset.phone;a.reportVisitorBehavior({type:23}),n.makePhoneCall({phoneNumber:t})},onPullDownRefresh:function(){var e=this;n.stopPullDownRefresh(),a.getCardList().then((function(t){e.setCardList(t)})),a.getWXAppInfo().then((function(){pageObj.initWXAppInfo(pageObj)}))},onReachBottom:function(){},onShareAppMessage:function(){a.logDog(7000081,0),a.logDog(7000081,11);var e=this.data.title;a.reportVisitorBehavior({type:24,relationId:6});var t=this.beforeShareAppMessage(),o={title:e};return Object.assign(o,t)}}))}(__hacked)})),window.define("pages/searchPage/searchPage",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=(i(),e("../../libs/scripts/common"));Page(Object.assign({},o,{data:{showClear:!1,searchInfo:{},tabType:0,searchResult:null,sysId:0,noResult:!0,scrollLeft:0},onLoad:function(e){n.setNavigationBarTitle({title:"搜索"});this.getWXAppInfo(this);var t=JSON.parse(e.minfo),a=i().globalData.isManage||!1;this.setData({searchInfo:t,tabType:0,isManage:a})},afterGetWXAppInfo:function(e){var t=i().globalData.wxappInfo.bookSetting,a=0==t.bsp.is?"scaleToFill":1==t.bsp.is?"aspectFill":"aspectFit";e.setData({imageScaleMode:a})},onShow:function(){a.logDog(7000090,4)},scrollToTab:function(e){var t=this,a=n.createSelectorQuery();a.select("#type"+e.t+"ci"+e.ci).boundingClientRect(),a.exec((function(e){e[0]&&t.setData({scrollLeft:e[0].left-15})}))},onPullDownRefresh:function(){n.stopPullDownRefresh();var e=this,t=this.data.searchInfo,o={wxappAid:t.wxappAid,wxappId:t.wxappId,id:t.id};a.getWXAppModuleInfo(o).then((function(t){if(t){var a=t.data;e.setData({searchInfo:a,tabType:0})}})).then((function(t){var a=e.data.keyword;if(void 0!==a&&""!=a){e.ajaxSearch(a);e.scrollToTab({t:0,ci:0})}}))},navigateBack:function(){n.navigateBack({changed:!0})},showClearButton:function(e){if(e.detail.value){if(this.data.showClear)return;this.setData({showClear:!0})}else this.setData({showClear:!1})},confirmSearch:function(e){this.setData({tabType:0});var t=e.detail.value;t&&this.ajaxSearch(t)},goSearch:function(e){var t=e.currentTarget.dataset.kw;this.setData({showClear:!0}),this.setData({tabType:0});this.scrollToTab({t:0,ci:0}),this.ajaxSearch(t)},ajaxSearch:function(e){var t=this;t.setData({keyword:e});var o={kw:e,scl:t.data.searchInfo.content.scl,moduleId:t.data.searchInfo.id};a.searchResult(o).then((function(e){!function(e){for(var a=e.data,o=t.data.searchInfo.content.scl,i=0;i<o.length;i++)if(1==o[i].t&&0==a.bookCount)o[i].empty=!0;else if(2==o[i].t&&0==a.newsCount)o[i].empty=!0;else if(3==o[i].t&&0==a.cardCount)o[i].empty=!0;else if(4==o[i].t){for(var s=a.infoSysList,r=0;r<s.length;r++)if(o[i].empty=!1,o[i].ci==s[r].sysId&&0==s[r].totalSize){o[i].empty=!0;break}}else o[i].empty=!1;s=a.infoSysList;for(var l=o.length-1;l>=0;l--)if(1!=o[l].t||0!=a.bookCount||l!=o.length-1&&!o[l+1].last)if(2!=o[l].t||0!=a.newsCount||l!=o.length-1&&!o[l+1].last)if(3!=o[l].t||0!=a.cardCount||l!=o.length-1&&!o[l+1].last)if(4==o[l].t)for(r=0;r<s.length;r++)o[l].ci==s[r].sysId&&(0!=s[r].totalSize||l!=o.length-1&&!o[l+1].last?o[l].last=!1:o[l].last=!0);else o[l].last=!1;else o[l].last=!0;else o[l].last=!0;else o[l].last=!0;for(var d=0;d<o.length;d++)o[d].last&&d>0&&(o[d-1].last=!0),d==o.length-1&&(o[d].last=!0);var c,u={},p=0;if(a.infoSysList.length)for(i=0;i<a.infoSysList.length;i++)p=p||a.infoSysList[i].totalSize;c=!(a.bookCount||a.newsCount||a.cardCount||a.cardCount||p),u.noResult=c,u["searchInfo.content.scl"]=o,u.searchResult=a,t.setData(u),n.setNavigationBarTitle({title:"搜索结果"})}(e)}))},onReachBottom:function(e){var t=this.data.tabType,o=this.data.searchInfo.content.scl,n=void 0,i=void 0,s=void 0;if(0==t){for(var r=0;r<o.length;r++)o[r].last&&(i=o[r].t);4==i&&(n=o[o.length-1].ci)}else i=t,n=this.data.sysId;if(1==i){if((s=this.data.searchResult.bookList.length)>=this.data.searchResult.bookCount)return}else if(2==i){if((s=this.data.searchResult.newsList.length)>=this.data.searchResult.newsCount)return}else if(3==i){if((s=this.data.searchResult.cardList.length)>=this.data.searchResult.cardCount)return}else{var l=this.data.searchResult.infoSysList;for(r=0;r<l.length;r++)if(l[r].sysId==n&&(s=l[r].list.length)>=l[r].totalSize)return}var d=this,c=d.data.searchResult,u=c.newsList,p=c.bookList,g=c.cardList,f=c.infoSysList,h={kw:d.data.keyword,scl:d.data.searchInfo.content.scl,moduleId:d.data.searchInfo.id,type:i,sysId:n,index:s};a.searchResult(h).then((function(e){!function(e){var a=e.data;if(u=u.concat(a.newsList),p=p.concat(a.bookList),g=g.concat(a.cardList),(0==t||4==t)&&n)for(var o=0;o<f.length;o++)f[o].sysId==n&&(f[o].list=f[o].list.concat(a.infoSysList[0].list));c.newsList=u,c.bookList=p,c.cardList=g,c.infoSysList=f,d.setData({searchResult:c})}(e)}))},jumpTab:function(e){var t=e.currentTarget.dataset.type,a=e.currentTarget.dataset.sysid?e.currentTarget.dataset.sysid:0,o=e.currentTarget.dataset.item;this.setData({tabType:t,sysId:a}),o&&this.scrollToTab(o)},toBookDetailPage:function(e){var t=e.currentTarget.dataset.sid;n.navigateTo({url:"/pages/bookDetail/bookDetail?bookId="+t})},toNewsDetail:function(e){var t=e.currentTarget.dataset.newsid;n.navigateTo({url:"/pages/newsDetail/newsDetail?id="+t})},toCardDetailPage:function(e){var t=e.currentTarget.dataset.cardid;n.navigateTo({url:"/pages/card/card?id="+t})},gotoDetail:function(e){var t=e.currentTarget.dataset.sysid,a=e.currentTarget.dataset.lid;a&&n.navigateTo({url:"/pages/infoSysDetail/infoSysDetail?sysId="+t+"&id="+a})},clearKeyword:function(){this.setData({keyword:"",showClear:!1})},callPhone:function(e){var t=e.target.dataset.phone;a.reportVisitorBehavior({type:23});var o=getCurrentPages(),i=o[o.length-1];i.commonMakePhoneCall?i.commonMakePhoneCall(t):n.makePhoneCall({phoneNumber:t})}}))}(__hacked)})),window.define("pages/infoSysDetail/infoSysDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a,o=t.setTimeout;t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=e("../../utils/api"),l=e("../../libs/wxParse/wxParse.js"),d=(e("../../utils/util"),e("../../libs/scripts/common")),c=i();Page(Object.assign({},d,{data:(a={sysId:0,detailId:0,selectedIndex:0,selectedImgParams:{},imgList:[]},s(a,"detailId",0),s(a,"infoSysDetail",{}),s(a,"infoSysSetting",{baseSetting:{},detailPageSetting:{}}),s(a,"formModuleData",{}),s(a,"globalColor",""),s(a,"isShowFormPanel",!1),s(a,"panelAnimation",{}),s(a,"footerData",null),s(a,"showShare",!1),s(a,"scrollIntoViewId",""),s(a,"scrollLeft",0),a),onLoad:function(e){var t=this,a=e.sysId,o=e.id;this.setData({sysId:a,detailId:o}),this.getWXAppInfo(this);var i,s=void 0,d=this;if(a&&o){if(void 0===c._infoSysDetailSetting&&(c._infoSysDetailSetting={}),n.showLoading({title:"加载中...",mask:!0}),void 0===c._infoSysDetailSetting[a])c._infoSysDetailSetting[a]={},s=r.getInfoSysDetailSetting(a);else{var u=c._infoSysDetailSetting[a];this.setData({infoSysSetting:{baseSetting:Object.assign({},u.baseSetting),detailPageSetting:Object.assign({},u.detailPageSetting)}})}i=r.getInfoSysDetail(o),Promise.all([s,i]).then((function(e){var o=e[0],i=e[1],s={};if(s.infoSysSetting=c._infoSysDetailSetting[a],o){var r=c._infoSysDetailSetting[a];r.baseSetting=o.baseSetting,r.detailPageSetting=o.detailPageSetting,t.setData({infoSysSetting:{baseSetting:Object.assign({},r.baseSetting),detailPageSetting:Object.assign({},r.detailPageSetting)}})}if(i){var u=i.infoSysDetail,p=u.content;p&&(n.showLoading({}),l.wxParse("infoSysDetailContent","html",p,d,5,!0),n.hideLoading()),s.infoSysDetail=u,s.imgList=u.imgList,s.selectedImgParams=u.imgList[0],s.setting=u.other,u.openSetting&&(s.infoSysSetting=t.data.infoSysSetting,s.infoSysSetting.baseSetting=Object.assign({},u.other.ds))}t.setData(s)})).then((function(){n.hideLoading();var e=t.data.infoSysSetting.baseSetting;return(e.showPhone||e.showAddress||e.showForm)&&t.setData({footerData:{phone:{show:e.showPhone,val:e.phn,order:1,logDog:{id:"7000106",srcId:1}},address:{show:e.showAddress,val:e.prov+e.addr,order:2,logDog:{id:"7000106",srcId:2}},button:{show:e.showForm,text:e.btx}}}),r.getWXAppForm(e.fid)})).then((function(e){if(e){var t={pattern:{bg:{},e:!1},content:{btnName:"马上提交",detailId:o,formId:e.data.id,formData:e.data.contentList||[]}};d.setData({formModuleData:t})}})).catch((function(e){console.log(e),n.hideLoading()})),r.reportVisitorBehavior({relationId:o})}},onShow:function(){var e=this;c.globalData.visitorId;this.visitTimer=o((function(){r.reportVisitorBehavior({type:11,relationId:e.data.detailId})}),6e4)},onHide:function(){this.visitTimer&&clearTimeout(this.visitTimer)},onUnload:function(){this.visitTimer&&clearTimeout(this.visitTimer)},onShareAppMessage:function(){r.reportVisitorBehavior({type:26,relationId:this.data.detailId});var e=this.beforeShareAppMessage({params:"sysId="+this.data.sysId+"&id="+this.data.detailId});return Object.assign({},e)},swiperChange:function(e){var t=e.detail.current;this.setData({scrollLeft:55*t,selectedIndex:t,selectedImgParams:this.data.infoSysDetail.imgList[t]})},selectedImg:function(e){e.target.dataset;var t=e.target.dataset.idx;void 0!==t&&this.setData({selectedIndex:t,selectedImgParams:this.data.infoSysDetail.imgList[t]})},previewImage:function(e){var t=e.currentTarget.dataset.url,a=this.data.imgList.map((function(e){return e.imgPath}));t&&n.previewImage({current:t,urls:a})},openFormPanel:function(){var e=this;r.logDog(7000106,3),this.setData({isShowFormPanel:!0},(function(){var t=e.animation;t||(e.animation=t=n.createAnimation({duration:500,timingFunction:"ease"})),t.scale(1).opacity(1).step(),e.setData({panelAnimation:t.export()})}))},closeFormPanel:function(){var e=this;this.selectComponent("#form-module").clearFormData(),this.setData({isShowFormPanel:!1},(function(){var t=e.animation;t.scale(.7).opacity(0).step(),e.setData({panelAnimation:t.export()})}))},completeHandler:function(){r.logDog(7000106,4),this.closeFormPanel()}}))}(__hacked)})),window.define("pages/advertising/advertising",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("../../libs/scripts/col"),s=e("../../utils/api"),r=e("../../libs/wxParse/wxParse.js"),l=e("../../libs/scripts/common"),d=i();Page(Object.assign({},l,o,{props:{isCusCol:!0},data:{showContent:!1},onLoad:function(e){if(e.ori){var t=e.ori?e.ori:0;this.data.ori=t;var a=d.globalData.firstVisitPath,o=d.globalData.firstVisitPathAndLogAdv;a&&!o&&("pages/index/index"==a?s.logDog(7000087,3):"pages/card/card"==a?s.logDog(7000087,0):"pages/newsDetail/newsDetail"==a?s.logDog(7000087,1):"pages/bookDetail/bookDetail"==a?s.logDog(7000087,2):s.logDog(7000087,4),d.globalData.firstVisitPathAndLogAdv=!0);this.getWXAppInfo(this)}else n.redirectTo({url:"/pages/index/index"})},afterGetWXAppInfo:function(e){e.data.isOem?n.redirectTo({url:"/pages/index/index"}):(e.setData({showContent:!0}),s.getAdvContent().then((function(t){if(t){var a=t.colInfo||{};e.initWXAppColModuleInfo(a)}})))},onShow:function(){1==this.data.ori&&s.logDog(7000032,5),s.logDog(7000055,0),s.logVisitDog(7000166,6),s.logDog(7000055,18)},onPullDownRefresh:function(){n.stopPullDownRefresh()},onReachBottom:function(){s.logDog(7000055,14)},onShareAppMessage:function(){s.logDog(7000081,0)},initWXAppColModuleInfo:function(e){var t=e.moduleInfoList;if(t.length>0)for(var o=0;o<t.length;o++){var i=t[o];if(5==i.style){var s=i.content.moduleList;if(s.length>0)for(var l=0;l<s.length;l++){var d=s[l];if(4==d.subModuleInfo.style){var c=d.subModuleInfo.content.text;"object"!=(void 0===c?"undefined":a(c))&&(r.wxParse("text","html",c,this,5),d.subModuleInfo.content.text=this.data.text)}}}if(6==i.style)for(var u=i.content.imgList,p=0;p<u.length;p++){var g=u[p],f=g.des;""!=f&&"object"!=(void 0===f?"undefined":a(f))&&(r.wxParse("des","html",f,this,5),g.des=this.data.des)}}this.setData({name:e.name,moduleInfoList:t}),n.setNavigationBarTitle({title:e.name})},jumpCtrl:function(e){var t=e.currentTarget.dataset.jinfo;t&&(10==t.t&&"v7ROcaqL3QIYWwxrnj58BfbALNhkpu2o"==t.bdAppKey&&"/pages/templateCenter/templateCenter"==t.bdPath?this.jumpTemplates(t):this.jumpTypeCtrl(t))},jumpTemplates:function(e){n.showLoading({title:"跳转中"});var t=e.bdAppKey||"",a="/pages/templateCenter/templateCenter?isManage=true&_cliid="+i().globalData._cliid+"&_ta=7304";n.navigateToSmartProgram({appKey:t,path:a,envVersion:"release",success:function(e){s.logVisitDog(7000166,8),s.logDog(7000055,19);var t=i().globalData.extConfigData.aid;s.logDog(7000055,t)},fail:function(e){console.log("navigateToSmartProgram fail",e),s.logDog(7000055,20)}})}}))}(__hacked)})),window.define("pages/messageBoard/messageBoard",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=i(),o=e("../../utils/api"),s=e("../../libs/scripts/common");Page(Object.assign({},s,{data:{allMessageList:[]},onLoad:function(e){var t=this;t.getWXAppInfo(t);o.getWXAppColModuleInfo(7).then((function(e){t.initColInfo(e)})),o.reportVisitorBehavior()},afterGetWXAppInfo:function(e){this.getMessageList()},initColInfo:function(e){var t=e.name||"留言板";n.setNavigationBarTitle({title:t}),this.setData({title:t})},getMessageList:function(){n.showLoading({title:"加载中",mask:!0});var e=this,t={};function i(t){if(t.success){var a=t.data||{},o=a.visitorMessageList.concat(a.mesasgeList)||[];e.setData({allMessageList:o})}else n.showModal({title:"加载失败",showCancel:!1,content:t.msg})}void 0!==a.globalData.openId?o.getMessageList(t).then((function(e){i(e)})):n.login({success:function(e){"login:ok"==e.errMsg&&(t.code=e.code,o.getMessageList(t).then((function(e){i(e)})))}})},addMessage:function(e){var t=e.detail||{};this.data.allMessageList.unshift(t),this.setData({allMessageList:this.data.allMessageList})},previewImage:function(e){var t=e.currentTarget.dataset.sbp,a=e.currentTarget.dataset.message,o=this.data.allMessageList[a].picList.map((function(e){return e.url}));if(t){var i=e.currentTarget.dataset.img;n.previewImage({current:i,urls:o})}},onPullDownRefresh:function(){n.stopPullDownRefresh(),this.getMessageList();var e=this;o.getWXAppInfo().then((function(){e.initWXAppInfo(e)})),i().globalData.isManage&&this.setData({showActionSheet:!1})},syncdata:function(e){var t=e.detail.type,a=e.detail.value;if("globalColor"==t)this.setData({globalColor:a}),i().globalData.globalColor=a;else if("sidePhoneOpen"==t)this.setData({showPhone:a});else if("colName"==t){2==this.data.colId&&(this.setData({name:a}),n.setNavigationBarTitle({title:a}))}else"phone"==t&&(i().globalData.wxappInfo.cusService.phone=a)},onShareAppMessage:function(){o.logDog(7000081,0),o.logDog(7000081,11),o.reportVisitorBehavior({type:24,relationId:7});var e=this.data.title||"",t=this.beforeShareAppMessage(),a={title:e};return Object.assign(a,t)}}))}(__hacked)})),window.define("pages/webview/webview",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/webview");Page(Object.assign({},a,{props:{isTabBarWebView:!1}}))}(__hacked)})),window.define("pages/webview1/webview1",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/webview");Page(Object.assign({},a,{props:{isTabBarWebView:!0,tabBarWebViewIndex:0}}))}(__hacked)})),window.define("pages/webview2/webview2",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/webview");Page(Object.assign({},a,{props:{isTabBarWebView:!0,tabBarWebViewIndex:1}}))}(__hacked)})),window.define("pages/webview3/webview3",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/webview");Page(Object.assign({},a,{props:{isTabBarWebView:!0,tabBarWebViewIndex:2}}))}(__hacked)})),window.define("pages/webview4/webview4",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/scripts/webview");Page(Object.assign({},a,{props:{isTabBarWebView:!0,tabBarWebViewIndex:3}}))}(__hacked)})),window.define("pages/myOrderDetail/myOrderDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../utils/api")),s=e("../../libs/scripts/common");Page(Object.assign({},s,{data:{detail:{},globalColor:"",phoneNum:"",latitude:23.099994,longitude:113.32452,markers:[],addr:"",mapHeightStyle:"",isOver:!1,isExtend:!1,discount:{},bookSetting:{pu:""}},onLoad:function(e){var t=this;this.getWXAppInfo(this);var s=i().globalData.extConfigData,r=JSON.parse(e.detail),l=[],d=this;o.issueRequest({url:{path:"appAjax/order.jsp",cmd:"getOrder"},data:{wxappAid:s.wxappAid,wxappId:s.wxappId,orderId:r.id},method:"POST"}).then((function(o){var s,r,c=o.orderInfo,u=o.orderPropList,p=c.service.setting.cs,g=function(e){u.forEach((function(t){t.fieldKey==e&&""!=c.prop[e]&&l.push({name:t.name,value:c.prop[e]})}))};for(var f in c.prop)g(f);var h=t.getCurrentStatus(c.payType,c.service.type,c.status);c.statusStr=h.str,s=p.ao?p.prov+p.addr:"",r=p.po?p.p:"",d.setData({detail:c,orderInfoList:l,globalColor:e.globalColor,phoneNum:r,addr:s,discount:c.discount,bookSetting:i().globalData.wxappInfo.bookSetting}),d.initAddress(),a((function(){var e=n.createSelectorQuery(),t=n.getSystemInfoSync().windowWidth;e.select(".my-order-detail-booking").boundingClientRect(),e.exec((function(e){e[0].height>328/(750/t)&&d.setData({isOver:!0})}))}),200)}))},getCurrentStatus:function(e,t,a){var o="",n=0,i="";return i=0===e?"(到店支付)":1===e?"(微信支付)":"(上门支付)",3==a?(o="待支付",n=1):0==a||4==a||5==a?(o=0==t?5==a?"退款中"+i:4==a?"已支付"+i:"进行中"+i:"进行中",n=2):1==a?(o=0==t?"已完成"+i:"已完成",n=3):2==a&&(o=0==t?"已取消"+i:"已取消",n=4),{index:n,str:o}},makePhoneCall:function(){o.reportVisitorBehavior({type:23});i().globalData.wxappInfo;n.makePhoneCall({phoneNumber:this.data.phoneNum})},initAddress:function(){var e=this;this.data.addr&&o.getLocationByAddr((function(t){t&&e.setData({latitude:t.lat,longitude:t.lng})}),this.data.addr)},extendBooking:function(){this.setData({isExtend:!this.data.isExtend})},turntoAddress:function(){o.reportVisitorBehavior({type:22}),n.openLocation({latitude:this.data.latitude,longitude:this.data.longitude,name:this.data.addr})}}))}(__hacked)})),window.define("pages/voteResult/voteResult",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("../../libs/wxParse/wxParse.js");var a=e("../../utils/api"),o=e("../../utils/util"),s=e("../../libs/scripts/common");i();Page(Object.assign({},s,{data:{voteInfo:null,resultVisible:0,total:0,voteStatus:0,voteStatusStr:"",nowTime:"",isLoading:!0},onLoad:function(e){var t=e.id;t&&(this.setData({id:t}),this.getWXAppInfo(this))},afterGetWXAppInfo:function(e){e.initPageInfo(e)},initPageInfo:function(e){var t=e.data.id;a.getVote(t).then((function(t){if(t){for(var a=t,n=a.itemList||[],i=0,s=0;s<n.length;s++)i+=n[s].count;var r=a.startTime,l=a.endTime;r=r.replace(/-/g,"/"),l=l.replace(/-/g,"/");var d=new Date(r.toString())-new Date,c=new Date(l.toString())-new Date,u=0,p="",g="";d>=0?(u=0,p="未开始"):d<=0&&c>=0?(u=1,p="进行中",g=(g=o.formatTime(new Date)).replace(/\//g,"-")):c<=0&&(u=2,p="已结束");var f=a.setting.rv||0;e.setData({voteInfo:a,total:i,voteStatus:u,voteStatusStr:p,resultVisible:f,nowTime:g,isLoading:!1})}}))},onPullDownRefresh:function(e){n.stopPullDownRefresh(),this.initPageInfo(this)},onShareAppMessage:function(e){"menu"==e.from||e.from;var t=this.data.voteInfo&&this.data.voteInfo.subject||"投票结果",a=this.beforeShareAppMessage({params:"id="+this.data.id}),o={title:t};return Object.assign(o,a)}}))}(__hacked)})),window.define("pages/voteDetail/voteDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/wxParse/wxParse.js"),o=e("../../utils/api"),s=(e("../../utils/util"),e("../../libs/scripts/common"));i();Page(Object.assign({},s,{data:{voteInfo:{},voteInfoContent:"",setting:{},openVaildationCode:!1,countShow:!1,showPhone:!1,showShare:!1},onReady:function(){this.dialog=this.selectComponent("#dialog")},onLoad:function(e){var t=e.id;this.setData({id:t}),this.getWXAppInfo(this)},afterGetWXAppInfo:function(e){i().globalData.openId?e.initPageDetailInfo(e):n.login({success:function(t){if(t.code){var a=t.code;o.getUserInfoByCode(a).then((function(t){e.initPageDetailInfo(e)}))}},fail:function(e){}})},initPageDetailInfo:function(e){var t=e.data.id;o.getVoteItemInfo(t).then((function(t){if(t){var n=t.voteItem,i=n.picUrlList||[];i[0]||(i[0]="http://qz.faisys.com/image/wxImage/wxMaterial/vote_1.jpg");var s=n,r=t.setting,l=t.openVaildationCode,d=t.countShow,c=s.content,u=!0;c&&(a.wxParse("voteInfoContent","html",c,e,5,!0),u=!1);var p={button:{show:!0,text:s.voted?"已投票":"投票",bgc:s.voted?"#d4d4d4":""},share:{show:!0}};return e.setData({footerData:p,voteInfo:s,voteInfoEmpty:u,setting:r,openVaildationCode:l,countShow:d}),o.getVote(s.voteId)}})).then((function(t){e.setData({voteInfo:Object.assign({voteSubjectInfo:t},e.data.voteInfo)})})).catch((function(e){console.log(e)}))},voteHandler:function(e){var t=this,a=t.data.voteInfo||{},n=a.voteId,i=a.id;if(!a.voted){var s={voteId:n,itemId:i};t.data.openVaildationCode?o.checkVote(s).then((function(e){if(e)return o.validateSign()})).then((function(e){if(e){var a=e.code||"",o=e.sign||"",s=parseInt(1e3*Math.random()),r=e.wxappDomainUrl+"validateCode.jsp?"+s+"&code="+encodeURIComponent(a);t.setData({showModal:!0,wxappDomainUrl:e.wxappDomainUrl,picCodeUrl:r,code:a,sign:o,voteId:n,itemId:i})}})):t.vote(s)}},vote:function(e){var t=this,a=t.data.voteInfo||{},n=a.voteId,i=a.id;a.voted;return new Promise((function(s,r){o.vote(e).then((function(e){if(e){o.logDog(7000180,1);var r={button:{show:!0,text:a.voted?"投票":"已投票",bgc:a.voted?"":"#d4d4d4"},share:{show:!0}},l={},d="voteInfo.count";l[d]=a.count+1,l[d="voteInfo.voted"]=!0,l[d="footerData"]=r,l[d="showModal"]=!1,l[d="picCodeErr"]=!1,t.setData(l),t.dialog.show({title:"提示",content:e,confirmButton:"确 定"});for(var c=getCurrentPages()[0].data.votesList,u=0;u<c.length;u++){var p=c[u];if(p.id==n){for(var g=0;g<p.itemList.length;g++)if(p.itemList[g].id==i){var f={},h="votesList["+u+"].itemList["+g+"].count";f[h]=p.itemList[g].count+1,f[h="votesList["+u+"].itemList["+g+"].voted"]=!0,getCurrentPages()[0].setData(f);break}break}}s(e)}}))}))},preventTouchMove:function(){},hideModal:function(){this.setData({showModal:!1,picCodeErr:!1})},onConfirm:function(){var e=this.data.picCodeVal;if(e)if(4==e.length){var t={validateCode:e,validateSign:this.data.sign,voteId:this.data.voteId,itemId:this.data.itemId};this.vote(t)}else this.setData({picCodeErr:!0,picCodeErrText:"图片验证码输入错误，请重新输入"});else this.setData({picCodeErr:!0,picCodeErrText:"请填图片验证码！"})},picCodeIput:function(e){this.setData({picCodeVal:e.detail.value})},changePicCode:function(e){var t=this;o.validateSign().then((function(e){if(e){var a=e.code||"",o=e.sign||"",n=parseInt(1e3*Math.random()),i=e.wxappDomainUrl+"validateCode.jsp?"+n+"&code="+encodeURIComponent(a);t.setData({picCodeUrl:i,code:a,sign:o})}}))},onPullDownRefresh:function(e){n.stopPullDownRefresh();var t="/pages/voteDetail/voteDetail?id="+this.data.id;o.getWXAppInfo().then((function(){n.redirectTo({url:t})}))},onShareAppMessage:function(e){"menu"==e.from||e.from,o.logDog(7000180,0);var t=this.data.voteInfo.voteSubjectInfo&&this.data.voteInfo.voteSubjectInfo.subject||"选项详情",a=this.beforeShareAppMessage({params:"id="+this.data.id}),n={title:t};return Object.assign(n,a)}}))}(__hacked)})),window.define("pages/audioDetail/audioDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=e("../../utils/api"),s=e("../../libs/wxParse/wxParse.js"),r=e("../../libs/scripts/login.js"),l=e("../../libs/scripts/common");Page(Object.assign({},l,{data:{isPlaying:!1,currentTime:0,duration:0,currentTimeStr:"00:00",durationTimeStr:"00:00",audioInfo:{},content:"",ablumData:{index:0,list:[{src:"",animation:null},{src:"",animation:null}]},globalColor:""},onLoad:function(e){this.initPureData();var t=this.audioId=+e.id,a=this.idList=e.idList?JSON.parse(e.idList):[t],o={};a.forEach((function(e){o[e]={}})),this.audioInfoMap=o,this.getWXAppInfo(this),this.init()},onShareAppMessage:function(){o.logDog(7000204,2);var e=this.beforeShareAppMessage({params:"id="+this.audioId+"&idList="+JSON.stringify(this.idList)}),t={title:this.data.audioInfo&&this.data.audioInfo.name||"",imageUrl:this.data.audioInfo&&this.data.audioInfo.picUrlList[0]||void 0};return Object.assign(t,e)},initPureData:function(){this.audioId=0,this.idList=[],this.isSeeking=!1,this.audioInfoMap={},this.audioContext=null,this.albumAnimationEndCallback=null,this.albumDirectionDef={LEFT:"left",RIGHT:"right"}},init:function(){var e=this,t=this.audioId,a=this.idList,o=a.findIndex((function(e){return e==t}));if(this.initAudioContext(),this.getAudio(t).then((function(){e.updateAudio(t,!0)})),!(a.length<=1)){var n=0===o?a[a.length-1]:a[o-1],i=o===a.length-1?a[0]:a[o+1];this.getAudio(n),this.getAudio(i)}},updateAudio:function(e,t){this.seek(0),this.setCurrentAudioInfo(e),this.setAudioContextInfo(t),this.initAudioDuration(),this.initDetailContent(),this.addVisitor()},getAudio:function(e){var t=this,a=this.audioInfoMap[e];return a.id?Promise.resolve(a):o.issueRequest({url:{path:"appAjax/media.jsp",cmd:"getAudio"},data:{id:e,from:1}}).then((function(a){if(a.success){t.audioInfoMap[e]=a.audioInfo;a.audioInfo.tdk;if(n.setPageInfo){var o=a.audioInfo.tdk;n.setPageInfo({title:o.t,description:o.d,keywords:o.k})}}})).catch((function(e){console.error(e)}))},setCurrentAudioInfo:function(e){var t=this.audioInfoMap[e],a=this.data.ablumData,o=t.picUrlList[0];this.audioId=e,a.list.forEach((function(e){e.src=o})),this.setData({audioInfo:t,ablumData:a})},setAudioContextInfo:function(e){var t=this.audioContext,a=this.data.audioInfo;t.title=a.name,t.epname=a.summary,t.coverImgUrl=a.picUrlList[0],t.paused||t.src===a.fileUrl||!a.offSale?(e&&t.src&&(t.paused?n.setNavigationBarTitle({title:"暂停播放"}):(this.setData({isPlaying:!0}),n.setNavigationBarTitle({title:"正在播放"}))),t.src==a.fileUrl&&t.audioId===a.id&&this.idList.length>1||(t.src=a.fileUrl,t.audioId=a.id,t.play(),a.offSale&&t.stop())):t.stop()},initAudioContext:function(){var e=this.audioContext;e||(e=this.audioContext=n.getBackgroundAudioManager()),this.bindAudioContextEvent()},initAudioDuration:function(){var e=this.audioContext.duration||0;this.setData({currentTime:0,currentTimeStr:this.secondToMinute(0),duration:Math.ceil(e),durationTimeStr:this.secondToMinute(e)})},initDetailContent:function(){var e=this.data.audioInfo.content;e&&s.wxParse("content","html",e,this,5,!0)},bindAudioContextEvent:function(){var e=this,t=this.audioContext;t.onTimeUpdate(this.timeUpdate.bind(this)),t.onPlay((function(){var t=getCurrentPages();"pages/audioDetail/audioDetail"===t[t.length-1].route&&(e.setData({isPlaying:!0}),n.setNavigationBarTitle({title:"正在播放"}))})),t.onPause((function(){var t=getCurrentPages();"pages/audioDetail/audioDetail"===t[t.length-1].route&&(e.setData({isPlaying:!1}),n.setNavigationBarTitle({title:"暂停播放"}))})),t.onStop((function(){var t=getCurrentPages();"pages/audioDetail/audioDetail"===t[t.length-1].route&&(e.setData({isPlaying:!1,currentTime:0,currentTimeStr:e.secondToMinute(0)}),n.setNavigationBarTitle({title:"停止播放"}))})),t.onEnded((function(){var t=getCurrentPages();"pages/audioDetail/audioDetail"===t[t.length-1].route&&e.toggleNext()}))},unbindAudioContextEvent:function(){var e=this.audioContext;e.offTimeUpdate(),e.offPlay(),e.offPause()},secondToMinute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0==e)return"00:00";var t=0,a=0,o=0,n=e/3600;t=parseInt(n);var i=(e=Math.ceil(3600*(n-t)))/60;a=parseInt(i),o=Math.ceil(60*(i-a));var s=t.toString(),r=a.toString(),l=o.toString();return s=1===s.length?"0"+s:s,r=1===r.length?"0"+r:r,l=1===l.length?"0"+l:l,t>0?s+":"+r+":"+l:r+":"+l},timeUpdate:function(){var e=this.audioContext,t=this.data.currentTime,a=e.currentTime,o=e.duration;if(!(a-1<t)&&t!=a){var n={currentTimeStr:this.secondToMinute(a)};this.data.duration!==o&&(n.duration=Math.ceil(o),n.durationTimeStr=this.secondToMinute(o)),this.isSeeking||(n.currentTime=a),this.setData(n)}},progressChangeing:function(e){this.isSeeking||(this.isSeeking=!0)},progressChange:function(e){var t=e.detail.value;this.seek(t)},seek:function(e){this.setData({currentTime:e,currentTimeStr:this.secondToMinute(e)}),this.isSeeking=!1,this.audioContext.seek(e)},addVisitor:function(){var e=this.audioId,t=i().globalData,a=function(){o.issueRequest({url:{path:"appAjax/media.jsp",cmd:"addAudioBDListener"},data:{id:e,openId:t.openId}})};t.openId?a():r.initUserInfo(!1,a)},togglePrev:function(){var e=this;if(!this.isInAnimation){var t=this.audioId,a=this.idList,o=a.findIndex((function(e){return e==t})),n=0===o?a.length-1:o-1,i=a[n],s=0===n?a[a.length-1]:a[n-1];if(this.idList.length>1){var r=this.audioInfoMap[i],l=this.data.ablumData;l.list[(l.index+1)%2].src=r.picUrlList[0],this.setData({ablumData:l})}this.setAlbumAnimation(this.albumDirectionDef.LEFT),this.albumAnimationEndCallback=function(){e.updateAudio(i),e.getAudio(s)}}},togglePlay:function(){this.data.audioInfo.offSale||(this.audioContext.src?(this.data.isPlaying?this.audioContext.pause():this.audioContext.play(),o.logDog(7000204,0)):this.updateAudio(this.audioId))},toggleNext:function(){var e=this;if(!this.isInAnimation){var t=this.audioId,a=this.idList,o=a.findIndex((function(e){return e==t})),n=o===a.length-1?0:o+1,i=a[n],s=n===a.length-1?a[0]:a[n+1];if(this.idList.length>1){var r=this.audioInfoMap[i],l=this.data.ablumData;l.list[(l.index+1)%2].src=r.picUrlList[0],this.setData({ablumData:l})}this.setAlbumAnimation(this.albumDirectionDef.RIGHT),this.albumAnimationEndCallback=function(){e.updateAudio(i),e.getAudio(s)}}},setAlbumAnimation:function(e){var t=this.albumDirectionDef;if(e===t.LEFT||e===t.RIGHT){this.isInAnimation=!0;var o=this.animation,i=e===this.albumDirectionDef.LEFT?-25:25;o||(o=this.animation=n.createAnimation({duration:500,timingFunction:"ease"})),o.opacity(0).translateX(i).step();var s="ablumData.list["+this.data.ablumData.index+"].animation";this.setData(a({},s,o.export()))}else console.error("direction is not a currect value;")},albumTransitionEnd:function(e){var t,o=this;if(this.isInAnimation){this.isInAnimation=!1;var n=this.animation;n.translateX(0).opacity(1).step({duration:0,delay:500});var i=this.data.ablumData.index,s="ablumData.list["+i+"].animation";this.setData((a(t={},s,n.export()),a(t,"ablumData.index",(i+1)%2),t),(function(){o.albumAnimationEndCallback&&"function"==typeof o.albumAnimationEndCallback&&(o.albumAnimationEndCallback(),o.albumAnimationEndCallback=null)}))}}}))}(__hacked)})),window.define("pages/audioList/audioList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=e("../../libs/scripts/common");Page(Object.assign({},o,{data:{groupInfoMap:{},currentGroupId:0,showAllCateFlag:!1,scrollTarget:null,animationData:{}},toDetail:function(e){var t=e.currentTarget.dataset.id,a=this.data.currentGroupId,o=this.data.groupInfoMap[a].map((function(e){return e.id})),i="?id="+t+"&idList="+JSON.stringify(o);n.navigateTo({url:"/pages/audioDetail/audioDetail"+i})},switchNav:function(e){var t=e.target.dataset.gid;if(void 0!==t&&(this.setData({currentGroupId:t}),this.data.showAllCateFlag&&(this.closeCateDrawer(),this.setData({scrollTarget:"nav"+t})),0!=t&&0===this.data.groupInfoMap[t].length)){var a={};a["groupInfoMap."+t]=this.data.groupInfoMap[0].filter((function(e){return e.groupIdList[0]==t})),this.setData(a)}},showAllCate:function(){this.setData({showAllCateFlag:!0})},closeCateDrawer:function(){this.setData({showAllCateFlag:!1})},syncdata:function(e){var t=e.detail.type,a=e.detail.value;if("globalColor"==t)this.setData({globalColor:a}),i().globalData.globalColor=a;else if("sidePhoneOpen"==t)this.setData({showPhone:a});else if("colName"==t){2==this.data.colId&&(this.setData({name:a}),n.setNavigationBarTitle({title:a}))}else"phone"==t&&(i().globalData.wxappInfo.cusService.phone=a)},onLoad:function(e){var t=this;i().globalData.wxappInfo;this.getWXAppInfo(this),a.getWXAppColModuleInfo(8).then((function(e){if(e){var a=e.name||"音频列表";n.setNavigationBarTitle({title:a}),t.setData({title:a})}})),this.init(e.id)},init:function(e){var t=this,o=a.issueRequest({url:{path:"appAjax/media.jsp",cmd:"getAudioList"}}),n=a.issueRequest({url:{path:"appAjax/media.jsp",cmd:"getAudioGroupList"}});Promise.all([o,n]).then((function(a){if(a){var o=a[0].audioList,n=a[1].audioGroupList;n.length>0&&n.unshift({id:0,name:"全部"});var i=t.data.groupInfoMap;i[0]=o;for(var s=1;s<n.length;s++)i[n[s].id]=[];if(t.setData({groupList:n,groupInfoMap:i}),e){var r={target:{dataset:{gid:""}}};r.target.dataset.gid=e,t.switchNav(r)}}}))},onPullDownRefresh:function(){var e=this.data.currentGroupId;n.showLoading({title:"加载中",mask:!0}),i().globalData.isManage&&this.setData({showActionSheet:!1}),this.init(e),n.hideLoading(),n.stopPullDownRefresh()},onShareAppMessage:function(){a.logDog(7000081,0),a.logDog(7000081,11);var e=this.data.title,t=this.beforeShareAppMessage(),o={title:e};return Object.assign(o,t)}}))}(__hacked)})),window.define("pages/queryResult/queryResult",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=(e("../../utils/wxpay.js"),e("../../libs/scripts/common"));Page(Object.assign({},o,{data:{queryData:[],queryItem:{},resultList:[]},onLoad:function(e){this.queryOptions=JSON.parse(e.query);this.itemId=this.queryOptions.itemId,this.getWXAppInfo(this),this.init(),this.$dialog=this.selectComponent("#dialog")},init:function(){var e=this;this.getQueryData().then((function(t){if(t){var o=t.queryDataList,n=t.queryItem,i=n.queryCondition,s=o[0]||{},r=s.content,l=[];r&&(l=i.map((function(e){return{key:e.k,name:e.n,value:r[e.k]}}))),0===n.purpose?a.logDog(7000233,0):a.logDog(7000233,1),e.setData({queryData:s,queryItem:n,resultList:l})}})).catch((function(e){console.error(e)}))},getQueryData:function(){var e=this.queryOptions,t=e.itemId,o=e.contentList;return n.showLoading({title:"查询中...",mask:!0}),a.issueRequest({url:{path:"appAjax/wxAppConnectionQuery.jsp",cmd:"search"},data:{itemId:t,contentList:JSON.stringify(o)},method:"POST"}).then((function(e){if(!e.success)throw new Error(e.msg);return{queryDataList:e.queryDataList,queryItem:e.queryItem}})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading()}))}}))}(__hacked)})),window.define("pages/webProgram/webProgram",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(e){e.global,e.Function,e.setTimeout,e.setInterval,e.setImmediate,e.requestAnimationFrame,e.swanGlobal,e.jsNative,e.masterManager,e._openSourceDebugInfo,e.System,e.Bdbox_aiapps_jsbridge,e.Bdbox_android_jsbridge,e.Bdbox_android_utils,e._naFile,e._naInteraction,e._naNetwork,e._naRouter,e._naSetting,e._naStorage,e._naUtils,e.globalThis;var t=i();Page({data:{},onLoad:function(){this.setData({isWebApp:t.globalData.isWebApp,webappUrl:t.globalData.webappUrl})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(e){return e}})}(__hacked)})),window.define("pages/myCoupon/myCoupon",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=a.getMyCouponList,i=(a.logDog,e("../../libs/scripts/common"));Page(Object.assign({},i,{data:{tabDef:[{id:0,name:"未使用",list:[],len:0},{id:1,name:"已使用",list:[],len:0},{id:2,name:"已过期",list:[],len:0}],curTabIndex:0,globalColor:"",lenArray:Array,isLoading:!0},init:function(e){var t=e.couponRecordList,a=this.data.tabDef,o=a[0].list=[],n=a[1].list=[],i=a[2].list=[],s=[0,0,0];t.forEach((function(e){switch(e.status){case 0:o.push(e),s[0]=o.length;break;case 1:n.push(e),s[1]=n.length;break;case 2:i.push(e),s[2]=i.length}})),a[0].list=o;this.setData({tabDef:a,lenArray:s,isLoading:!1},(function(){}))},refreshData:function(){var e=this;this.setData({isLoading:!0});var t=o();return t.then((function(t){return e.init(t),!0})).catch((function(e){console.error(e)})),t},switchTab:function(e){var t=e.target.dataset.index;void 0!==t&&this.data.curTabIndex!=t&&(n.pageScrollTo({scrollTop:0,duration:200}),this.setData({curTabIndex:t}))},onLoad:function(e){n.showLoading({title:"稍等一下喔~",mask:!0});this.getWXAppInfo(this);var t=e.currentTab||0;this.data.curTabIndex!=t&&this.setData({curTabIndex:t}),this.refreshData().then((function(e){}))},onReady:function(){this.dialog=this.selectComponent("#dialog")},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){this.refreshData().then((function(){n.stopPullDownRefresh()}))},onReachBottom:function(){},onShareAppMessage:function(){}}))}(__hacked)})),window.define("pages/latestInformation/latestInformation",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function a(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var o=e("../../libs/scripts/common"),s=e("../../utils/api");i();Page(Object.assign({},o,{data:{latestInfo:[],loadedLatestInfo:{from:0,to:-1}},onLoad:function(e){this.getWXAppInfo(this)},afterGetWXAppInfo:function(){s.hasReadLatestInfo(),this.loadedNextLatestInfo(0)},loadedNextLatestInfo:function(e){var t=this;if(!this._latelyFetchEmptyList)return s.getLatestInformation(e).then((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o.orderList;n&&n.length?t.setData({latestInfo:[].concat(a(t.data.latestInfo),a(n)),loadedLatestInfo:{from:t.data.loadedLatestInfo.from,to:e+n.length-1}}):t._latelyFetchEmptyList=!0}))},onReachBottom:function(){var e=this.data.loadedLatestInfo;this.loadedNextLatestInfo(e.to+1)},onPullDownRefresh:function(){var e=this;this.setData({latestInfo:[],loadedLatestInfo:{from:0,to:-1}},(function(){e._latelyFetchEmptyList=!1,e.loadedNextLatestInfo(0).then((function(){return n.stopPullDownRefresh()}))}))}}))}(__hacked)})),window.define("pages/myForm/myForm",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function a(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var o=e("../../libs/scripts/common"),s=e("../../utils/api"),r=e("../../utils/util");i();Page(Object.assign({},o,{data:{index:0,totalForm:0,currentForm:0,formList:[],loadedPage:{from:1,to:-1}},onLoad:function(e){this._query=e;var t=this._query.formTitle;n.setNavigationBarTitle({title:t||"我填的表"}),this.getWXAppInfo(this)},afterGetWXAppInfo:function(){var e=this;s.getMyForm(0).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.formList,o=t.total;if(a&&a.length){var n=e._query.page;(n=~~n)&&o>=n?e.setData({index:n-1,formList:a,totalForm:o,currentForm:a.length?a[n-1]:{},loadedPage:{from:0,to:0+a.length-1}}):e.setData({index:0,formList:a,totalForm:o,currentForm:a.length?a[0]:{},loadedPage:{from:0,to:a.length-1}})}else e._latelyFetchEmptyList=!0}))},loadNextFormList:function(e){var t=this;return this._latelyFetchEmptyList?Promise.resolve():s.getMyForm(e).then((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o.formList;n&&n.length?(n.forEach((function(e){e.createTime&&(e.createHumanTime=r.formatTime(new Date(e.createTime)))})),t.setData({formList:[].concat(a(t.data.formList),a(n)),loadedPage:{from:t.data.loadedPage.from,to:e+n.length-1}})):t._latelyFetchEmptyList=!0}))},pageChange:function(e){var t=this,a=e.detail,o=this.data.loadedPage;if(a&&this.data.totalForm>=a){o.to-a<=3&&this.data.totalForm>o.to?this.loadNextFormList(o.to+1).then((function(){t.setData({index:a-1,currentForm:t.data.formList[a-1]}),n.pageScrollTo({scrollTop:0})})):(this.setData({index:a-1,currentForm:this.data.formList[a-1]}),n.pageScrollTo({scrollTop:0}))}},photoPreview:function(e){var t=e.currentTarget.dataset.picurl;n.previewImage({urls:[t]})}}))}(__hacked)})),window.define("pages/templateCenter/templateCenter",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../utils/api"),o=(e("../../utils/apiOpt.js"),e("../../libs/scripts/common"));Page(Object.assign({},o,{data:{popupType:4,templateList:[],showContent:!1},onLoad:function(e){e.ta&&(i().globalData.ta=e.ta);var t=e._cliid;t&&(i().globalData._cliid=t);this.getWXAppInfo(this)},afterGetWXAppInfo:function(e){if(e.data.isOem)n.redirectTo({url:"/pages/index/index"});else{i().globalData.isManage=!0,e.setData({showContent:!0});a.issueRequest({url:{cmd:"getModelList",path:"appAjax/manage.jsp"}}).then((function(t){t.success?e.setData({templateList:t.modelList}):n.showToast({title:"请求模板数据失败",icon:"none",duration:2e3})}))}},onReady:function(){this.popup=this.selectComponent("#popup")},onShow:function(){n.setNavigationBarTitle({title:"模板中心"}),a.logDog(7000116,0)},onPullDownRefresh:function(){n.stopPullDownRefresh()},onShareAppMessage:function(){},viewTemplate:function(e){a.logDog(7000116,1),a.logVisitDog(7000166,9);var t=e.currentTarget.dataset,o=t.wxappaid,s=t.wxappid,r=t.tmpid;i().globalData.isManage=!0,i().globalData.hasCopy=0,n.reLaunch({url:"/pages/index/index?scene="+o+"_"+s+"&tmpid="+r+"&isManage=true&hasCopy=0"})}}))}(__hacked)})),window.define("pages/opt/login/login",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout;var a=t.setInterval,o=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),s=i(),r=e("../../../utils/apiOpt.js"),l=e("../../../utils/optMD5.js"),d=e("../../optBehavior/optBehavior.js"),c=e("../../../libs/scripts/common");Page(Object.assign({},c,{data:{info:{mobileNumber:"",mobileCode:"",phoneExisted:!1,codeBtnDisabled:!0,codeBtnText:"获取短信码",acct:"",sacct:"",pwd:"",satffLogin:!1,placeholderTxt:""},msgTips:"",nextBtnDisabled:!0,loginType:1,userInfo:{},hasUserInfo:!1,canIUse:n.canIUse("button.open-type.getUserInfo"),hiddenLoading:!0,showContent:!1},onLoad:function(e){this.getWXAppInfo(this);var t=e.mobile;r.isMobile(t)&&(this.setData({"info.mobileNumber":e.mobile,"info.acct":e.mobile}),this.isExistPhone(t)),s.globalData.userInfo&&this.setData({userInfo:s.globalData.userInfo,hasUserInfo:!0})},afterGetWXAppInfo:function(e){if(e.data.isOem)n.redirectTo({url:"/pages/index/index"});else{e.setData({showContent:!0});var t=this,a=i().globalData.extConfigData;n.request({url:a.wxappDomainUrl+"appAjax/manage.jsp?cmd=getWXAppKey",data:{},method:"POST",success:function(e){var a=e.data||{};a.success&&t.setData({"info.placeholderTxt":a.placeholderTxt})}})}},switchType:function(e){var t=(e.currentTarget.dataset||{}).type||0;this.setData({loginType:t,msgTips:""}),this.loginBtnHandle()},mobileHandle:function(e){var t=e.detail.value,a=!1,o="";r.isMobile(t)?(a=!0,this.isExistPhone(t)):11==t.length&&(o="请输入正确的11位手机号码"),a||(this.setData({"info.codeBtnDisabled":!0,"info.phoneExisted":!1,"info.mobileNumber":t,msgTips:o,nextBtnDisabled:!0}),this.loginBtnHandle())},isExistPhone:function(e){var t=this;r.request({url:"ajax/wxhome_h.jsp?cmd=isExistPhone",data:{mobile:e},method:"POST",success:function(a){var o=a.data||{},n="",i=!1,s=!0,l=!0;o.success?(o.existed||(n=o.msg),s=!o.existed,i=o.existed):n=o.msg,l=!r.check4Code(t.data.info.mobileCode),t.setData({"info.codeBtnDisabled":s,"info.phoneExisted":i,"info.mobileNumber":e,msgTips:n,nextBtnDisabled:l}),t.loginBtnHandle()}})},getMobiCode:function(e){var t=this,a=t.data.info.mobileNumber;t.setData({"info.codeBtnDisabled":!0}),r.request({url:"ajax/wxhome_h.jsp?cmd=getMobileCode",data:{mobile:a,professionTpye:s.globalData.professionTpye},method:"POST",success:function(e){var a=e.data||{};a.success?(r.setCookie("wx_mesign",a.__MESIGN,3e5),t.countdown()):t.setData({msgTips:a.msg,"info.codeBtnDisabled":!1})}})},countdown:function(){var e=60,t=this,o="",n=!0,i=a((function(){e<=0?(clearInterval(i),o="获取短信码",n=!1):(e--,o=e+"s",n=!0),t.setData({"info.codeBtnText":o,"info.codeBtnDisabled":n})}),1e3)},mobilecodeHandle:function(e){var t=e.detail.value,a=!0;a=!(4==t.length&&r.check4Code(t)&&r.isMobile(this.data.info.mobileNumber)&&this.data.info.phoneExisted),this.setData({"info.mobileCode":t,nextBtnDisabled:a}),this.loginBtnHandle()},acctHandle:function(e){this.setData({"info.acct":e.detail.value}),this.loginBtnHandle()},sacctHandle:function(e){this.setData({"info.sacct":e.detail.value}),this.loginBtnHandle()},pwdcodeHandle:function(e){this.setData({"info.pwd":e.detail.value}),this.loginBtnHandle()},checkboxChange:function(e){var t=this.data.info.satffLogin,a="请输入凡科网帐号/邮箱/手机号";t||(a="请输入凡科网帐号"),this.setData({"info.satffLogin":!t,"info.placeholderTxt":a}),this.loginBtnHandle()},loginBtnHandle:function(){var e=this.data.info,t=!0;1==this.data.loginType?""!=e.acct&&""!=e.pwd&&(e.satffLogin&&""!=e.sacct?t=!1:e.satffLogin||(t=!1)):r.check4Code(e.mobileCode)&&r.isMobile(e.mobileNumber)&&e.phoneExisted&&(t=!1),this.setData({nextBtnDisabled:t})},login:function(e){var t=this,a=t.data.info,o=t.data.loginType,i="";t.setData({nextBtnDisabled:!0}),i=2==o?"loginByMobileCode":"loginByAcct",r.request({url:"ajax/wxhome_h.jsp?cmd="+i,data:{mobile:a.mobileNumber,mobileCode:a.mobileCode,wx_mesign:r.getCookie("wx_mesign"),cacct:a.acct,pwd:l.hexMD5(a.pwd),staffLogin:a.satffLogin,sacct:a.sacct,openid:n.getStorageSync("_OPENID"),unionid:n.getStorageSync("_UNIONID"),professionTpye:s.globalData.professionTpye},method:"POST",success:function(e){var a=e.data||{};d.behaviorRes({type:"fkLogin",data:a}).then((function(e){r.loginSuc(a)}),(function(e){t.setData({msgTips:a.msg})})),t.setData({nextBtnDisabled:!1})}})},setLoadStatus:function(e){this.setData({hiddenLoading:e})},getUserInfo:function(e){var t=this;if(s.globalData.userInfo=e.detail.userInfo,"undefined"!==e.detail.userInfo)if("object"===o(e.detail.userInfo)){t.setLoadStatus(!1);var a=e.detail.encryptedData,i=e.detail.iv;r.getUnionId(a,i).then((function(e){n.setStorageSync("_UNIONID",e.unionid),n.setStorageSync("_EXIST_UNOINID",e.exist)})).then((function(a){t.setData({userInfo:e.detail.userInfo,hasUserInfo:!0}),t.toReg(),t.setLoadStatus(!0)})).catch((function(e){t.setLoadStatus(!0),r.log(e)}))}else t.setLoadStatus(!0);else t.setLoadStatus(!0)},toReg:function(){n.navigateTo({url:"/pages/opt/reg/reg"})},toFindPwd:function(){var e="/pages/opt/findpwd/findpwd",t=this.data.info.mobileNumber,a=this.data.info.acct;r.isMobile(t)?e+="?mobile="+t:r.isMobile(a)&&(e+="?mobile="+a),n.navigateTo({url:e})}}))}(__hacked)})),window.define("pages/optComp/optComp",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(a){a.global,a.Function,a.setTimeout,a.setInterval,a.setImmediate,a.requestAnimationFrame,a.swanGlobal,a.jsNative,a.masterManager,a._openSourceDebugInfo,a.System,a.Bdbox_aiapps_jsbridge,a.Bdbox_android_jsbridge,a.Bdbox_android_utils,a._naFile,a._naInteraction,a._naNetwork,a._naRouter,a._naSetting,a._naStorage,a._naUtils,a.globalThis,i();var o=e("../../utils/apiOpt.js");t.exports={_isExistPhone:function(e,t,a){o.request({url:"ajax/wxhome_h.jsp?cmd=isExistPhone",data:{mobile:e},method:"POST",success:function(e){var t=e.data||{};t.success?(t.existed||t.msg,!t.existed,t.existed):t.msg,o.check4Code(a.mobileCode)}})}}}(__hacked)})),window.define("pages/opt/reg/reg",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout;var a=t.setInterval,o=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i()),s=e("../../../utils/apiOpt.js"),r=e("../../optBehavior/optBehavior.js"),l=e("../../../utils/api");Page({data:{info:{mobileNumber:"",wxbindMobile:"",mobileCode:"",quickGet:!1,phoneExisted:!1,placeholderTxt:"请快捷获取手机号",mobileDisabled:!1,codeBtnDisabled:!0,codeBtnText:"获取短信码"},msgTips:"",nextBtnDisabled:!0,regBtnText:"开通帐号"},onLoad:function(e){l.logDog(7000237,15)},getPhoneNumber:function(e){var t=this,a=e.detail||{};if("getPhoneNumber:fail user deny"==e.detail.errMsg)s.log(e.detail.errMsg);else{var o=a.encryptedData,i=a.iv,r=n.getStorageSync("_SESSION_KEY_MD5"),l=n.getStorageSync("_OPENID");s.request({url:"ajax/wxhome_h.jsp?cmd=decryptDataAndBindMobile",data:{encryptedData:o,iv:i,sessionKey:r,open_id:l,userType:3},method:"POST",success:function(e){var a=e.data||{},o=t.data.info;if(a.success){var n=a.mobile||"",i=a.existed;o.mobileNumber=n,o.wxbindMobile=n,o.quickGet=!i,o.phoneExisted=i,o.placeholderTxt=i?"请输入手机号码":"请快捷获取手机号",o.mobileDisabled=!i,t.setData({info:o,msgTips:i?"手机号已注册，请返回绑定已有帐号":"",nextBtnDisabled:i}),s.setCookie("wx_mosign",a.mosign,3e5)}else t.setData({msgTips:a.msg})},fail:function(e){var a=e.data||{};t.setData({msgTips:a.msg})},complete:function(e){}})}},getPhoneNumberAndReg:function(e){l.logVisitDog(7000166,11);var t=this,a=e.detail||{};if("getPhoneNumber:fail user deny"==e.detail.errMsg)s.log(e.detail.errMsg);else{var o=a.encryptedData,i=a.iv,r=n.getStorageSync("_SESSION_KEY_MD5"),d=n.getStorageSync("_OPENID");t.setData({regBtnText:"请稍候..."}),s.request({url:"ajax/wxhome_h.jsp?cmd=decryptDataAndBindMobile",data:{encryptedData:o,iv:i,sessionKey:r,open_id:d,userType:3},method:"POST",success:function(e){var a=e.data||{},o=t.data.info;if(a.success){var n=a.mobile||"",i=a.existed;o.mobileNumber=n,o.wxbindMobile=n,o.quickGet=!i,o.phoneExisted=i,o.placeholderTxt=i?"请输入手机号码":"请快捷获取手机号",o.mobileDisabled=!i,t.setData({info:o,msgTips:i?"手机号 "+n+" 已注册，请前往登录":"",nextBtnDisabled:i,regBtnText:"开通帐号"}),s.setCookie("wx_mosign",a.mosign,3e5),i||t.reg()}else t.setData({msgTips:a.msg,regBtnText:"开通帐号"})},fail:function(e){var a=e.data||{};t.setData({msgTips:a.msg,regBtnText:"开通帐号"})},complete:function(e){}})}},mobileHandle:function(e){var t=e.detail.value;if(!this.data.info.quickGet){var a=!1,o="",n=!1;s.isMobile(t)?t!=this.data.info.wxbindMobile?(a=!0,this.isExistPhone(t)):(n=!0,o="手机号已注册，请返回绑定已有帐号"):11==t.length&&(o="请输入正确的11位手机号码"),a||this.setData({"info.codeBtnDisabled":!0,"info.phoneExisted":n,"info.mobileNumber":t,msgTips:o,nextBtnDisabled:!0})}},isExistPhone:function(e){var t=this;s.request({url:"ajax/wxhome_h.jsp?cmd=isExistPhone",data:{mobile:e},method:"POST",success:function(a){var o=a.data||{},n="",i=!1,r=!0,l=!0;o.success?(o.existed&&(n=o.msg),r=o.existed,i=o.existed):n=o.msg,l=!s.check4Code(t.data.info.mobileCode),t.setData({"info.codeBtnDisabled":r,"info.phoneExisted":i,"info.mobileNumber":e,msgTips:n,nextBtnDisabled:l})}})},getMobiCode:function(e){var t=this,a=t.data.info.mobileNumber;t.setData({"info.codeBtnDisabled":!0}),s.request({url:"ajax/wxhome_h.jsp?cmd=getMobileCode",data:{mobile:a,professionTpye:o.globalData.professionTpye},method:"POST",success:function(e){var a=e.data||{};a.success?(s.setCookie("bd_mesign",a.__MESIGN,3e6),t.countdown()):t.setData({msgTips:a.msg,"info.codeBtnDisabled":!1})}})},countdown:function(){var e=60,t=this,o="",n=!0,i=a((function(){e<=0?(clearInterval(i),o="获取短信码",n=!1):(e--,o=e+"s",n=!0),t.setData({"info.codeBtnText":o,"info.codeBtnDisabled":n,"info.mobileDisabled":n})}),1e3)},mobilecodeHandle:function(e){var t=e.detail.value,a=!0;a=!(4==t.length&&s.check4Code(t)&&s.isMobile(this.data.info.mobileNumber)&&!this.data.info.phoneExisted),this.setData({"info.mobileCode":t,nextBtnDisabled:a})},regHandler:function(e){var t=this,a=t.data.info;t.setData({nextBtnDisabled:!0}),s.request({url:"ajax/reg_h.jsp?cmd=regCorpNewSms",data:{acctType:1,cacct:a.mobileNumber,isBdapp:!0,verCode:a.mobileCode,bd_mesign:s.getCookie("bd_mesign"),bizType:4,_ta:o.globalData.ta},method:"POST",success:function(e){var o=e.data||{};r.behaviorRes({type:"reg",data:o}).then((function(e){a.quickGet?s.logDogType(4):s.logDogType(5),s.loginSuc(o)}),(function(e){t.setData({msgTips:o.msg})})),t.setData({nextBtnDisabled:!1})}})},reg:function(e){var t=this,a=t.data.info;t.setData({nextBtnDisabled:!0}),s.request({url:"ajax/wxhome_h.jsp?cmd=regCorp",data:{mobile:a.mobileNumber,mobileCode:a.mobileCode,professionTpye:o.globalData.professionTpye,quickGet:a.quickGet,openid:n.getStorageSync("_OPENID"),unionid:n.getStorageSync("_UNIONID"),wx_mesign:s.getCookie("wx_mesign"),wx_mosign:s.getCookie("wx_mosign"),_ta:o.globalData.ta,_kw:o.globalData._kw,_newUnion:o.globalData.newUnion},method:"POST",success:function(e){var o=e.data||{};r.behaviorRes({type:"reg",data:o}).then((function(e){a.quickGet?s.logDogType(4):s.logDogType(5),s.loginSuc(o)}),(function(e){t.setData({msgTips:o.msg})})),t.setData({nextBtnDisabled:!1})}})},toLogin:function(){var e="/pages/opt/login/login",t=this.data.info.mobileNumber;s.isMobile(t)&&(e+="?mobile="+t),n.navigateTo({url:e})}})}(__hacked)})),window.define("pages/opt/findpwd/findpwd",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout;var a=t.setInterval,o=(t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i()),s=e("../../../utils/apiOpt.js"),r=e("../../../utils/optMD5.js");Page({data:{stepList:[{name:"身份验证",step:1},{name:"重置密码",step:2},{name:"完成",step:3}],info:{mobileNumber:"",mobileCode:"",phoneExisted:!1,codeBtnDisabled:!0,codeBtnText:"获取短信码",pwd1:"",pwd2:"",isPwd1:!0,isPwd2:!0,sign:"",codeSign:"",code:""},step:1,msgTips:"",nextBtnDisabled:!0},onLoad:function(e){var t=o.globalData.professionTpye,a=e.mobile;t==s.Biz.SITE?s.logDog(4000087,771):t==s.Biz.HD?s.logDog(4000087,773):t==s.Biz.FLYER?s.logDog(4000087,775):t==s.Biz.PROGRAM&&s.logDog(4000087,777),s.isMobile(a)&&(this.setData({"info.mobileNumber":e.mobile}),this.isExistPhone(a))},mobileHandle:function(e){var t=e.detail.value;this.setData({"info.mobileNumber":t});var a=!1,o="";11==t.length&&(s.isMobile(t)?(a=!0,this.isExistPhone(t)):o="请输入正确的11位手机号码"),a||this.setData({"info.codeBtnDisabled":!0,"info.phoneExisted":!1,msgTips:o,nextBtnDisabled:!0})},isExistPhone:function(e){var t=this;s.request({url:"ajax/wxhome_h.jsp?cmd=isExistPhone",data:{mobile:e,checkWxBind:!0},method:"POST",success:function(a){var o=a.data||{},n="",i=!1,r=!0,l=!0;o.success?(r=!o.existed,(i=o.existed)||(n=o.msg)):n=o.msg,l=!s.check4Code(t.data.info.mobileCode),t.setData({"info.codeBtnDisabled":r,"info.phoneExisted":i,"info.mobileNumber":e,msgTips:n,nextBtnDisabled:l})}})},getMobiCode:function(e){var t=this,a=t.data.info.mobileNumber;t.setData({"info.codeBtnDisabled":!0}),s.request({url:"ajax/wxhome_h.jsp?cmd=getMobileCode",data:{mobile:a,professionTpye:o.globalData.professionTpye},method:"POST",success:function(e){var a=e.data||{};a.success?(s.setCookie("wx_mesign",a.__MESIGN,3e5),t.countdown()):t.setData({msgTips:a.msg,"info.codeBtnDisabled":!1})}})},countdown:function(){var e=60,t=this,o="",n=!0,i=a((function(){e<=0?(clearInterval(i),o="获取短信码",n=!1):(e--,o=e+"s",n=!0),t.setData({"info.codeBtnText":o,"info.codeBtnDisabled":n})}),1e3)},mobilecodeHandle:function(e){var t=e.detail.value,a=!0;a=!(4==t.length&&s.check4Code(t)&&s.isMobile(this.data.info.mobileNumber)&&this.data.info.phoneExisted),this.setData({"info.mobileCode":t,nextBtnDisabled:a})},nextStep:function(e){var t=this,a=t.data.info;t.setData({nextBtnDisabled:!0}),s.request({url:"ajax/wxhome_h.jsp?cmd=checkMobileCode",data:{mobile:a.mobileNumber,mobileCode:a.mobileCode,professionTpye:o.globalData.professionTpye,wx_mesign:s.getCookie("wx_mesign")},method:"POST",success:function(e){var a=e.data||{};a.success?t.setData({"info.sign":a.sign,"info.codeSign":a.codeSign,"info.code":a.code,step:2,msgTips:"",nextBtnDisabled:!0}):t.setData({msgTips:a.msg,nextBtnDisabled:!1})}})},eyes1Handle:function(){var e=!this.data.info.isPwd1,t=this.data.info.pwd1;this.setData({"info.isPwd1":e,"info.pwd1":t})},eyes2Handle:function(){var e=!this.data.info.isPwd2,t=this.data.info.pwd2;this.setData({"info.isPwd2":e,"info.pwd2":t})},pwd1Handle:function(e){var t=e.detail.value,a=!1;t||this.data.info.pwd2||(a=!0),this.setData({"info.pwd1":t,nextBtnDisabled:a})},pwd2Handle:function(e){var t=e.detail.value,a=!1;t||this.data.info.pwd1||(a=!0),this.setData({"info.pwd2":t,nextBtnDisabled:a})},checkPwd:function(){var e=this.data.info.pwd1,t=this.data.info.pwd2,a="",o=!1;if(e)if(e.length<6||e.length>20)a="密码由6-20个字符组成，区分大小写";else if(t)if(e!=t)a="密码和确认密码不一致";else{var n=0;/\d/.test(e)&&n++,(/[a-z]/.test(e)||/[A-Z]/.test(e))&&n++,(/\W/.test(e)||/[_]/.test(e))&&n++,n<2?a="密码由6到20位数字+字母或符号组成":(a="",o=!0)}else a="请输入确认密码";else a="请输入密码";return this.setData({msgTips:a}),o},setPwd:function(){var e=this,t=e.data.info;this.checkPwd()&&(e.setData({nextBtnDisabled:!0}),s.request({url:"ajax/wxhome_h.jsp?cmd=setPwd",data:{mobile:t.mobileNumber,pwd:r.hexMD5(t.pwd1),sign:t.sign,codeSign:t.codeSign,code:t.code,professionTpye:o.globalData.professionTpye},method:"POST",success:function(t){var a=t.data||{};a.success?e.setData({step:3}):e.setData({msgTips:a.msg,nextBtnDisabled:!0}),e.setData({nextBtnDisabled:!1})}}))},toLogin:function(){var e="/pages/opt/login/login",t=this.data.info.mobileNumber;s.isMobile(t)&&(e+="?mobile="+t),n.navigateTo({url:e})}})}(__hacked)})),window.define("pages/videoDetail/videoDetail",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;var a=e("../../libs/wxParse/wxParse.js"),o=e("../../utils/api"),s=(e("../../utils/util"),e("../../libs/scripts/common"));i();Page(Object.assign({},s,{data:{videoInfo:{},videoInfoContent:"",defaultPoster:"http://qz.faisys.com/image/wxImage/wxMaterial/default_poster.jpg",isLoading:!0},onReady:function(){},onLoad:function(e){var t=e.id;this.setData({id:t}),this.getWXAppInfo(this)},afterGetWXAppInfo:function(e){i().globalData.openId?e.initPageDetailInfo(e):n.login({success:function(t){if("login:ok"==t.errMsg){var a=t.code;o.getUserInfoByCode(a).then((function(t){e.initPageDetailInfo(e)}))}},fail:function(e){}})},initPageDetailInfo:function(e){var t=e.data.id;o.getVideoInfo(t).then((function(t){if(t){var o=t.video||{},n=o.content,i=!0;n&&(a.wxParse("videoInfoContent","html",n,e,5,!0),i=!1);e.setData({footerData:{share:{show:!0,text:""}},videoInfo:o,videoInfoEmpty:i})}})).catch((function(e){console.log(e)})).finally((function(){e.setData({isLoading:!1})}))},onPullDownRefresh:function(e){n.stopPullDownRefresh();var t="/pages/videoDetail/videoDetail?id="+this.data.id;o.getWXAppInfo().then((function(){n.redirectTo({url:t})})),i().globalData.isManage&&this.setData({showActionSheet:!1})},onShareAppMessage:function(e){"menu"==e.from||e.from;var t=this.data.videoInfo.name||"视频详情",a=this.data.videoInfo.postFilePath||this.data.defaultPoster,o=this.beforeShareAppMessage({params:"id="+this.data.id}),n={title:t,imageUrl:a};return Object.assign(n,o)}}))}(__hacked)})),window.define("pages/videoList/videoList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,i();var a=e("../../utils/api"),o=e("../../libs/scripts/common"),s=e("../../libs/scripts/login.js").initUserInfo;Page(Object.assign({},o,{data:{groupInfoMap:{},currentGroupId:0,showAllCateFlag:!1,scrollTarget:null,animationData:{},isBan:!1,isMember:!1,setting:{bp:0,bml:1}},switchNav:function(e){var t=this,a=e.target.dataset.gid;void 0!==a&&(this.setData({currentGroupId:a}),this.data.showAllCateFlag&&(this.closeCateDrawer(),this.setData({scrollTarget:"nav"+a})),0!=a&&0===this.data.groupInfoMap[a].length&&this.getVideoListByGroupId(a,0).then((function(e){if(e&&(!e.videoList||0!==e.videoList.length)){var o={};o["groupInfoMap."+a]=e.videoList,t.setData(o)}})))},showAllCate:function(){this.setData({showAllCateFlag:!0})},closeCateDrawer:function(){this.setData({showAllCateFlag:!1})},syncdata:function(e){var t=e.detail.type,a=e.detail.value;if("globalColor"==t)this.setData({globalColor:a}),i().globalData.globalColor=a;else if("sidePhoneOpen"==t)this.setData({showPhone:a});else if("colName"==t){2==this.data.colId&&(this.setData({name:a}),n.setNavigationBarTitle({title:a}))}else"phone"==t&&(i().globalData.wxappInfo.cusService.phone=a)},onLoad:function(e){var t=this;i().globalData.wxappInfo;this.getWXAppInfo(this),a.getWXAppColModuleInfo(9).then((function(e){if(e){var a=e.name||"视频列表";n.setNavigationBarTitle({title:a}),t.setData({title:a,setting:e.setting})}})),this.init()},init:function(){var e=this;i().globalData.openId?e.getVideoListAndGroupData(0):s(!0,(function(){e.getVideoListAndGroupData(0)}))},getVideoListAndGroupData:function(e){var t=this,o=this.getVideoListData(e),n=a.issueRequest({url:{path:"ajax/video_h.jsp",cmd:"getVideoGroupList"}});return Promise.all([o,n]).then((function(e){if(e){var a=e[0].videoList,o=e[1].videoGroupList;o.length>0&&o.unshift({id:0,name:"全部"});var n=t.data.groupInfoMap;n[0]=a;for(var i=1;i<o.length;i++)n[o[i].id]=[];t.setData({groupList:o,groupInfoMap:n})}}))},getVideoListData:function(e){return a.issueRequest({url:{path:"appAjax/media.jsp",cmd:"getVideoList"},data:{from:1,openId:i().globalData.openId,type:1,index:e}})},getVideoListByGroupId:function(e,t){return a.issueRequest({url:{path:"appAjax/media.jsp",cmd:"getVideoListByGroupId"},data:{from:1,openId:i().globalData.openId,index:t,groupId:e}})},onPullDownRefresh:function(){var e=this.data.currentGroupId,t=this;n.showLoading({title:"加载中",mask:!0}),i().globalData.isManage&&this.setData({showActionSheet:!1});var o=void 0;o=0===e?this.getVideoListData(0):this.getVideoListByGroupId(e,0),a.getWXAppInfo().then((function(){t.initWXAppInfo(t)})),o.then((function(a){if(!a||a.videoList&&0===a.videoList.length)return n.hideLoading(),void n.stopPullDownRefresh();var o={};o["groupInfoMap."+e]=a.videoList,t.setData(o,(function(){n.hideLoading(),n.stopPullDownRefresh()}))}))},onShareAppMessage:function(){var e=this.data.title,t=this.beforeShareAppMessage(),a={title:e};return Object.assign(a,t)},onReachBottom:function(e){var t=this,a=this.data.currentGroupId,o=this.data.groupInfoMap[a],n=o.length;if(0!=n){(0===a?this.getVideoListData(n):this.getVideoListByGroupId(a,n)).then((function(e){if(e&&(!e.videoList||0!==e.videoList.length)){var n={};n["groupInfoMap."+a]=o.concat(e.videoList),t.setData(n)}}))}}}))}(__hacked)})),window.define("pages/myQuotation/myQuotation",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function a(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var o=e("../../libs/scripts/common"),s=(e("../../utils/api"),e("../../utils/util")),r=e("../../libs/scripts/utils.js");i();Page(Object.assign({},o,{data:{index:0,totalForm:0,currentForm:0,formList:[],loadedPage:{from:1,to:-1}},onLoad:function(e){this._query=e;var t=this._query.formTitle;n.setNavigationBarTitle({title:t||"我的报价"}),this.getWXAppInfo(this)},afterGetWXAppInfo:function(){var e=this;this.getMyQuotation(0).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.formList,o=t.total;if(a&&a.length){var n=e._query.page;(n=~~n)&&o>=n?e.setData({index:n-1,formList:a,totalForm:o,currentForm:a.length?a[n-1]:{},loadedPage:{from:0,to:0+a.length-1}}):e.setData({index:0,formList:a,totalForm:o,currentForm:a.length?a[0]:{},loadedPage:{from:0,to:a.length-1}})}else e._latelyFetchEmptyList=!0}))},getMyQuotation:function(e){return r.request({url:{path:"appAjax/mypage.jsp",cmd:"getMyQuotationList"},data:{start:e},openId:!0}).then((function(e){if(!e||!e.success)throw new Error(e.msg);return{formList:e.quotationResultList,total:e.totalSize}})).catch((function(e){console.error(e)})).finally((function(){n.hideLoading()}))},loadNextFormList:function(e){var t=this;return this._latelyFetchEmptyList?Promise.resolve():this.getMyQuotation(e).then((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o.formList;n&&n.length?(n.forEach((function(e){e.createTime&&(e.createHumanTime=s.formatTime(new Date(e.createTime)))})),t.setData({formList:[].concat(a(t.data.formList),a(n)),loadedPage:{from:t.data.loadedPage.from,to:e+n.length-1}})):t._latelyFetchEmptyList=!0}))},pageChange:function(e){var t=this,a=e.detail,o=this.data.loadedPage;if(a&&this.data.totalForm>=a){o.to-a<=3&&this.data.totalForm>o.to?this.loadNextFormList(o.to+1).then((function(){t.setData({index:a-1,currentForm:t.data.formList[a-1]}),n.pageScrollTo({scrollTop:0})})):(this.setData({index:a-1,currentForm:this.data.formList[a-1]}),n.pageScrollTo({scrollTop:0}))}}}))}(__hacked)})),window.define("pages/infoSysList/infoSysList",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function,t.setTimeout,t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis;function a(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}i();var o=e("../../utils/api"),s=e("../../libs/scripts/common"),r=(e("../../libs/scripts/login.js").initUserInfo,e("../../libs/scripts/col"));Page(Object.assign({},s,r,{data:{infoSysDetailList:[],infoSystemParameterList:[],moduleStyle:0,moreList:[],thirdList:[],start:0,sortBy:0,selectList:[],minPrice:"",maxPrice:"",type:0,searchKeyword:[],showPanel:!1,showSort:!1,isInit:!1,initList:[]},onLoad:function(e){i().globalData;var t=e.sysId;this.setData({sysId:t}),this.getWXAppInfo(this),this.getInfoSysDetailList()},getInfoSysDetailList:function(e){var t=this,a=[],n=this.data.isInit;this.data.infoSystemParameterList.forEach((function(e){e.content.forEach((function(t){t.checked&&a.push({pid:e.id,cid:t.id})}))}));var i={sortBy:this.data.sortBy,sysId:this.data.sysId,start:e||this.data.start,minPrice:this.data.minPrice,maxPrice:this.data.maxPrice,searchKeyword:JSON.stringify(a)};return o.issueRequest({url:{path:"appAjax/infoSystem.jsp",cmd:"getInfoSysDetailList"},data:i,method:"POST"}).then((function(a){if(!a.success)throw Error(a.msg);var o=t.data.infoSysDetailList,i=a.infoSysDetailList,s=n?t.data.infoSystemParameterList:a.infoSystemParameterList,r=a.sysPageSetting.s,l=s.slice(0,3),d=s.slice(3);t.setData({infoSysDetailList:e?o.concat(i):i,infoSystemParameterList:s,moduleStyle:r,thirdList:l,moreList:d,isInit:!0})})).catch((function(e){console.error(e.message)}))},gotoDetail:function(e){var t=this.data.sysId,a=e.currentTarget.dataset.lid;a&&n.navigateTo({url:"/pages/infoSysDetail/infoSysDetail?sysId="+t+"&id="+a})},clickSort:function(){this.showSort=!this.showSort,this.handlePanel(2)},getParameterPanel:function(){var e=this.parameterPanel?this.parameterPanel:this.selectComponent("#parameterPanel");return this.parameterPanel=e,this.parameterPanel},showPanel:function(e){var t=this.selectComponent("#parameterPanel");t&&t.showPanel(e)},hidePanel:function(){var e=this.selectComponent("#parameterPanel");e&&e.hideshow()},getPanelStatus:function(){return this.selectComponent("#parameterPanel").data.show},clickItem:function(e){var t=e.currentTarget.dataset.index,a=this.data.infoSystemParameterList[t],o=2==a.type?0:1,n=this.data.selectList;this.setData({initList:n}),this.handlePanel(o,a)},handlePanel:function(e,t){var a=this.data.type,o=this.getParameterPanel(),n=o.data.list,i=this.data.initList.length>0?this.data.initList[0].id:0;o&&(o.data.show?a==e&&0!==a?1==a&&1==e?n.length>0&&i==t.id?this.hidePanel():this.setData({selectList:[t]}):this.hidePanel():this.setData({type:e}):(this.setData({type:e}),1==e&&this.setData({selectList:[t]}),this.showPanel()))},clickMore:function(){var e=this.data.infoSystemParameterList.slice(3);this.setData({selectList:[].concat(a(e))}),this.handlePanel(1)},changeSort:function(e){var t=parseInt(e.detail);this.setData({sortBy:t}),this.getInfoSysDetailList(),this.hideshow()},changePrice:function(e){var t=e.detail.minPrice,a=e.detail.maxPrice;this.setData({minPrice:t,maxPrice:a}),this.getInfoSysDetailList(),this.hidePanel()},changeList:function(e){var t,a=e.detail,o=this.data.infoSystemParameterList,n=a.map((function(e){return e.id}));o.forEach((function(e){var t=n.indexOf(e.id);if(-1!==t){var o=a[t].content;e.content.forEach((function(e){for(var t=0;t<o.length;t++)o[t].id==e.id&&(e.checked=o[t].checked)}))}})),t=a,this.setData({infoSystemParameterList:o,selectList:t}),this.getInfoSysDetailList(),this.hidePanel()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){this.setData({start:0}),this.getInfoSysDetailList(),n.stopPullDownRefresh()},onReachBottom:function(){var e=this.data.infoSysDetailList.length;this.getInfoSysDetailList(e)},onShareAppMessage:function(){}}))}(__hacked)})),window.define("app",(function(e,t,a,o,n,i,s,r,l,d,c,u,p,g,f,h,m,b,v){!function(t){t.global,t.Function;var a=t.setTimeout,o=(t.setInterval,t.setImmediate,t.requestAnimationFrame,t.swanGlobal,t.jsNative,t.masterManager,t._openSourceDebugInfo,t.System,t.Bdbox_aiapps_jsbridge,t.Bdbox_android_jsbridge,t.Bdbox_android_utils,t._naFile,t._naInteraction,t._naNetwork,t._naRouter,t._naSetting,t._naStorage,t._naUtils,t.globalThis,e("/libs/toast/toast")),i=e("/utils/api"),s=e("/utils/util"),r=e("/utils/apiOpt.js"),l=e("/libs/scripts/login");function d(e){var t=this.globalData,a=t.openId;function o(e,a){if(e){getCurrentPages()[0].route;var o={openId:e,from:1};a&&(o.sourceOpenId=a),i.issueRequest({url:{path:"appAjax/wxAppConnectionVisitor.jsp",cmd:"addVisitor"},data:o}).then((function(e){e.success&&(t.visitorId=e.visitorId)}))}}a?o(a,e):l.initUserInfo(!0,(function(a){a&&t.openId&&o(t.openId,e)}))}App({globalData:{isIphoneX:!1,isCusTabBarShow:!1,extConfigData:{},wxappInfo:{},wxAppRequest:i,userInfo:null,professionTpye:r.Biz.PROGRAM,labelInfo:{},_hasNewcomerPopup:!1,_todayPopupTime:"",_hasGetLocationPopup:!1,ta:7303},onShow:function(e){(e._ta||e.query._ta)&&(this.globalData.ta=e._ta||e.query._ta),e.webViewUrl&&(this.globalData.shareWebViewUrl=e.webViewUrl)},onLaunch:function(e){var t=n.getExtConfigSync();this.globalData.extConfigData=t.extConfig,n.getSystemInfo({success:function(e){var t=0;s.compareVersion(e.SDKVersion,"1.9.6")>=0&&(t=1),i.logDog(7000085,t),i.logDog(7000293,1)}});var a=n.getSystemInfoSync();!a.model||-1==a.model.search("iPhone X")&&-1==a.model.search("iPhone 11")||(this.globalData.isIphoneX=!0);try{e.path&&!n.getStorageSync("_hasVisited")&&("pages/index/index"==e.path?i.logDog(7000134,3):"pages/card/card"==e.path?i.logDog(7000134,0):"pages/newsDetail/newsDetail"==e.path?i.logDog(7000134,1):"pages/bookDetail/bookDetail"==e.path?i.logDog(7000134,2):i.logDog(7000134,4),this.globalData.firstVisitPath=e.path,n.setStorageSync("_hasVisited",!0))}catch(e){console.log("static visitPath exception")}var o=e.scene;o&&i.logDog(7000135,o),e.webViewUrl&&(this.globalData.shareWebViewUrl=e.webViewUrl);e.query;d.call(this,e.query.sourceOpenId)},onHide:function(){this.globalData._hasGetLocationPopup=!1},showOemExpired:function(){var e=this;this.globalData._isShowOemExpired||a((function(){n.showModal({title:"服务到期，停止访问",content:"请联系该小程序管理员续费升级",showCancel:!1,confirmText:"确 定",success:function(){e.globalData._isShowOemExpired=!1,e.showOemExpired()},complete:function(){e.globalData._isShowOemExpired=!0}})}),1e3)},showVisitLimitFunc:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){n.showModal({title:"访问人数已超过版本限制",content:"请联系该小程序的管理员升级版本",showCancel:!1,confirmText:"",success:function(e){showVisitLimitFunc()}})})),ToastPannel:o.ToastPannel})}(__hacked)})),window.__swanRoute="app",window.usingComponents=[],window.usingPluginComponents=[],require("app"),window.__swanRoute="pages/infoSysList/parameterPanel/parameterPanel",window.usingComponents=[],window.usingPluginComponents=[],require("pages/infoSysList/parameterPanel/parameterPanel"),window.__swanRoute="components/rate/rate",window.usingComponents=[],window.usingPluginComponents=[],require("components/rate/rate"),window.__swanRoute="components/pagination/pagination",window.usingComponents=[],window.usingPluginComponents=[],require("components/pagination/pagination"),window.__swanRoute="components/entry/entry",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("components/entry/entry"),window.__swanRoute="components/toast/toast",window.usingComponents=[],window.usingPluginComponents=[],require("components/toast/toast"),window.__swanRoute="components/popup/popup",window.usingComponents=[],window.usingPluginComponents=[],require("components/popup/popup"),window.__swanRoute="components/templateBar/templateBar",window.usingComponents=["components/popup/popup","components/toast/toast"],window.usingPluginComponents=[],require("components/templateBar/templateBar"),window.__swanRoute="components/techSupport/techSupport",window.usingComponents=[],window.usingPluginComponents=[],require("components/techSupport/techSupport"),window.__swanRoute="components/sideBar/sideBar",window.usingComponents=[],window.usingPluginComponents=[],require("components/sideBar/sideBar"),window.__swanRoute="components/videoCard/videoCard",window.usingComponents=[],window.usingPluginComponents=[],require("components/videoCard/videoCard"),window.__swanRoute="components/tabBar/tabBar",window.usingComponents=[],window.usingPluginComponents=[],require("components/tabBar/tabBar"),window.__swanRoute="components/loading/loading",window.usingComponents=[],window.usingPluginComponents=[],require("components/loading/loading"),window.__swanRoute="components/detailFooter/detailFooter",window.usingComponents=[],window.usingPluginComponents=[],require("components/detailFooter/detailFooter"),window.__swanRoute="components/dialog/dialog",window.usingComponents=[],window.usingPluginComponents=[],require("components/dialog/dialog"),window.__swanRoute="pages/myCoupon/couponItem/couponItem",window.usingComponents=[],window.usingPluginComponents=[],require("pages/myCoupon/couponItem/couponItem"),window.__swanRoute="components/modules/messageCompon/messageCompon",window.usingComponents=["components/toast/toast"],window.usingPluginComponents=[],require("components/modules/messageCompon/messageCompon"),window.__swanRoute="components/modules/officialAccount/officialAccount",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/officialAccount/officialAccount"),window.__swanRoute="components/modules/cardList/cardList",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/cardList/cardList"),window.__swanRoute="components/modules/infoSys/infoSys",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/infoSys/infoSys"),window.__swanRoute="components/modules/baseModule/baseModule",window.usingComponents=["components/loading/loading"],window.usingPluginComponents=[],require("components/modules/baseModule/baseModule"),window.__swanRoute="components/modules/video/video",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/video/video"),window.__swanRoute="components/modules/fileDownload/fileItem/fileItem",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/fileDownload/fileItem/fileItem"),window.__swanRoute="components/multiplePicker/multiplePicker",window.usingComponents=[],window.usingPluginComponents=[],require("components/multiplePicker/multiplePicker"),window.__swanRoute="components/areaPicker/areaPicker",window.usingComponents=["components/multiplePicker/multiplePicker"],window.usingPluginComponents=[],require("components/areaPicker/areaPicker"),window.__swanRoute="components/calendar/calendar",window.usingComponents=[],window.usingPluginComponents=[],require("components/calendar/calendar"),window.__swanRoute="components/modules/form/areaPickerButton/areaPickerButton",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/form/areaPickerButton/areaPickerButton"),window.__swanRoute="components/modules/form/formMap/formMap",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/form/formMap/formMap"),window.__swanRoute="components/modules/form/form",window.usingComponents=["components/modules/baseModule/baseModule","components/rate/rate","components/modules/form/formMap/formMap","components/modules/form/areaPickerButton/areaPickerButton"],window.usingPluginComponents=[],require("components/modules/form/form"),window.__swanRoute="pages/myOrder/orderItem/orderItem",window.usingComponents=[],window.usingPluginComponents=[],require("pages/myOrder/orderItem/orderItem"),window.__swanRoute="components/badge/badge",window.usingComponents=[],window.usingPluginComponents=[],require("components/badge/badge"),window.__swanRoute="components/inputNumber/inputNumber",window.usingComponents=[],window.usingPluginComponents=[],require("components/inputNumber/inputNumber"),window.__swanRoute="components/couponPanel/couponPanel",window.usingComponents=[],window.usingPluginComponents=[],require("components/couponPanel/couponPanel"),window.__swanRoute="pages/bookDetail/serviceStandardPanel/serviceStandardPanel",window.usingComponents=[],window.usingPluginComponents=[],require("pages/bookDetail/serviceStandardPanel/serviceStandardPanel"),window.__swanRoute="pages/card/modalPopup/modalPopup",window.usingComponents=["components/popup/popup"],window.usingPluginComponents=[],require("pages/card/modalPopup/modalPopup"),window.__swanRoute="components/modules/live/live",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/live/live"),window.__swanRoute="components/modules/counter/counter",window.usingComponents=["components/modules/baseModule/baseModule","components/popup/popup"],window.usingPluginComponents=[],require("components/modules/counter/counter"),window.__swanRoute="components/modules/fileDownload/fileDownload",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/fileDownload/fileItem/fileItem"],window.usingPluginComponents=[],require("components/modules/fileDownload/fileDownload"),window.__swanRoute="components/modules/videoList/videoList",window.usingComponents=["components/modules/baseModule/baseModule","components/videoCard/videoCard"],window.usingPluginComponents=[],require("components/modules/videoList/videoList"),window.__swanRoute="components/modules/coupon/coupon",window.usingComponents=["components/modules/baseModule/baseModule","components/toast/toast"],window.usingPluginComponents=[],require("components/modules/coupon/coupon"),window.__swanRoute="components/modules/text/text",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/text/text"),window.__swanRoute="components/modules/bdAdComponent/bdAdComponent",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/bdAdComponent/bdAdComponent"),window.__swanRoute="components/modules/query/query",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/query/query"),window.__swanRoute="components/modules/audioList/audioList",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/audioList/audioList"),window.__swanRoute="components/modules/articleClass/articleClass",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/articleClass/articleClass"),window.__swanRoute="components/modules/onlineVoting/onlineVoting",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/onlineVoting/onlineVoting"),window.__swanRoute="components/modules/messageBoard/messageBoard",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/messageCompon/messageCompon"],window.usingPluginComponents=[],require("components/modules/messageBoard/messageBoard"),window.__swanRoute="components/modules/map/map",window.usingComponents=["components/modules/baseModule/baseModule"],window.usingPluginComponents=[],require("components/modules/map/map"),window.__swanRoute="components/modules/marquee/marquee",window.usingComponents=[],window.usingPluginComponents=[],require("components/modules/marquee/marquee"),window.__swanRoute="components/newcomerPopup/newcomerPopup",window.usingComponents=[],window.usingPluginComponents=[],require("components/newcomerPopup/newcomerPopup"),window.__swanRoute="pages/index/toolTip/toolTip",window.usingComponents=[],window.usingPluginComponents=[],require("pages/index/toolTip/toolTip"),window.__swanRoute="pages/index/cardEntrance/cardEntrance",window.usingComponents=[],window.usingPluginComponents=[],require("pages/index/cardEntrance/cardEntrance"),window.__swanRoute="pages/index/index",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/video/video","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","pages/index/cardEntrance/cardEntrance","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","pages/index/toolTip/toolTip","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/newcomerPopup/newcomerPopup","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/index/index"),window.__swanRoute="pages/cusCol/cusCol",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/cusCol/cusCol"),window.__swanRoute="pages/cusCol1/cusCol1",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/cusCol1/cusCol1"),window.__swanRoute="pages/cusCol2/cusCol2",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/cusCol2/cusCol2"),window.__swanRoute="pages/cusCol3/cusCol3",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/cusCol3/cusCol3"),window.__swanRoute="pages/cusCol4/cusCol4",window.usingComponents=["components/modules/baseModule/baseModule","components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/modules/marquee/marquee","components/modules/map/map","components/modules/messageBoard/messageBoard","components/modules/form/form","components/calendar/calendar","components/modules/onlineVoting/onlineVoting","components/dialog/dialog","components/modules/articleClass/articleClass","components/modules/audioList/audioList","components/modules/query/query","components/modules/bdAdComponent/bdAdComponent","components/entry/entry","components/templateBar/templateBar","components/modules/text/text","components/modules/coupon/coupon","components/areaPicker/areaPicker","components/modules/videoList/videoList","components/modules/fileDownload/fileDownload","components/modules/counter/counter","components/modules/live/live"],window.usingPluginComponents=[],require("pages/cusCol4/cusCol4"),window.__swanRoute="pages/card/card",window.usingComponents=["components/techSupport/techSupport","components/detailFooter/detailFooter","pages/card/modalPopup/modalPopup","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/card/card"),window.__swanRoute="pages/book/book",window.usingComponents=["components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/templateBar/templateBar","components/entry/entry","components/loading/loading"],window.usingPluginComponents=[],require("pages/book/book"),window.__swanRoute="pages/bookDetail/bookDetail",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/detailFooter/detailFooter","components/toast/toast","components/calendar/calendar","components/templateBar/templateBar","components/entry/entry","components/dialog/dialog","components/couponPanel/couponPanel","components/modules/fileDownload/fileItem/fileItem","pages/bookDetail/serviceStandardPanel/serviceStandardPanel"],window.usingPluginComponents=[],require("pages/bookDetail/bookDetail"),window.__swanRoute="pages/orderDetail/orderDetail",window.usingComponents=["components/sideBar/sideBar","components/toast/toast","components/templateBar/templateBar","components/entry/entry","components/couponPanel/couponPanel","components/dialog/dialog","components/inputNumber/inputNumber","components/calendar/calendar"],window.usingPluginComponents=[],require("pages/orderDetail/orderDetail"),window.__swanRoute="pages/bookSuc/bookSuc",window.usingComponents=["components/sideBar/sideBar","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/bookSuc/bookSuc"),window.__swanRoute="pages/user/user",window.usingComponents=["components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/badge/badge","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/user/user"),window.__swanRoute="pages/myOrder/myOrder",window.usingComponents=["components/sideBar/sideBar","components/toast/toast","pages/myOrder/orderItem/orderItem","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/myOrder/myOrder"),window.__swanRoute="pages/news/news",window.usingComponents=["components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/entry/entry","components/templateBar/templateBar"],window.usingPluginComponents=[],require("pages/news/news"),window.__swanRoute="pages/newsDetail/newsDetail",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/templateBar/templateBar","components/entry/entry","components/modules/fileDownload/fileItem/fileItem"],window.usingPluginComponents=[],require("pages/newsDetail/newsDetail"),window.__swanRoute="pages/err/err",window.usingComponents=[],window.usingPluginComponents=[],require("pages/err/err"),window.__swanRoute="pages/cardList/cardList",window.usingComponents=["components/techSupport/techSupport","components/tabBar/tabBar","components/sideBar/sideBar","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/cardList/cardList"),window.__swanRoute="pages/searchPage/searchPage",window.usingComponents=["components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/searchPage/searchPage"),window.__swanRoute="pages/infoSysDetail/infoSysDetail",window.usingComponents=["components/modules/form/form","components/calendar/calendar","components/sideBar/sideBar","components/detailFooter/detailFooter","components/techSupport/techSupport","components/entry/entry","components/templateBar/templateBar","components/areaPicker/areaPicker","components/dialog/dialog","components/modules/fileDownload/fileItem/fileItem"],window.usingPluginComponents=[],require("pages/infoSysDetail/infoSysDetail"),window.__swanRoute="pages/advertising/advertising",window.usingComponents=["components/modules/video/video","components/modules/infoSys/infoSys","components/modules/cardList/cardList","components/modules/officialAccount/officialAccount","components/sideBar/sideBar","components/tabBar/tabBar","components/techSupport/techSupport","components/toast/toast","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/advertising/advertising"),window.__swanRoute="pages/messageBoard/messageBoard",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/tabBar/tabBar","components/modules/messageCompon/messageCompon","components/entry/entry","components/templateBar/templateBar"],window.usingPluginComponents=[],require("pages/messageBoard/messageBoard"),window.__swanRoute="pages/webview/webview",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webview/webview"),window.__swanRoute="pages/webview1/webview1",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webview1/webview1"),window.__swanRoute="pages/webview2/webview2",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webview2/webview2"),window.__swanRoute="pages/webview3/webview3",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webview3/webview3"),window.__swanRoute="pages/webview4/webview4",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webview4/webview4"),window.__swanRoute="pages/myOrderDetail/myOrderDetail",window.usingComponents=[],window.usingPluginComponents=[],require("pages/myOrderDetail/myOrderDetail"),window.__swanRoute="pages/voteResult/voteResult",window.usingComponents=["components/sideBar/sideBar","components/loading/loading"],window.usingPluginComponents=[],require("pages/voteResult/voteResult"),window.__swanRoute="pages/voteDetail/voteDetail",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/detailFooter/detailFooter","components/dialog/dialog","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/voteDetail/voteDetail"),window.__swanRoute="pages/audioDetail/audioDetail",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/templateBar/templateBar","components/entry/entry"],window.usingPluginComponents=[],require("pages/audioDetail/audioDetail"),window.__swanRoute="pages/audioList/audioList",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/tabBar/tabBar"],window.usingPluginComponents=[],require("pages/audioList/audioList"),window.__swanRoute="pages/queryResult/queryResult",window.usingComponents=["components/sideBar/sideBar","components/dialog/dialog","components/techSupport/techSupport"],window.usingPluginComponents=[],require("pages/queryResult/queryResult"),window.__swanRoute="pages/webProgram/webProgram",window.usingComponents=[],window.usingPluginComponents=[],require("pages/webProgram/webProgram"),window.__swanRoute="pages/myCoupon/myCoupon",window.usingComponents=["pages/myCoupon/couponItem/couponItem","components/dialog/dialog","components/loading/loading"],window.usingPluginComponents=[],require("pages/myCoupon/myCoupon"),window.__swanRoute="pages/latestInformation/latestInformation",window.usingComponents=["components/sideBar/sideBar","components/detailFooter/detailFooter","components/techSupport/techSupport"],window.usingPluginComponents=[],require("pages/latestInformation/latestInformation"),window.__swanRoute="pages/myForm/myForm",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/pagination/pagination","components/rate/rate"],window.usingPluginComponents=[],require("pages/myForm/myForm"),window.__swanRoute="pages/templateCenter/templateCenter",window.usingComponents=["components/popup/popup","components/entry/entry"],window.usingPluginComponents=[],require("pages/templateCenter/templateCenter"),window.__swanRoute="pages/opt/login/login",window.usingComponents=[],window.usingPluginComponents=[],require("pages/opt/login/login"),window.__swanRoute="pages/optComp/optComp",window.usingComponents=[],window.usingPluginComponents=[],require("pages/optComp/optComp"),window.__swanRoute="pages/opt/reg/reg",window.usingComponents=[],window.usingPluginComponents=[],require("pages/opt/reg/reg"),window.__swanRoute="pages/opt/findpwd/findpwd",window.usingComponents=[],window.usingPluginComponents=[],require("pages/opt/findpwd/findpwd"),window.__swanRoute="pages/videoDetail/videoDetail",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/detailFooter/detailFooter","components/templateBar/templateBar","components/entry/entry","components/videoCard/videoCard","components/loading/loading"],window.usingPluginComponents=[],require("pages/videoDetail/videoDetail"),window.__swanRoute="pages/videoList/videoList",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/tabBar/tabBar","components/videoCard/videoCard"],window.usingPluginComponents=[],require("pages/videoList/videoList"),window.__swanRoute="pages/myQuotation/myQuotation",window.usingComponents=["components/sideBar/sideBar","components/techSupport/techSupport","components/templateBar/templateBar","components/entry/entry","components/pagination/pagination","components/rate/rate"],window.usingPluginComponents=[],require("pages/myQuotation/myQuotation"),window.__swanRoute="pages/infoSysList/infoSysList",window.usingComponents=["pages/infoSysList/parameterPanel/parameterPanel"],window.usingPluginComponents=[],require("pages/infoSysList/infoSysList");
//# sourceMappingURL=D:\output\app.js.map